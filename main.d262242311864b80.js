(self.webpackChunkorgChart=self.webpackChunkorgChart||[]).push([[179],{872:Ai=>{var o,s=function(o,l){var u=this;if(("string"==typeof o||o instanceof String)&&(o=document.querySelector(o)),this.element=o,this.config=s.mergeDeep(s._defaultConfig(l),l),this._layoutConfigs={base:{orientation:this.config.orientation,levelSeparation:this.config.levelSeparation,mixedHierarchyNodesSeparation:this.config.mixedHierarchyNodesSeparation,assistantSeparation:this.config.assistantSeparation,subtreeSeparation:this.config.subtreeSeparation,siblingSeparation:this.config.siblingSeparation,layout:this.config.layout,columns:this.config.columns,collapse:this.config.collapse,partnerNodeSeparation:this.config.partnerNodeSeparation}},this.config.tags)for(var d in this.config.tags){var h=this.config.tags[d];null!=h.subTreeConfig&&(this._layoutConfigs[d]={orientation:null!=h.subTreeConfig.orientation?h.subTreeConfig.orientation:this.config.orientation,levelSeparation:null!=h.subTreeConfig.levelSeparation?h.subTreeConfig.levelSeparation:this.config.levelSeparation,mixedHierarchyNodesSeparation:null!=h.subTreeConfig.mixedHierarchyNodesSeparation?h.subTreeConfig.mixedHierarchyNodesSeparation:this.config.mixedHierarchyNodesSeparation,assistantSeparation:null!=h.subTreeConfig.assistantSeparation?h.subTreeConfig.assistantSeparation:this.config.assistantSeparation,subtreeSeparation:null!=h.subTreeConfig.subtreeSeparation?h.subTreeConfig.subtreeSeparation:this.config.subtreeSeparation,siblingSeparation:null!=h.subTreeConfig.siblingSeparation?h.subTreeConfig.siblingSeparation:this.config.siblingSeparation,layout:null!=h.subTreeConfig.layout?h.subTreeConfig.layout:this.config.layout,columns:null!=h.subTreeConfig.columns?h.subTreeConfig.columns:this.config.columns,collapse:null!=h.subTreeConfig.collapse?h.subTreeConfig.collapse:this.config.collapse,partnerNodeSeparation:null!=h.subTreeConfig.partnerNodeSeparation?h.subTreeConfig.partnerNodeSeparation:this.config.partnerNodeSeparation})}this._event_id=s._guid(),s._validateConfig(this.config)&&(this._vScroll={},this.config.ui||(this.ui=s.ui),this.editUI=this.config.editUI?this.config.editUI:new s.editUI,this.editUI.init(this),this.filterUI=this.config.filterUI?this.config.filterUI:new s.filterUI,this.filterUI.init(this),this.manager=new s.manager(this),this.searchUI=this.config.searchUI?this.config.searchUI:new s.searchUI,this.nodeMenuUI=this.config.nodeMenuUI?this.config.nodeMenuUI:new s.menuUI,this.nodeMenuUI.init(this,this.config.nodeMenu),this.nodeCircleMenuUI=this.config.nodeCircleMenuUI?this.config.nodeCircleMenuUI:new s.circleMenuUI,this.nodeCircleMenuUI.init(this,this.config.nodeCircleMenu),this.nodeContextMenuUI=this.config.nodeContextMenuUI?this.config.nodeContextMenuUI:new s.menuUI,this.nodeContextMenuUI.init(this,this.config.nodeContextMenu),this.toolbarUI=this.config.toolbarUI?this.config.toolbarUI:new s.toolbarUI,this.notifierUI=this.config.notifierUI?this.config.notifierUI:new s.notifierUI,this.notifierUI.init(this),this.menuUI=this.config.menuUI?this.config.menuUI:new s.menuUI,this.menuUI.init(this,this.config.menu),this.config.xScrollUI||(this.xScrollUI=new s.xScrollUI(this.element,this.config,function(){return{boundary:u.response.boundary,scale:u.getScale(),viewBox:u.getViewBox(),padding:u.config.padding}},function(m){u.setViewBox(m)},function(){u._draw(!0,s.action.xScroll)})),this.config.yScrollUI||(this.yScrollUI=new s.yScrollUI(this.element,this.config,function(){return{boundary:u.response.boundary,scale:u.getScale(),viewBox:u.getViewBox(),padding:u.config.padding}},function(m){u.setViewBox(m)},function(){u._draw(!0,s.action.xScroll)})),this.element.classList.add("boc-"+this.config.mode),this._gragStartedId=null,this._timeout=null,this._touch=null,this._initialized=!1,this._loaded=!1,this._moveInterval=null,this._movePosition=null,this.response=null,this.nodes=null,this.isVisible=null,s._intersectionObserver(this.element,function(m){u.isVisible=m,!1!==s.events.publish("visibility-change",[u])&&s.LAZY_LOADING&&u.isVisible&&(u._loaded?u._draw(!1,s.action.update):(u._setInitialSizeIfNotSet(),u._draw(!1,s.action.init)))}))};s._defaultConfig=function(o){return{interactive:!0,mode:"light",lazyLoading:!0,enableDragDrop:!1,enableSearch:!0,enableTouch:!1,enablePan:!0,keyNavigation:!1,miniMap:!1,nodeMenu:null,nodeCircleMenu:null,nodeContextMenu:null,menu:null,toolbar:!1,sticky:!0,nodeMouseClick:s.action.details,nodeMouseDbClick:s.none,mouseScrool:s.action.zoom,showXScroll:s.none,showYScroll:s.none,template:"ana",tags:{},min:!1,nodeBinding:{},linkBinding:{},searchFields:null,searchDisplayField:null,searchFieldsWeight:null,searchFieldsAbbreviation:null,nodes:[],clinks:[],slinks:[],groupDottedLines:[],dottedLines:[],levelSeparation:60,siblingSeparation:20,subtreeSeparation:40,mixedHierarchyNodesSeparation:15,assistantSeparation:100,minPartnerSeparation:50,partnerChildrenSplitSeparation:20,partnerNodeSeparation:15,columns:10,padding:30,orientation:s.orientation.top,layout:s.normal,scaleInitial:1,scaleMin:.1,scaleMax:5,orderBy:null,editUI:null,filterUI:null,searchUI:null,xScrollUI:null,yScrollUI:null,nodeMenuUI:null,nodeCircleMenuUI:null,nodeContextMenuUI:null,toolbarUI:null,notifierUI:null,menuUI:null,exportUrl:"https://balkan.app/export",collapse:{},expand:{},align:s.CENTER,UI:null,anim:{func:s.anim.outPow,duration:200},zoom:{speed:120,smooth:12},roots:null,state:null,editForm:{readOnly:!1,titleBinding:"name",photoBinding:"img",addMore:"Add more fields",addMoreBtn:"Add",addMoreFieldName:"Field name",saveAndCloseBtn:"Save and close",cancelBtn:"Cancel",generateElementsFromFields:!0,focusBinding:null,buttons:{edit:{icon:s.icon.edit(24,24,"#fff"),text:"Edit",hideIfEditMode:!0,hideIfDetailsMode:!1},share:{icon:s.icon.share(24,24,"#fff"),text:"Share"},pdf:{icon:s.icon.pdf(24,24,"#fff"),text:"Save as PDF"},remove:{icon:s.icon.remove(24,24,"#fff"),text:"Remove",hideIfDetailsMode:!0}},elements:[]}}},s.prototype.load=function(o){var l=this;return this.config.nodes=o,this._draw(!1,s.action.init,void 0,function(){l.filterUI.update()}),this},s.prototype.loadXML=function(o){var l=s._xml2json(o);return this.load(l)},s.prototype.getXML=function(){return s._json2xml(this.config.nodes)},s.prototype.on=function(o,l){return s.events.on(o,l,this._event_id),this},s.prototype.draw=function(o,l,u){null==o&&(o=s.action.update),this._draw(!1,o,l,u)},s.prototype._draw=function(o,l,u,d){var h=this;if(!s.LAZY_LOADING||this.isVisible)if(s.LAZY_LOADING||this._initialized||(this._setInitialSizeIfNotSet(),0!=this.width()&&0!=this.height())){this._hideBeforeAnimationCompleted=!1;var m=l==s.action.init?null:this.getViewBox();this.manager.read(o,this.width(),this.height(),m,l,u,function(b){if(!h.notifierUI.show(b.notif)){l!=s.action.exporting&&(h.nodes=b.nodes,h.visibleNodeIds=b.visibleNodeIds,h.roots=b.roots),h.editUI.fields=b.allFields;var y={defs:""};s.events.publish("renderdefs",[h,y]);var v=h.ui.defs(y.defs),x=h.getScale(b.viewBox);v+=h.ui.pointer(h.config,l,x);var _=h.getViewBox(),D=b.viewBox;s.events.publish("prerender",[h,y={content:v,res:b}]),v=y.content;for(var E=0;E<b.visibleNodeIds.length;E++){var S=b.nodes[b.visibleNodeIds[E]],M=h._get(S.id);s.RENDER_LINKS_BEFORE_NODES&&(v+=h.ui.link(S,h,x,b.bordersByRootIdAndLevel,b.nodes,l)),v+=h.ui.node(S,M,b.animations,h.config,void 0,void 0,void 0,l,x,h)}for(E=0;E<b.visibleNodeIds.length;E++)S=b.nodes[b.visibleNodeIds[E]],s.RENDER_LINKS_BEFORE_NODES||(v+=h.ui.link(S,h,x,b.bordersByRootIdAndLevel,b.nodes,l)),v+=h.ui.expandCollapseBtn(h,S,h._layoutConfigs,l,x);if(s.events.publish("render",[h,y={content:v,res:b}]),v=y.content,b=y.res,v+=h.ui.lonely(h.config),l!==s.action.exporting){if(l!==s.action.centerNode&&l!==s.action.insert&&l!==s.action.expand&&l!==s.action.collapse&&l!==s.action.update||(D=_),l===s.action.init&&null!=_&&(D=_),h.response=b,U=h.ui.svg(h.width(),h.height(),D,h.config,v),h._initialized){var L=h.getSvg(),T=L.parentNode;T.removeChild(L),T.insertAdjacentHTML("afterbegin",U),h._attachEventHandlers(),h.xScrollUI.addListener(h.getSvg()),h.yScrollUI.addListener(h.getSvg()),h.xScrollUI.setPosition(),h.yScrollUI.setPosition()}else h.element.innerHTML=h.ui.css()+U+h.ui.menuButton(h.config),h._attachInitEventHandlers(),h._attachEventHandlers(),h.xScrollUI.create(h.width(),h.config.padding),h.xScrollUI.setPosition(),h.xScrollUI.addListener(h.getSvg()),h.yScrollUI.create(h.height(),h.config.padding),h.yScrollUI.setPosition(),h.yScrollUI.addListener(h.getSvg()),h.config.enableSearch&&h.searchUI.init(h),h.toolbarUI.init(h,h.config.toolbar);var I=!1,k=h.response.animations;if(k[0].length>0){for(h._hideBeforeAnimation(k[0].length),E=0;E<k[0].length;E++)k[0][E]=h.getNodeElement(k[0][E]);s.animate(k[0],k[1],k[2],h.config.anim.duration,h.config.anim.func,function(){I||(d&&d(),s.events.publish("redraw",[h]),h._showAfterAnimation(),I=!0)})}l===s.action.centerNode?s.animate(h.getSvg(),{viewbox:_},{viewbox:h.response.viewBox},h.config.anim.duration,h.config.anim.func,function(){h.ripple(u.options.rippleId),I||(d&&d(),s.events.publish("redraw",[h]),h._showAfterAnimation(),I=!0)},function(){h.xScrollUI.setPosition(),h.yScrollUI.setPosition()}):!_||!h.response||_[0]==h.response.viewBox[0]&&_[1]==h.response.viewBox[1]&&_[2]==h.response.viewBox[2]&&_[3]==h.response.viewBox[3]||l!==s.action.insert&&l!==s.action.expand&&l!==s.action.collapse&&l!==s.action.update&&l!==s.action.init?0==k[0].length&&(I||(d&&d(),s.events.publish("redraw",[h]),I=!0)):s.animate(h.getSvg(),{viewbox:_},{viewbox:h.response.viewBox},2*h.config.anim.duration,h.config.anim.func,function(){h.xScrollUI.setPosition(),h.yScrollUI.setPosition(),I||(d&&d(),s.events.publish("redraw",[h]),I=!0)}),h._initialized||(h._initialized=!0,h.filterUI.update(),s.events.publish("init",[h])),!h._loaded&&b&&b.nodes&&Object.keys(b.nodes).length&&(h._loaded=!0)}else{var R=b.boundary,P=R.maxX-R.minX,O=R.maxY-R.minY,U=h.ui.svg(P,O,[R.minX,R.minY,P,O],h.config,v,x);d(U)}}},function(b){s.events.publish("ready",[h,b])})}else console.error("Cannot load the chart with size 0! If you are using the OrgChart within tabs set OrgChart.LAZY_LOADING to true! ")},s.prototype._setInitialSizeIfNotSet=function(){this.element.style.overflow="hidden",this.element.style.position="relative",0==this.element.offsetHeight&&(this.element.style.height="100%",0==this.element.offsetHeight&&(this.element.style.height="700px")),0==this.element.offsetWidth&&(this.element.style.width="100%",0==this.element.offsetWidth&&(this.element.style.width="700px"))},s.prototype.width=function(){return this.element.offsetWidth},s.prototype.height=function(){return this.element.offsetHeight},s.prototype.getViewBox=function(){var o=this.getSvg();return s._getViewBox(o)},s.prototype.setViewBox=function(o){this.getSvg().setAttribute("viewBox",o.toString())},s.prototype.getScale=function(o){return o||(o=this.getViewBox()),s.getScale(o,this.width(),this.height(),this.config.scaleInitial,this.config.scaleMax,this.config.scaleMin)},s.prototype.ripple=function(o,l,u){var d=this.getNode(o);if(null!=d){var h=this.getNodeElement(o);if(null!=h){var m=this.getScale(),b=d.w/2,y=d.h/2;if(void 0!==l&&void 0!==u){var v=h.getBoundingClientRect();b=l/m-v.left/m,y=u/m-v.top/m}var x=d.w,_=d.h,D=x-b>b?x-b:b,E=_-y>y?_-y:y,S=D>E?D:E,M=document.createElementNS("http://www.w3.org/2000/svg","g"),L=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),T=document.createElementNS("http://www.w3.org/2000/svg","rect"),I=document.createElementNS("http://www.w3.org/2000/svg","circle"),k=s.randomId();L.setAttribute("id",k);var R={ripple:s.t(d.templateName,d.min,this.getScale()).ripple,node:d};s.events.publish("ripple",[this,R]),T.setAttribute("x",R.ripple.rect?R.ripple.rect.x:0),T.setAttribute("y",R.ripple.rect?R.ripple.rect.y:0),T.setAttribute("width",R.ripple.rect?R.ripple.rect.width:d.w),T.setAttribute("height",R.ripple.rect?R.ripple.rect.height:d.h),T.setAttribute("rx",R.ripple.radius),T.setAttribute("ry",R.ripple.radius),I.setAttribute("clip-path","url(#"+k+")"),I.setAttribute("cx",b),I.setAttribute("cy",y),I.setAttribute("r",0),I.setAttribute("fill",R.ripple.color),I.setAttribute("class","boc-ripple"),L.appendChild(T),M.appendChild(L),M.appendChild(I),h.appendChild(M),s.animate(I,{r:0,opacity:1},{r:S,opacity:0},500,s.anim.outPow,function(){h.removeChild(M)})}}},s.prototype.center=function(o,l,u){var d,h,m=o,b=!0,y=!0;l&&null!=l.parentState&&(d=l.parentState),l&&null!=l.childrenState&&(h=l.childrenState),l&&null!=l.rippleId&&(m=l.rippleId),l&&null!=l.vertical&&(b=l.vertical),l&&null!=l.horizontal&&(y=l.horizontal),this._draw(!1,s.action.centerNode,{id:o,options:{parentState:d,childrenState:h,rippleId:m,vertical:b,horizontal:y}},u)},s.prototype.fit=function(o){this.config.scaleInitial=s.match.boundary,this._draw(!0,s.action.init,{method:"fit"},o)},s.prototype.toggleFullScreen=function(){var o=document.querySelector("["+s.attr.tlbr+"r='fullScreen']");document.fullscreenElement==this.element||document.webkitFullscreenElement==this.element||document.mozFullScreenElement==this.element||document.msFullscreenElement==this.element?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),o&&(o.innerHTML=s.toolbarUI.openFullScreenIcon)):(this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen(),o&&(o.innerHTML=s.toolbarUI.closeFullScreenIcon))},s.prototype.getNode=function(o){return this.nodes[o]},s.prototype.setLayout=function(o,l){l||(l="base"),this._layoutConfigs[l].layout=o,this._draw(!1,s.action.update)},s.prototype.setOrientation=function(o,l){l||(l="base"),this._layoutConfigs[l].orientation=o,this._draw(!1,s.action.update)},s.prototype.search=function(o,l,u){return s.isNEU(l)&&(l=this.searchUI._searchFields),s.isNEU(u)&&(u=l),s._search.search(this.config.nodes,o,l,u,this.config.searchDisplayField,this.config.searchFieldsWeight,this.searchUI._searchFieldsAbbreviation)},s.prototype._hideBeforeAnimation=function(o){if(1!=this._hideBeforeAnimationCompleted&&!(o&&o<s.ANIM_THRESHOLD)){var l=this.element.getElementsByTagName("text");if(l.length>s.TEXT_THRESHOLD)for(var u=0;u<l.length;u++)l[u].style.display="none";var d=this.element.getElementsByTagName("image");if(d.length>s.IMAGES_THRESHOLD)for(u=0;u<d.length;u++)d[u].style.display="none";var h=this.element.querySelectorAll("["+s.attr.link_id+"]");if(h.length>s.LINKS_THRESHOLD)for(u=0;u<h.length;u++)h[u].style.display="none";var m=this.element.querySelectorAll("["+s.attr.control_expcoll_id+"]");if(m.length>s.BUTTONS_THRESHOLD)for(u=0;u<m.length;u++)m[u].style.display="none";var b=this.element.querySelectorAll("["+s.attr.control_up_id+"]");if(b.length>s.BUTTONS_THRESHOLD)for(u=0;u<b.length;u++)b[u].style.display="none";this._hideBeforeAnimationCompleted=!0}},s.prototype._showAfterAnimation=function(){for(var o=this.element.getElementsByTagName("text"),l=0;l<o.length;l++)o[l].style.display="";var u=this.element.getElementsByTagName("image");for(l=0;l<u.length;l++)u[l].style.display="";var d=this.element.querySelectorAll("["+s.attr.link_id+"]");for(l=0;l<d.length;l++)d[l].style.display="";var h=this.element.querySelectorAll("["+s.attr.control_expcoll_id+"]");for(l=0;l<h.length;l++)h[l].style.display="";var m=this.element.querySelectorAll("["+s.attr.control_up_id+"]");for(l=0;l<m.length;l++)m[l].style.display="";this._hideBeforeAnimationCompleted=!1},s.prototype.isChild=function(o,l){for(var u=this.getNode(l);u;){if(u.id==o)return!0;u=u.parent?u.parent:u.stParent}return!1},s.prototype.getCollapsedIds=function(o){for(var l=[],u=0;u<o.childrenIds.length;u++){var d=this.getNode(o.childrenIds[u]);1==d.collapsed&&l.push(d.id)}return l},s.prototype.stateToUrl=function(){if(this.manager.state){var o={};return o.exp=this.manager.state.exp.join("*"),o.min=this.manager.state.min.join("*"),o.adjustify=this.manager.state.adjustify.x+"*"+this.manager.state.adjustify.y,o.scale=this.manager.state.scale,o.y=this.manager.state.x,o.x=this.manager.state.y,new URLSearchParams(o).toString()}return""},s.prototype.generateId=function(){for(;;){var o="_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4);if(!this.nodes.hasOwnProperty(o))return o}},s.prototype._nodeHasHiddenParent=function(o){return!o.parent&&!s.isNEU(o.pid)&&this.getNode(o.pid)},s.prototype.destroy=function(){this._removeEvent(window,"resize"),s.events.removeForEventId(this._event_id),this.element.innerHTML=null},s.localStorage={},s.localStorage.getItem=function(o){var l=localStorage.getItem("to_date");if(l){if((l=new Date(l))<new Date){for(var u=0,d=localStorage.length;u<d;++u){var h=localStorage.key(u);h&&h.startsWith&&h.startsWith('{"n"')&&localStorage.removeItem(h)}localStorage.removeItem("to_date")}}else(l=new Date).setDate(l.getDate()+5),l=l.toISOString(),localStorage.setItem("to_date",l);return localStorage.getItem(o)},s.localStorage.setItem=function(o,l){try{localStorage.setItem(o,l)}catch(u){u.code==u.QUOTA_EXCEEDED_ERR?(console.warn("Local storage quota exceeded"),localStorage.clear()):(console.error("Local storage error code:"+u.code),console.error(u))}},s.prototype.canUpdateLink=function(o,l){if(null==l||null==l||null==o||null==o||o==l)return!1;var u=this.getNode(l),d=this.getNode(o);return!(u&&d&&(u.isPartner||u.hasPartners&&d.isAssistant||u.hasAssistants&&d.isPartner)||this.isChild(o,l))},s.prototype._canUpdateLink=s.prototype.canUpdateLink,s.prototype.updateNode=function(o,l,u){var d=this,h=this.get(o.id);if(!0===u&&!1===s.events.publish("update",[this,h,o]))return!1;this.update(o);var m=this.getNode(o.id),b=m.pid;null==b&&(b=m.stpid),this._draw(!1,s.action.update,{id:b},function(){d.ripple(o.id),l&&l(),s.events.publish("updated",[d,h,o]),d.filterUI.update()})},s.prototype.update=function(o){for(var l=0;l<this.config.nodes.length;l++)if(this.config.nodes[l].id==o.id){this.config.nodes[l]=o;break}return this},s.prototype.removeNode=function(o,l,u){var d=this;if(!this.canRemove(o))return!1;var h=this._getNewPidsAndStpidsForIds(o);return(!0!==u||!1!==s.events.publish("remove",[this,o,h]))&&(this.remove(o),this._draw(!1,s.action.update,null,function(){d.config.sticky&&s._moveToBoundaryArea(d.getSvg(),d.getViewBox(),d.response.boundary),l&&l(),s.events.publish("removed",[d,o,h]),d.filterUI.update()}),!0)},s.prototype.remove=function(o){var l=this.get(o);if(l)for(var u=this.config.nodes.length-1;u>=0;u--)this.config.nodes[u].pid!=o&&this.config.nodes[u].stpid!=o||(this.config.nodes[u].pid=l.pid,this.config.nodes[u].stpid=l.stpid),this.config.nodes[u].id==o&&this.config.nodes.splice(u,1);return this},s.prototype._getNewPidsAndStpidsForIds=function(o){var l=this.get(o),u={},d={};if(l)for(var h=this.config.nodes.length-1;h>=0;h--)this.config.nodes[h].pid==o?u[this.config.nodes[h].id]=l.pid:this.config.nodes[h].stpid==o&&(d[this.config.nodes[h].id]=l.stpid);return{newPidsForIds:u,newStpidsForIds:d}},s.prototype.addNode=function(o,l,u){var d=this;if(!0===u&&!1===s.events.publish("add",[this,o]))return!1;this.add(o),d._draw(!1,s.action.insert,{id:o.pid,insertedNodeId:o.id},function(){d.ripple(o.id),l&&l(),s.events.publish("added",[d,o.id]),d.filterUI.update()}),s.events.publish("adding",[d,o.id])},s.prototype.add=function(o){return null==o.id&&console.error("Call addNode without id"),this.config.nodes.push(o),this},s.prototype._get=function(o){var l=this.__get(o);if(l)return l;if((this.config.groupDottedLines.length||this.config.dottedLines.length)&&!s.isNEU(o)&&"string"==typeof o&&(-1!=o.indexOf("balkan_group_dotted_")||-1!=o.indexOf("balkan_dotted_"))){var u=(o=(o=o.replace("balkan_group_dotted_","")).replace("balkan_dotted_","")).indexOf("_balkan_id_");if(o=o.substring(u+11),l=this.__get(o))return l}return null},s.prototype.__get=function(o){for(var l=0;l<this.config.nodes.length;l++)if(this.config.nodes[l].id==o)return this.config.nodes[l];return null},s.prototype.get=function(o){var l=this._get(o);return null==l?null:JSON.parse(JSON.stringify(l))},s.prototype.canRemove=function(o){var l=this.getNode(o);return!!l&&!l.hasPartners&&!l.hasAssistants},void 0===s&&(s={}),s._ajax=function(o,l,u,d,h){null==d&&(d="arraybuffer");var m=new XMLHttpRequest;m.onload=function(b){4==m.readyState&&200===this.status&&h(null==b.target?this.response:b.target.response)},m.onerror=function(b){h({error:b})},m.open(l,o),m.responseType=d,m.setRequestHeader("Content-Type","application/json"),null==u?m.send():m.send(u)},void 0===s&&(s={}),s.animate=function(o,l,u,d,h,m,b){var y,v=10,x=1,_=d/v+1;return document.getElementsByTagName("g"),Array.isArray(o)||(o=[o]),Array.isArray(l)||(l=[l]),Array.isArray(u)||(u=[u]),y=setInterval(function(){for(var D=0;D<o.length;D++)for(var E in u[D]){var S=s._arrayContains(["top","left","right","bottom","width","height"],E.toLowerCase())?"px":"";switch(E.toLowerCase()){case"d":var M=h((x*v-v)/d)*(u[D][E][0]-l[D][E][0])+l[D][E][0],L=h((x*v-v)/d)*(u[D][E][1]-l[D][E][1])+l[D][E][1];o[D].setAttribute("d",o[D].getAttribute("d")+" L"+M+" "+L);break;case"r":var T=h((x*v-v)/d)*(u[D][E]-l[D][E])+l[D][E];o[D].setAttribute("r",T);break;case"x1":T=h((x*v-v)/d)*(u[D][E]-l[D][E])+l[D][E],o[D].setAttribute("x1",T);break;case"x2":T=h((x*v-v)/d)*(u[D][E]-l[D][E])+l[D][E],o[D].setAttribute("x2",T);break;case"y1":T=h((x*v-v)/d)*(u[D][E]-l[D][E])+l[D][E],o[D].setAttribute("y1",T);break;case"y2":T=h((x*v-v)/d)*(u[D][E]-l[D][E])+l[D][E],o[D].setAttribute("y2",T);break;case"rotate3d":if(u[D][E]){var I=l[D][E],k=u[D][E],R=[0,0,0,0];for(var P in I)R[P]=h((x*v-v)/d)*(k[P]-I[P])+I[P];o[D].style.transform="rotate3d("+R.toString()+"deg)"}break;case"transform":if(u[D][E]){for(var P in k=u[D][E],R=[0,0,0,0,0,0],I=l[D][E])R[P]=h((x*v-v)/d)*(k[P]-I[P])+I[P];o[D].hasAttribute("transform")?o[D].setAttribute("transform","matrix("+R.toString()+")"):o[D].style.transform="matrix("+R.toString()+")"}break;case"viewbox":if(u[D][E]){for(var P in k=u[D][E],R=[0,0,0,0],I=l[D][E])R[P]=h((x*v-v)/d)*(k[P]-I[P])+I[P];o[D].setAttribute("viewBox",R.toString())}break;case"margin":if(u[D][E]){for(var P in k=u[D][E],R=[0,0,0,0],I=l[D][E])R[P]=h((x*v-v)/d)*(k[P]-I[P])+I[P];var O="";for(P=0;P<R.length;P++)O+=parseInt(R[P])+"px ";o[D]&&o[D].style&&(o[D].style[E]=O)}break;case"scrolly":T=h((x*v-v)/d)*(u[D][E]-l[D][E])+l[D][E],o[D].scrollTo(0,T);break;default:T=h((x*v-v)/d)*(u[D][E]-l[D][E])+l[D][E],o[D]&&o[D].style&&(o[D].style[E]=T+S)}}b&&b(),(x+=1)>_+1&&(clearInterval(y),m&&m(o))},v)},s.anim={},s.anim.inPow=function(o){return o<0?0:o>1?1:Math.pow(o,2)},s.anim.outPow=function(o){return o<0?0:o>1?1:-1*(Math.pow(o-1,2)+-1)},s.anim.inOutPow=function(o){return o<0?0:o>1?1:(o*=2)<1?s.anim.inPow(o,2)/2:-.5*(Math.pow(o-2,2)+-2)},s.anim.inSin=function(o){return o<0?0:o>1?1:1-Math.cos(o*(Math.PI/2))},s.anim.outSin=function(o){return o<0?0:o>1?1:Math.sin(o*(Math.PI/2))},s.anim.inOutSin=function(o){return o<0?0:o>1?1:-.5*(Math.cos(Math.PI*o)-1)},s.anim.inExp=function(o){return o<0?0:o>1?1:Math.pow(2,10*(o-1))},s.anim.outExp=function(o){return o<0?0:o>1?1:1-Math.pow(2,-10*o)},s.anim.inOutExp=function(o){return o<0?0:o>1?1:o<.5?.5*Math.pow(2,10*(2*o-1)):.5*(2-Math.pow(2,10*(-2*o+1)))},s.anim.inCirc=function(o){return o<0?0:o>1?1:-(Math.sqrt(1-o*o)-1)},s.anim.outCirc=function(o){return o<0?0:o>1?1:Math.sqrt(1-(o-1)*(o-1))},s.anim.inOutCirc=function(o){return o<0?0:o>1?1:o<1?-.5*(Math.sqrt(1-o*o)-1):.5*(Math.sqrt(1-(2*o-2)*(2*o-2))+1)},s.anim.rebound=function(o){return o<0?0:o>1?1:o<1/2.75?1-7.5625*o*o:o<2/2.75?1-(7.5625*(o-1.5/2.75)*(o-1.5/2.75)+.75):o<2.5/2.75?1-(7.5625*(o-2.25/2.75)*(o-2.25/2.75)+.9375):1-(7.5625*(o-2.625/2.75)*(o-2.625/2.75)+.984375)},s.anim.inBack=function(o){return o<0?0:o>1?1:o*o*(2.70158*o-1.70158)},s.anim.outBack=function(o){return o<0?0:o>1?1:(o-1)*(o-1)*(2.70158*(o-1)+1.70158)+1},s.anim.inOutBack=function(o){return o<0?0:o>1?1:o<.5?4*o*o*(7.1898*o-2.5949)*.5:.5*((2*o-2)*(2*o-2)*(3.5949*(2*o-2)+2.5949)+2)},s.anim.impulse=function(o){var l=2*o;return l*Math.exp(1-l)},s.anim.expPulse=function(o){return Math.exp(-2*Math.pow(o,2))},void 0===s&&(s={}),s.prototype._attachInitEventHandlers=function(o){this._addEvent(window,"resize",this._resizeHandler)},s.prototype._attachEventHandlers=function(o){if(this.config.interactive){o=this.getSvg(),this.config.enableTouch||s.isMobile()?(this._addEvent(o,"touchstart",this._globalMouseDownHandler),this._addEvent(o,"touchend",this._globalClickHandler)):(this._addEvent(o,"mousedown",this._globalMouseDownHandler),this._addEvent(o,"click",this._globalClickHandler),this._addEvent(o,"contextmenu",this._globalContextHandler),this._addEvent(o,"dblclick",this._globalDbClickHandler),this.config.mouseScrool!=s.action.zoom&&this.config.mouseScrool!=s.action.ctrlZoom||(this._addEvent(o,"DOMMouseScroll",this._mouseScrollHandler),this._addEvent(o,"mousewheel",this._mouseScrollHandler)));var l=this.getMenuButton();l&&this._addEvent(l,"click",this._menuClickHandler)}},s.prototype._addEvent=function(o,l,u,d){var h,m;function b(y){var v=u.apply(this,arguments);return!1===v&&(y.stopPropagation(),y.preventDefault()),v}d||(d=""),o.getListenerList||(o.getListenerList={}),o.getListenerList[l+d]||(h=this,m=u,u=function(){if(m)return m.apply(h,[this,arguments[0]])},o.addEventListener?o.addEventListener(l,b,"mousewheel"==l&&{passive:!1}):o.attachEvent("on"+l,function(){var y=u.call(o,window.event);return!1===y&&(window.event.returnValue=!1,window.event.cancelBubble=!0),y}),o.getListenerList[l+d]=b)},s.prototype._removeEvent=function(o,l){o.getListenerList[l]&&(o.removeEventListener(l,o.getListenerList[l],!1),delete o.getListenerList[l])},void 0===s&&(s={}),s.VERSION="8.10.12",s.orientation={},s.orientation.top=0,s.orientation.bottom=1,s.orientation.right=2,s.orientation.left=3,s.orientation.top_left=4,s.orientation.bottom_left=5,s.orientation.right_top=6,s.orientation.left_top=7,s.align={},s.align.center=s.CENTER=8,s.align.orientation=s.ORIENTATION=9,s.attr={},s.attr.l="data-l",s.attr.id="data-id",s.attr.sl="data-sl",s.attr.lbl="data-lbl",s.attr.val="data-val",s.attr.tlbr="data-tlbr",s.attr.item="data-item",s.attr.layout="data-layout",s.attr.node_id="data-n-id",s.attr.link_id="data-l-id",s.attr.field_name="data-f-name",s.attr.c_link_to="data-c-l-to",s.attr.c_link_from="data-c-l-from",s.attr.s_link_to="data-s-l-to",s.attr.s_link_from="data-s-l-from",s.attr.control_add="data-ctrl-add",s.attr.control_expcoll_id="data-ctrl-ec-id",s.attr.control_up_id="data-ctrl-up-id",s.attr.control_export_menu="data-ctrl-menu",s.attr.control_node_menu_id="data-ctrl-n-menu-id",s.attr.control_node_circle_menu_id="data-ctrl-n-c-menu-id",s.attr.control_node_circle_menu_name="data-ctrl-n-c-menu-name",s.attr.control_node_circle_menu_wrraper_id="data-ctrl-n-c-menu-wrapper-id",s.attr.width="data-width",s.attr.text_overflow="data-text-overflow",s.ID="id",s.PID="pid",s.STPID="stpid",s.TAGS="tags",s.NODES="nodes",s.ELASTIC="elastic",s.ASSISTANT="Assistant",s.action={},s.action.expand=0,s.action.collapse=1,s.action.maximize=101,s.action.minimize=102,s.action.expandCollapse=501,s.action.edit=1,s.action.zoom=2,s.action.ctrlZoom=22,s.action.scroll=41,s.action.xScroll=3,s.action.yScroll=4,s.action.none=5,s.action.init=6,s.action.update=7,s.action.move=70,s.action.pan=8,s.action.centerNode=9,s.action.resize=10,s.action.insert=11,s.action.insertfirst=12,s.action.details=13,s.action.exporting=14,s.none=400001,s.scroll={},s.scroll.visible=!0,s.scroll.smooth=12,s.scroll.speed=120,s.scroll.safari={smooth:12,speed:250},s.match={},s.match.height=100001,s.match.width=100002,s.match.boundary=100003,s.layout={},s.layout.normal=s.normal=0,s.layout.mixed=s.mixed=1,s.layout.tree=s.tree=2,s.layout.treeLeftOffset=s.treeLeftOffset=3,s.layout.treeRightOffset=s.treeRightOffset=4,s.nodeOpenTag="<g "+s.attr.node_id+'="{id}" style="opacity: {opacity}" transform="matrix(1,0,0,1,{x},{y})" class="{class}" '+s.attr.sl+'="{sl}" '+s.attr.l+"={level} {lcn}>",s.linkOpenTag="<g "+s.attr.link_id+'="[{id}][{child-id}]" class="{class}">',s.expcollOpenTag="<g "+s.attr.control_expcoll_id+'="{id}" transform="matrix(1,0,0,1,{x},{y})"  style="cursor:pointer;">',s.upOpenTag="<g "+s.attr.control_up_id+'="{id}" transform="matrix(1,0,0,1,{x},{y})" style="cursor:pointer;">',s.linkFieldsOpenTag='<g transform="matrix(1,0,0,1,{x},{y}) rotate({rotate})">',s.grCloseTag="</g>",s.A5w=420,s.A5h=595,s.A4w=595,s.A4h=842,s.A3w=842,s.A3h=1191,s.A2w=1191,s.A2h=1684,s.A1w=1684,s.A1h=2384,s.Letterw=612,s.Letterh=791,s.Legalw=612,s.Legalh=1009,s.COLLAPSE_PARENT_NEIGHBORS=1,s.COLLAPSE_SUB_CHILDRENS=2,s.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED=3,s.TEXT_THRESHOLD=400,s.IMAGES_THRESHOLD=100,s.LINKS_THRESHOLD=200,s.BUTTONS_THRESHOLD=70,s.ANIM_THRESHOLD=50,s.IT_IS_LONELY_HERE='<g transform="translate(-100, 0)" style="cursor:pointer;"  '+s.attr.control_add+'="control-add"><text fill="#039be5">{link}</text></g>',s.RES={},s.RES.IT_IS_LONELY_HERE_LINK="It's lonely here, add your first node",s.FIRE_DRAG_NOT_CLICK_IF_MOVE=3,s.STRING_TAGS=!1,s.MAX_NODES_MESS="The trial has expired or 200 nodes limit was reached! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/OrgChartJS/Docs/Evaluation'>See more</a>",s.OFFLINE_MESS="The evaluation version requires internet connection! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/OrgChartJS/Docs/Evaluation'>See more</a>",s.SEARCH_PLACEHOLDER="Search... type ? to get help.",s.SEARCH_HELP_SYMBOL="?",s.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE=!1,s.SEARCH_RESULT_LIMIT=10,s.IMPORT_MESSAGE="Choose the columns (fields) in your data file that contain the required information.",s.FIXED_POSITION_ON_CLICK=!1,s.RENDER_LINKS_BEFORE_NODES=!1,s.MIXED_LAYOUT_ALL_NODES=!0,s.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN=!1,s.LINK_ROUNDED_CORNERS=5,s.MOVE_STEP=5,s.MOVE_INTERVAL=25,s.CLINK_CURVE=1,s.MAX_DEPTH=200,s.SCALE_FACTOR=1.44,s.LAZY_LOADING_FACTOR=500,s.HIDE_EDIT_FORM_ON_PAN=!0,s.LAZY_LOADING=!0,s.ARRAY_FIELDS=["tags"],s.CSV_DELIMITER=",",s.EDITFORM_CLOSE_BTN='<svg data-edit-from-close class="boc-edit-form-close"><path style="fill:#ffffff;" d="M21.205,5.007c-0.429-0.444-1.143-0.444-1.587,0c-0.429,0.429-0.429,1.143,0,1.571l8.047,8.047H1.111 C0.492,14.626,0,15.118,0,15.737c0,0.619,0.492,1.127,1.111,1.127h26.554l-8.047,8.032c-0.429,0.444-0.429,1.159,0,1.587 c0.444,0.444,1.159,0.444,1.587,0l9.952-9.952c0.444-0.429,0.444-1.143,0-1.571L21.205,5.007z"></path></svg>',s.ESCAPE_HTML=!1,s.VERTICAL_CHILDREN_ASSISTANT=!1,Ai.exports=s,s._intersects=function(o,l,u){var d=o.x-u.siblingSeparation/4,h=o.y,m=o.x+o.w+u.siblingSeparation/4,b=o.y;switch(u.orientation){case s.orientation.right:case s.orientation.right_top:case s.orientation.left:case s.orientation.left_top:d=o.x,h=o.y-u.siblingSeparation/4,m=o.x,b=o.y+o.h+u.siblingSeparation/4}var y,v,x,_=l.p,D=l.q,E=l.r,S=l.s;return 0!=(y=(m-d)*(S-D)-(E-_)*(b-h))&&(v=((h-b)*(E-d)+(m-d)*(S-h))/y,0<(x=((S-D)*(E-d)+(_-E)*(S-h))/y)&&x<1&&0<v&&v<1)},s._addPoint=function(o,l,u,d,h){switch(u.orientation){case s.orientation.top:case s.orientation.top_left:return s._addPointTop(o,l,u,d,h);case s.orientation.bottom:case s.orientation.bottom_left:return s._addPointBottom(o,l,u,d,h);case s.orientation.left:case s.orientation.left_top:return s._addPointLeft(o,l,u,d,h);case s.orientation.right:case s.orientation.right_top:return s._addPointRight(o,l,u,d,h)}},s._addPointTop=function(o,l,u,d,h){var m,b,y;return"left"==h?m=o.leftNeighbor?o.x+(o.leftNeighbor.x+o.leftNeighbor.w-o.x)/2:o.x-u.siblingSeparation/2:"right"==h&&(m=o.rightNeighbor?o.x+o.w+(o.rightNeighbor.x-(o.x+o.w))/2:o.x+o.w+u.siblingSeparation/2),l.push([m,l[l.length-1][1]]),l.push([m,o.y-u.levelSeparation/3]),b=l[l.length-1][1],y=m,d.p=m,d.q=b,d.r=y,d},s._addPointBottom=function(o,l,u,d,h){var m,b,y;return"left"==h?m=o.leftNeighbor?o.x+(o.leftNeighbor.x+o.leftNeighbor.w-o.x)/2:o.x-u.siblingSeparation/2:"right"==h&&(m=o.rightNeighbor?o.x+o.w+(o.rightNeighbor.x-(o.x+o.w))/2:o.x+o.w+u.siblingSeparation/2),l.push([m,l[l.length-1][1]]),l.push([m,o.y+o.h+u.levelSeparation/3]),b=l[l.length-1][1],y=m,d.p=m,d.q=b,d.r=y,d},s._addPointLeft=function(o,l,u,d,h){var m;"bottom"==h?m=o.rightNeighbor?o.y+o.h+(o.rightNeighbor.y-(o.y+o.h))/2:o.y+o.h+u.siblingSeparation/2:"top"==h&&(m=o.leftNeighbor?o.y+(o.leftNeighbor.y+o.leftNeighbor.h-o.y)/2:o.y-u.siblingSeparation/2),l.push([l[l.length-1][0],m]),l.push([o.x-u.levelSeparation/3,m]);var y=m;return d.p=l[l.length-1][0],d.q=m,d.s=y,d},s._addPointRight=function(o,l,u,d,h){var m;"bottom"==h?m=o.rightNeighbor?o.y+o.h+(o.rightNeighbor.y-(o.y+o.h))/2:o.y+o.h+u.siblingSeparation/2:"top"==h&&(m=o.leftNeighbor?o.y+(o.leftNeighbor.y+o.leftNeighbor.h-o.y)/2:o.y-u.siblingSeparation/2),l.push([l[l.length-1][0],m]),l.push([o.x+o.w+u.levelSeparation/3,m]);var y=m;return d.p=l[l.length-1][0],d.q=m,d.s=y,d},s.editUI=function(){},s.editUI.prototype.init=function(o){this.obj=o,this.fields=null,this._event_id=s._guid()},s.editUI.prototype.on=function(o,l){return s.events.on(o,l,this._event_id),this},s.editUI.prototype.show=function(o,l,u){if(this.hide(),!1===s.events.publish("show",[this,o]))return!1;var d=this,h=this.content(o,l,u);this.obj.element.appendChild(h.element),s.input.init(this.obj.element),u?l||this._focusElement(h.focusId):this.interval=s.animate(h.element,{right:-20,opacity:0},{right:0,opacity:1},300,s.anim.outSin,function(){l||d._focusElement(h.focusId)}),this.obj.element.querySelector("[data-edit-from-close]").addEventListener("click",function(y){y.preventDefault(),!1!==s.events.publish("cancel",[d,{id:o}])&&d.hide()}),this.obj.element.querySelector("[data-edit-from-cancel]").addEventListener("click",function(y){y.preventDefault(),!1!==s.events.publish("cancel",[d,{id:o}])&&d.hide()}),this.obj.element.querySelector("[data-edit-from-save]").addEventListener("click",function(y){y.preventDefault();var v=s.input.validateAndGetData(h.element);if(!1!==v){var x=d.obj.get(o),_={data:s.mergeDeep(x,v)};if(!1===s.events.publish("save",[d,_]))return;d.obj.updateNode(_.data,null,!0),d.hide()}});for(var m=this.obj.element.querySelectorAll("[data-input-btn]"),b=0;b<m.length;b++)m[b].addEventListener("click",function(y){y.preventDefault(),s.events.publish("element-btn-click",[d,{input:this.parentNode.querySelector("input"),nodeId:o,event:y}])});this.obj.element.querySelector("[data-add-more-fields-btn]").addEventListener("click",function(y){y.stopPropagation(),y.preventDefault();var v=this,x=s.elements.textbox({},{type:"textbox",label:d.obj.config.editForm.addMoreFieldName,btn:d.obj.config.editForm.addMoreBtn},"280px");v.parentNode.insertAdjacentHTML("beforebegin",x.html),v.style.display="none",s.input.init(v.parentNode.previousSibling);var _=document.getElementById(x.id);_.focus(),_.nextElementSibling.addEventListener("click",function(D){D.stopPropagation(),D.preventDefault();var E=_.value,S=d.obj.element.querySelector('[data-binding="'+s._escapeDoubleQuotes(_.value)+'"]');if(s.isNEU(E)||S)_.focus();else{var M=s.elements.textbox({},{type:"textbox",label:E,binding:E},"280px");_.parentNode.parentNode.parentNode.removeChild(_.parentNode.parentNode),v.parentNode.insertAdjacentHTML("beforebegin",M.html),v.style.display="",s.input.init(v.parentNode.previousSibling),document.getElementById(M.id).focus()}})}),this.obj.element.querySelector("[data-boc-edit-from-btns]").addEventListener("click",function(y){for(var v=y.target;v&&v.hasAttribute&&!v.hasAttribute("data-edit-from-btn");)v=v.parentNode;if(v&&v.hasAttribute){var x=v.getAttribute("data-edit-from-btn");if(!1===s.events.publish("button-click",[d,{button:d.obj.config.editForm.buttons[x],name:x,nodeId:o,event:y}]))return!1;switch(x){case"edit":d.obj.editUI.show(o,!1,!0);break;case"pdf":d.obj.exportPDFProfile({id:o,filename:h.title}),d.hide();break;case"png":d.obj.exportPNGProfile({id:o,filename:h.title}),d.hide();break;case"share":d.obj.shareProfile(o);break;case"remove":d.obj.removeNode(o,null,!0),d.hide()}}})},s.editUI.prototype._focusElement=function(o){var l=null;s.isNEU(this.obj.config.editForm.focusBinding)?s.isNEU(o)||(l=document.getElementById(o)):l=this.obj.element.querySelector('[data-binding="'+this.obj.config.editForm.focusBinding+'"]'),l&&(l.value&&l.value.length&&l.setSelectionRange(l.value.length,l.value.length),l.focus())},s.editUI.prototype.setAvatar=function(o){this.obj.element.querySelector("#boc-avatar").innerHTML=s.isNEU(o)?s.icon.user(150,150,"#8C8C8C",0,0):`<img style="width: 100%;height:100%;border-radius: 50%;" src="${o}"></img>`},s.editUI.prototype.content=function(o,l,u,d,h){var m,b=this.obj.config.editForm.readOnly,y=JSON.parse(JSON.stringify(this.obj.config.editForm.elements)),v=this.obj.config.editForm.addMore,x=this.obj.config.editForm.saveAndCloseBtn,_=this.obj.config.editForm.cancelBtn,D=this.obj.config.editForm.buttons,E=this.obj.config.editForm.titleBinding,S=this.obj.config.editForm.photoBinding,M=this.obj.getNode(o),L=this.obj._get(o),T=s.t(M.templateName,M.min,this.obj.getScale()),I=L[E],k=L[S];if(this.obj.config.editForm.generateElementsFromFields)for(var R=0;R<this.fields.length;R++){var P=this.fields[R];if("tags"!=P){for(var O=!1,U=0;U<y.length;U++){if(Array.isArray(y[U])){for(var $=0;$<y[U].length;$++)if(P==y[U][$].binding){O=!0;break}}else if(P==y[U].binding){O=!0;break}if(O)break}O||y.push({type:"textbox",label:P,binding:P})}}s.isNEU(I)&&(I=""),k=s.isNEU(k)?s.icon.user(150,150,"#8C8C8C",0,0):`<img style="width: 100%;height:100%;border-radius: 50%;" src="${k}"></img>`;var z=!l,G=l?"display:none;":"",te=l||!v?"display:none;":"",ee=T.editFormHeaderColor?`style="background-color:${T.editFormHeaderColor};"`:"",Q=document.createElement("form");if(Q.setAttribute("data-boc-edit-form",""),Q.classList.add("boc-edit-form"),Q.classList.add(this.obj.config.mode),Q.classList.add(M.templateName),Q.classList.add(s.ui._defsIds[M.templateName]),Array.isArray(M.tags)&&M.tags.length)for(R=0;R<M.tags.length;R++)Q.classList.add(M.tags[R]);Q.style.display="flex",Q.style.opacity=u?1:0,Q.style.right=u?0:"-20px",d&&(Q.style.width=d);var xe=[];return Q.innerHTML=`<div>\n                        <div class="boc-edit-form-header" ${ee}>\n                            ${h?"":s.EDITFORM_CLOSE_BTN}\n                            ${s.editUI.renderHeaderContent(I,k,M,L)}\n                        </div>\n                        <div data-boc-edit-from-btns class="boc-edit-form-instruments">\n                        ${function(){if(h)return"";var ve="";for(var Le in D){var J=D[Le];s.isNEU(J)||z&&J.hideIfEditMode||l&&J.hideIfDetailsMode||b&&"Edit"==J.text||(ve+=`<div data-edit-from-btn='${Le}' class="boc-img-button" ${ee} title="${J.text}">${J.icon}</div>`)}return ve}()}    \n                        </div>\n                    </div>\n                    <div class="boc-edit-form-fields">\n                        <div class="boc-edit-form-fields-inner">\n                            <div class="boc-form-fieldset">\n                                ${function(){for(var ve="",Le=0;Le<y.length;Le++){var J=y[Le];if(Array.isArray(J)){ve+='<div class="boc-form-field-100 boc-form-fieldset">';for(var Me=0;Me<J.length;Me++){var Fe=J[Me],Ae=s.elements[Fe.type](L,Fe,"unset",l);!s.isNEU(Ae.id)&&s.isNEU(m)&&s.isNEU(Ae.value)&&(m=Ae.id),s.isNEU(Ae.value)||xe.push(`${Fe.label}: ${Ae.value}`),ve+=Ae.html}ve+="</div>"}else Ae=s.elements[J.type](L,J,"280px",l),!s.isNEU(Ae.id)&&s.isNEU(m)&&s.isNEU(Ae.value)&&(m=Ae.id),s.isNEU(Ae.value)||xe.push(`${J.label}: ${Ae.value}`),ve+=Ae.html}return ve}()}\n\n                                <div class="boc-form-field" style="min-width: 280px; text-align:center; ${te}">\n                                    <a data-add-more-fields-btn href="#" class="boc-link">${v}</a>\n                                </div>\n                            </div>        \n                        </div>\n                    </div>\n                    <div class="boc-form-fieldset" style="padding: 14px 10px; ${G}">\n                        <div class="boc-form-field" style="min-width: initial;">\n                            <button data-edit-from-cancel type="button" class="boc-button transparent">${_}</button>\n                        </div>\n                        <div class="boc-form-field" style="min-width: initial;">\n                            <button type="submit" data-edit-from-save type="button" class="boc-button">${x}</button>\n                        </div>\n                    </div>`,{element:Q,focusId:m,title:I,shareText:xe.join("\n")}},s.editUI.prototype.hide=function(){if(!1===s.events.publish("hide",[this]))return!1;s.isNEU(this.interval)&&(clearInterval(this.interval),this.interval=null);var o=this.obj.element.querySelector("[data-boc-edit-form]");o&&o.parentNode&&o.parentNode.removeChild(o)},s.editUI.renderHeaderContent=function(o,l,u,d){return`<h1 class="boc-edit-form-title">${s._escapeGreaterLessSign(o)}</h1>\n                <div id="boc-avatar" class="boc-edit-form-avatar">${l}</div>`},s.prototype.getSvg=function(){var o=this.element.getElementsByTagName("svg");return o&&o.length?o[0]:null},s.prototype.getPointerElement=function(){return this.element.querySelector("g[data-pointer]")},s.prototype.getNodeElement=function(o){return this.element.querySelector("g["+s.attr.node_id+"='"+o+"']")},s.prototype.getMenuButton=function(){return this.element.querySelector("["+s.attr.control_export_menu+"]")},s.menuUI=function(){},s.menuUI.prototype.init=function(o,l){this.obj=o,this.wrapper=null,this.menu=l,this._event_id=s._guid()},s.menuUI.prototype.showStickIn=function(o,l,u,d){this._show(o,null,l,u,d)},s.menuUI.prototype.show=function(o,l,u,d,h){this._show(o,l,u,d,h)},s.menuUI.prototype._show=function(o,l,u,d,h){var m=this;this.hide();var b="";h||(h=this.menu);var y={firstNodeId:u,secondNodeId:d,menu:h};if(!1===s.events.publish("show",[this,y]))return!1;for(var v in h=y.menu){var x=h[v].icon,_=h[v].text;void 0===x&&(x=s.icon[v]?s.icon[v](24,24,"#7A7A7A"):""),"function"==typeof _&&(_=_()),"function"==typeof x&&(x=x()),b+="<div "+s.attr.item+'="'+v+'">'+x+"<span>&nbsp;&nbsp;"+_+"</span></div>"}if(""!=b){if(this.wrapper=document.createElement("div"),this.wrapper.className="boc-chart-menu",this.wrapper.style.left="-99999px",this.wrapper.style.top="-99999px",this.wrapper.innerHTML=b,this.obj.element.appendChild(this.wrapper),null==l){var D=s._menuPosition(o,this.wrapper,this.obj.getSvg());o=D.x,l=D.y}var E=o+45;this.wrapper.style.left=E+"px",this.wrapper.style.top=l+"px",this.wrapper.style.left=E-this.wrapper.offsetWidth+"px",s.animate(this.wrapper,{opacity:0,left:E-this.wrapper.offsetWidth},{opacity:1,left:o-this.wrapper.offsetWidth},300,s.anim.inOutPow);for(var M=this.wrapper.getElementsByTagName("div"),L=0;L<M.length;L++)(v=M[L]).addEventListener("click",function(T){var I,k=this.getAttribute(s.attr.item);if(void 0===h[k].onClick)if("add"===k){var R={id:m.obj.generateId(),pid:u};m.obj.addNode(R,null,!0)}else if("edit"===k){var P=m.obj.getNode(u);m.obj.editUI.show(P.id)}else"details"===k?(P=m.obj.getNode(u),m.obj.editUI.show(P.id,!0)):"remove"===k?m.obj.removeNode(u,null,!0):"svg"===k?m.obj.exportSVG({filename:"OrgChart.svg",expandChildren:!1,nodeId:u}):"pdf"===k?m.obj.exportPDF({filename:"OrgChart.pdf",expandChildren:!1,nodeId:u}):"png"===k?m.obj.exportPNG({filename:"OrgChart.png",expandChildren:!1,nodeId:u}):"csv"===k?m.obj.exportCSV():"xml"===k?m.obj.exportXML():"json"===k&&m.obj.exportJSON();else I=h[k].onClick.call(m.obj,u,d);0!=I&&m.hide()})}},s.menuUI.prototype.hide=function(){null!=this.wrapper&&(this.obj.element.removeChild(this.wrapper),this.wrapper=null)},s.menuUI.prototype.on=function(o,l){return s.events.on(o,l,this._event_id),this},s.circleMenuUI=function(){},s.circleMenuUI.prototype.init=function(o,l){this.obj=o,this.menu=l,this._menu=null,this._buttonsInterval=[],this._linesInterval=[],this._event_id=s._guid()},s.circleMenuUI.prototype.show=function(o,l){this._show(o,l)},s.circleMenuUI.prototype._show=function(o,l){var u=this,d=this.obj.getNode(o),h=s.t(d.templateName,d.min,this.obj.getScale());if(!s.isNEU(h.nodeCircleMenuButton)){var m=this.obj.getSvg(),b=this.obj.element.querySelector("["+s.attr.control_node_circle_menu_id+'="'+o+'"]'),y=this.obj.getNodeElement(o),v=s._getTransform(b),x=s._getTransform(y),_=v[4]+x[4],D=v[5]+x[5],E=b.querySelectorAll("line"),S=this.obj.element.querySelector("["+s.attr.control_node_circle_menu_wrraper_id+"]");if(s.isNEU(S)||S.getAttribute(s.attr.control_node_circle_menu_wrraper_id)!=o){this.hide(),l||(l=this.menu);var M={nodeId:o,menu:l},L=s.events.publish("show",[this,M]);if(this._menu=l,!1===L)return!1;for(var T=0,I=Object.keys(M.menu).length,k=2*h.nodeCircleMenuButton.radius+4,R=2*Math.PI*k,P=R/I-(2*h.nodeCircleMenuButton.radius+2);P<0;)k+=8,P=(R=2*Math.PI*k)/I-(2*h.nodeCircleMenuButton.radius+2);for(var O in(S=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute(s.attr.control_node_circle_menu_wrraper_id,o),S.setAttribute("transform","matrix(1,0,0,1,"+_+","+D+")"),m.appendChild(S),M.menu){var U=M.menu[O].icon,$=M.menu[O].color,z=M.menu[O].text;"function"==typeof U&&(U=U()),"function"==typeof $&&($=$()),"function"==typeof z&&(z=z());var G=document.createElementNS("http://www.w3.org/2000/svg","g");G.setAttribute("transform","matrix(1,0,0,1,0,0)"),G.setAttribute(s.attr.control_node_circle_menu_name,O),G.style.cursor="pointer";var te=document.createElementNS("http://www.w3.org/2000/svg","title");s.isNEU(z)||(te.innerHTML=z);var ee=document.createElementNS("http://www.w3.org/2000/svg","circle");ee.setAttribute("cx",0),ee.setAttribute("cy",0),ee.setAttribute("r",h.nodeCircleMenuButton.radius),ee.setAttribute("fill",$),ee.setAttribute("stroke-width","1"),ee.setAttribute("stroke",h.nodeCircleMenuButton.stroke),G.appendChild(ee),G.appendChild(te),G.innerHTML+=U,S.appendChild(G);var Q=G.getElementsByTagName("svg")[0];if(Q.setAttribute("pointer-events","none"),Q){var xe=parseInt(Q.getAttribute("width")),be=parseInt(Q.getAttribute("height"));Q.setAttribute("x",-xe/2),Q.setAttribute("y",-be/2)}var ve=T*Math.PI/(I/2);T++;var Le=Math.cos(ve)*k,J=Math.sin(ve)*k;this._buttonsInterval.push(s.animate(G,{transform:[1,0,0,1,0,0]},{transform:[1,0,0,1,Le,J]},250,s.anim.outBack,function(Me){var Fe=Me[0].getAttribute(s.attr.control_node_circle_menu_name),Ae=Me[0].parentNode.getAttribute(s.attr.control_node_circle_menu_wrraper_id);Me[0].addEventListener("mouseenter",function(Ge){s.events.publish("mouseenter",[u,{from:Ae,menuItem:M.menu[Fe],menuItemName:Fe,event:Ge}])}),Me[0].addEventListener("mouseout",function(Ge){s.events.publish("mouseout",[u,{from:Ae,menuItem:M.menu[Fe],menuItemName:Fe,event:Ge}])})}))}this._linesInterval.push(s.animate(E[0],{x1:-h.nodeCircleMenuButton.radius/2,y1:-6,x2:h.nodeCircleMenuButton.radius/2,y2:-6},{x1:-7,y1:-7,x2:7,y2:7},500,s.anim.inOutSin)),this._linesInterval.push(s.animate(E[1],{x1:-h.nodeCircleMenuButton.radius/2,y1:0,x2:h.nodeCircleMenuButton.radius/2,y2:0},{x1:0,y1:0,x2:0,y2:0},500,s.anim.inOutSin)),this._linesInterval.push(s.animate(E[2],{x1:-h.nodeCircleMenuButton.radius/2,y1:6,x2:h.nodeCircleMenuButton.radius/2,y2:6},{x1:-7,y1:7,x2:7,y2:-7},500,s.anim.inOutSin))}else this.hide()}},s.circleMenuUI.prototype.hide=function(){for(var o=this._buttonsInterval.length-1;o>=0;o--)clearInterval(this._buttonsInterval[o]),this._buttonsInterval.splice(o,1);for(this._buttonsInterval=[],o=this._linesInterval.length-1;o>=0;o--)clearInterval(this._linesInterval[o]),this._linesInterval.splice(o,1);this._linesInterval=[];var l=this.obj.element.querySelector("["+s.attr.control_node_circle_menu_wrraper_id+"]");if(null!=l){var u=l.getAttribute(s.attr.control_node_circle_menu_wrraper_id),d=this.obj.getNode(u),h=s.t(d.templateName,d.min,this.obj.getScale()),m=this.obj.element.querySelector("["+s.attr.control_node_circle_menu_id+'="'+u+'"]').querySelectorAll("line");m[0].setAttribute("x1",-h.nodeCircleMenuButton.radius/2),m[0].setAttribute("x2",h.nodeCircleMenuButton.radius/2),m[0].setAttribute("y1",-6),m[0].setAttribute("y2",-6),m[1].setAttribute("x1",-h.nodeCircleMenuButton.radius/2),m[1].setAttribute("x2",h.nodeCircleMenuButton.radius/2),m[1].setAttribute("y1",0),m[1].setAttribute("y2",0),m[2].setAttribute("x1",-h.nodeCircleMenuButton.radius/2),m[2].setAttribute("x2",h.nodeCircleMenuButton.radius/2),m[2].setAttribute("y1",6),m[2].setAttribute("y2",6),l.parentElement.removeChild(l),l=null}},s.circleMenuUI.prototype.on=function(o,l){return s.events.on(o,l,this._event_id),this},void 0===s&&(s={}),s.idb={version:1,dbName:"BALKAN",tableName:"orgchart-js",keyPath:"id"},s.idb.db=null,s.idb._open=function(o){if(s._browser().msie)o&&o(!1);else if((navigator.userAgent.toLowerCase().indexOf("safari")>0||navigator.userAgent.toLowerCase().indexOf("firefox")>0)&&window.location!==window.parent.location)o&&o(!1);else{if(!window.indexedDB)return console.error("Your browser doesn't support a stable version of IndexedDB."),void(o&&o(!1));if(null==s.idb.db){var l=indexedDB.open(s.idb.dbName,s.idb.version);l.onerror=function(u){console.error("Cannot open database!"),o&&o(!1)},l.onsuccess=function(u){s.idb.db=u.target.result,o&&o(!0)},l.onupgradeneeded=function(u){var d=u.target.result;d.objectStoreNames.contains(s.idb.tableName)&&d.deleteObjectStore(s.idb.tableName),d.createObjectStore(s.idb.tableName,{keyPath:s.idb.keyPath})}}else o&&o(!0)}},s.idb.read=function(o,l){s.idb._open(function(u){if(u){var d=s.idb.db.transaction([s.idb.tableName]).objectStore(s.idb.tableName).get(o);d.onerror=function(h){console.error("Unable to retrieve data from database!"),l&&l(!1)},d.onsuccess=function(h){d.result?l&&l(!0,d.result):l&&l(null)}}else l&&l(!1)})},s.idb.write=function(o,l){s.idb.read(o.id,function(u){if(null==u){var d=s.idb.db.transaction([s.idb.tableName],"readwrite").objectStore(s.idb.tableName).add(o);d.onerror=function(h){console.error("Unable to add data to database!"),l&&l(!1)},d.onsuccess=function(h){l&&l(!0)}}else l&&l(u)})},s.idb.put=function(o,l){s.idb._open(function(u){if(u){var d=s.idb.db.transaction([s.idb.tableName],"readwrite").objectStore(s.idb.tableName).put(o);d.onerror=function(h){console.error("Unable to put data to database!"),l&&l(!1)},d.onsuccess=function(h){l&&l(!0)}}else l&&l(!1)})},s.idb.delete=function(o,l){s.idb._open(function(u){if(u){var d=s.idb.db.transaction([s.idb.tableName],"readwrite").objectStore(s.idb.tableName).delete(o);d.onerror=function(h){console.error("Unable to retrieve data from database!"),l&&l(!1)},d.onsuccess=function(h){d.error?l&&l(!1):l&&l(!0)}}else l&&l(!1)})},s.toolbarUI=function(){},s.toolbarUI.expandAllIcon='<svg style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#757575" /></marker><line x1="11" y1="11" x2="6" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="11" x2="26" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="21" x2="26" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="11" y1="21" x2="6" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><rect x="12" y="12" width="8" height="8" fill="#757575"></rect></svg>',s.toolbarUI.fitIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><circle cx="16" cy="16" r="5" fill="#757575"></circle></svg>',s.toolbarUI.openFullScreenIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><line x1="5" y1="5" x2="27" y2="27" stroke-width="3" stroke="#757575"></line><line x1="5" y1="27" x2="27" y2="5" stroke-width="3" stroke="#757575"></line></svg>',s.toolbarUI.closeFullScreenIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><rect x="11" y="11" width="10" height="10" stroke-width="3" fill="none" stroke="#757575" ></rect></svg>',s.toolbarUI.zoomInIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-top: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line><line x1="16" y1="8" x2="16" y2="24" stroke-width="3" stroke="#757575"></line></g><line x1="4" y1="32" x2="28" y2="32" stroke-width="1" stroke="#cacaca"></line></svg>',s.toolbarUI.zoomOutIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); margin-bottom:7px; border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-bottom: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line></g></svg>',s.toolbarUI.layoutIcon="<svg "+s.attr.tlbr+'="layout" style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M8,24 L16,14 L24,24"></path><path stroke-width="3" fill="none" stroke="#757575" d="M8,16 L16,8 L24,16"></path></svg>',s.toolbarUI.prototype.init=function(o,l){if(l){this.obj=o,this.toolbar=l,this._visible=!1,this.div=document.createElement("div"),this.div.classList.add("boc-toolbar-container"),Object.assign(this.div.style,{position:"absolute",padding:"3px",right:this.obj.config.padding-10+"px",bottom:this.obj.config.padding-10+"px"}),l.expandAll&&(this.div.innerHTML+="<div "+s.attr.tlbr+'="expand">'+s.toolbarUI.expandAllIcon+"</div>"),l.fit&&(this.div.innerHTML+="<div "+s.attr.tlbr+'="fit">'+s.toolbarUI.fitIcon+"</div>"),l.zoom&&(this.div.innerHTML+="<div "+s.attr.tlbr+'="plus">'+s.toolbarUI.zoomInIcon+"</div>",this.div.innerHTML+="<div "+s.attr.tlbr+'="minus">'+s.toolbarUI.zoomOutIcon+"</div>"),l.layout&&(this.div.innerHTML+="<div "+s.attr.tlbr+'="layout">'+s.toolbarUI.layoutIcon+"</div>",this.layouts=document.createElement("div"),this.layouts.classList.add("boc-toolbar-layout"),this.layouts.innerHTML="<svg "+s.attr.layout+'="normal" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="35" y2="41" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="35" y2="41" stroke-width="1"></line></svg><svg '+s.attr.layout+'="treeRightOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="35" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="35" x2="35" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="54" y2="54" stroke-width="1"></line></svg><svg '+s.attr.layout+'="treeLeftOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="85" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="85" x2="85" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="54" y2="54" stroke-width="1"></line></svg><svg '+s.attr.layout+'="mixed" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="41" stroke-width="1"></line><line stroke="#000000" x1="60" x2="60" y1="68" y2="73" stroke-width="1"></line></svg><svg '+s.attr.layout+'="tree" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="73" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="86" stroke-width="1"></line><line stroke="#000000" x1="57" x2="63" y1="54" y2="54" stroke-width="1"></line><line stroke="#000000" x1="57" x2="63" y1="86" y2="86" stroke-width="1"></line></svg>',this.obj.element.appendChild(this.layouts)),l.fullScreen&&(this.div.innerHTML+="<div "+s.attr.tlbr+'="fullScreen">'+s.toolbarUI.openFullScreenIcon+"</div>"),this.obj.element.appendChild(this.div),this.layoutBtn=this.div.querySelector("["+s.attr.tlbr+'="layout"]');var u=this.div.querySelector("["+s.attr.tlbr+'="plus"]'),d=this.div.querySelector("["+s.attr.tlbr+'="minus"]'),h=this.div.querySelector("["+s.attr.tlbr+'="fit"]'),m=this.div.querySelector("["+s.attr.tlbr+'="fullScreen"]'),b=this.div.querySelector("["+s.attr.tlbr+'="expand"]'),y=this;u&&u.addEventListener("click",function(){y.obj.zoom(!0,null,!0)}),d&&d.addEventListener("click",function(){y.obj.zoom(!1,null,!0)}),h&&h.addEventListener("click",function(){y.obj.fit()}),m&&m.addEventListener("click",function(){y.obj.toggleFullScreen()}),b&&b.addEventListener("click",function(){y.obj.expand(null,"all")}),this.layoutBtn&&this.layoutBtn.addEventListener("click",function(){y._visible?y.hideLayout():y.showLayout()}),this.layouts&&this.layouts.addEventListener("click",function(v){for(var x=v.target;x;){if(x.hasAttribute&&x.hasAttribute(s.attr.layout)){x=x.getAttribute(s.attr.layout),y.obj.setLayout(s[x]);break}x=x.parentNode}})}},s.toolbarUI.prototype.showLayout=function(){this._visible=!0,this.layoutBtn.style.transform="rotate(180deg) translateX(0px) translateY(0px)",s.animate(this.div,{bottom:this.obj.config.padding-10},{bottom:this.obj.config.padding+135},this.obj.config.anim.duration,this.obj.config.anim.func),s.animate(this.layouts,{bottom:-145},{bottom:0},this.obj.config.anim.duration,this.obj.config.anim.func)},s.toolbarUI.prototype.hideLayout=function(){this._visible=!1,this.layoutBtn.style.transform="rotate(0deg) translateX(0px) translateY(0px)",s.animate(this.div,{bottom:this.obj.config.padding+135},{bottom:this.obj.config.padding-10},this.obj.config.anim.duration,this.obj.config.anim.func),s.animate(this.layouts,{bottom:0},{bottom:-145},this.obj.config.anim.duration,this.obj.config.anim.func)},s.notifierUI=function(){},s.notifierUI.prototype.init=function(o){this.obj=o},s.notifierUI.prototype.show=function(o,l){if(null==o)return!1;1==o&&(o=s.MAX_NODES_MESS,l="#FFCA28"),2==o&&(o=s.OFFLINE_MESS,l="#FFCA28");var u=document.createElement("div");u.innerHTML=o,Object.assign(u.style,{position:"absolute","background-color":l,color:"#ffffff",padding:"15px","border-radius":"40px",opacity:0,overflow:"hidden","white-space":"nowrap","text-align":"center"}),this.obj.element.appendChild(u);var d=this.obj.width()/2-u.offsetWidth/2,h=this.obj.height()/2-u.offsetHeight/2;u.style.left=d+"px",u.style.top=h+"px";var m=u.offsetWidth;return u.style.width="20px",s.animate(u,{opacity:0,width:10},{opacity:1,width:m},this.obj.config.anim.duration,this.obj.config.anim.func),!0},void 0===s&&(s={}),s.icon={},s.icon.png=function(o,l,u){return'<svg width="'+o+'" height="'+l+'" viewBox="0 0 550.801 550.801"><path fill="'+u+'" d="M146.747,276.708c0-13.998-9.711-22.352-26.887-22.352c-6.99,0-11.726,0.675-14.204,1.355v44.927 c2.932,0.676,6.539,0.896,11.52,0.896C135.449,301.546,146.747,292.28,146.747,276.708z"/><path fill="'+u+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M234.344,335.86v45.831h-31.601V229.524h40.184 l31.611,55.759c9.025,16.031,18.064,34.983,24.825,52.154h0.675c-2.257-20.103-2.933-40.643-2.933-63.44v-44.473h31.614v152.167 h-36.117l-32.516-58.703c-9.049-16.253-18.971-35.892-26.438-53.727l-0.665,0.222C233.906,289.58,234.344,311.027,234.344,335.86z M71.556,381.691V231.56c10.613-1.804,25.516-3.159,46.506-3.159c21.215,0,36.353,4.061,46.509,12.192 c9.698,7.673,16.255,20.313,16.255,35.219c0,14.897-4.959,27.549-13.999,36.123c-11.738,11.063-29.123,16.031-49.441,16.031 c-4.522,0-8.593-0.231-11.736-0.675v54.411H71.556V381.691z M453.601,523.353H97.2V419.302h356.4V523.353z M485.652,374.688 c-10.61,3.607-30.713,8.585-50.805,8.585c-27.759,0-47.872-7.003-61.857-20.545c-13.995-13.1-21.684-32.97-21.452-55.318 c0.222-50.569,37.03-79.463,86.917-79.463c19.644,0,34.783,3.829,42.219,7.446l-7.214,27.543c-8.369-3.617-18.752-6.55-35.458-6.55 c-28.656,0-50.341,16.256-50.341,49.22c0,31.382,19.649,49.892,47.872,49.892c7.895,0,14.218-0.901,16.934-2.257v-31.835h-23.493 v-26.869h56.679V374.688z"/></svg>'},s.icon.pdf=function(o,l,u){return'<svg width="'+o+'" height="'+l+'" viewBox="0 0 550.801 550.801"><path fill="'+u+'" d="M160.381,282.225c0-14.832-10.299-23.684-28.474-23.684c-7.414,0-12.437,0.715-15.071,1.432V307.6 c3.114,0.707,6.942,0.949,12.192,0.949C148.419,308.549,160.381,298.74,160.381,282.225z"/><path fill="'+u+'" d="M272.875,259.019c-8.145,0-13.397,0.717-16.519,1.435v105.523c3.116,0.729,8.142,0.729,12.69,0.729 c33.017,0.231,54.554-17.946,54.554-56.474C323.842,276.719,304.215,259.019,272.875,259.019z"/><path fill="'+u+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M362.359,309.023c0,30.876-11.243,52.165-26.82,65.333 c-16.971,14.117-42.82,20.814-74.396,20.814c-18.9,0-32.297-1.197-41.401-2.389V234.365c13.399-2.149,30.878-3.346,49.304-3.346 c30.612,0,50.478,5.508,66.039,17.226C351.828,260.69,362.359,280.547,362.359,309.023z M80.7,393.499V234.365 c11.241-1.904,27.042-3.346,49.296-3.346c22.491,0,38.527,4.308,49.291,12.928c10.292,8.131,17.215,21.534,17.215,37.328 c0,15.799-5.25,29.198-14.829,38.285c-12.442,11.728-30.865,16.996-52.407,16.996c-4.778,0-9.1-0.243-12.435-0.723v57.67H80.7 V393.499z M453.601,523.353H97.2V419.302h356.4V523.353z M484.898,262.127h-61.989v36.851h57.913v29.674h-57.913v64.848h-36.593 V232.216h98.582V262.127z"/></svg>'},s.icon.svg=function(o,l,u){return'<svg width="'+o+'" height="'+l+'" viewBox="0 0 550.801 550.801"><path fill="'+u+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M338.871,225.672L284.545,386.96h-42.591 l-51.69-161.288h39.967l19.617,68.196c5.508,19.143,10.531,37.567,14.36,57.67h0.717c4.061-19.385,9.089-38.527,14.592-56.953 l20.585-68.918h38.77V225.672z M68.458,379.54l7.415-30.153c9.811,5.021,24.888,10.051,40.439,10.051 c16.751,0,25.607-6.935,25.607-17.465c0-10.052-7.662-15.795-27.05-22.734c-26.8-9.328-44.263-24.168-44.263-47.611 c0-27.524,22.971-48.579,61.014-48.579c18.188,0,31.591,3.823,41.159,8.131l-8.126,29.437c-6.465-3.116-17.945-7.657-33.745-7.657 c-15.791,0-23.454,7.183-23.454,15.552c0,10.296,9.089,14.842,29.917,22.731c28.468,10.536,41.871,25.365,41.871,48.094 c0,27.042-20.812,50.013-65.09,50.013C95.731,389.349,77.538,384.571,68.458,379.54z M453.601,523.353H97.2V419.302h356.4V523.353z M488.911,379.54c-11.243,3.823-32.537,9.103-53.831,9.103c-29.437,0-50.73-7.426-65.57-21.779 c-14.839-13.875-22.971-34.942-22.738-58.625c0.253-53.604,39.255-84.235,92.137-84.235c20.81,0,36.852,4.073,44.74,7.896 l-7.657,29.202c-8.859-3.829-19.849-6.95-37.567-6.95c-30.396,0-53.357,17.233-53.357,52.173c0,33.265,20.81,52.882,50.73,52.882 c8.375,0,15.072-0.96,17.94-2.395v-33.745h-24.875v-28.471h60.049V379.54L488.911,379.54z" /></svg>'},s.icon.csv=function(o,l,u){return'<svg width="'+o+'" height="'+l+'" viewBox="0 0 548.29 548.291" ><path fill="'+u+'" d="M486.2,196.121h-13.164V132.59c0-0.399-0.064-0.795-0.116-1.2c-0.021-2.52-0.824-5-2.551-6.96L364.656,3.677 c-0.031-0.034-0.064-0.044-0.085-0.075c-0.629-0.707-1.364-1.292-2.141-1.796c-0.231-0.157-0.462-0.286-0.704-0.419 c-0.672-0.365-1.386-0.672-2.121-0.893c-0.199-0.052-0.377-0.134-0.576-0.188C358.229,0.118,357.4,0,356.562,0H96.757 C84.893,0,75.256,9.649,75.256,21.502v174.613H62.093c-16.972,0-30.733,13.756-30.733,30.73v159.81 c0,16.966,13.761,30.736,30.733,30.736h13.163V526.79c0,11.854,9.637,21.501,21.501,21.501h354.777 c11.853,0,21.502-9.647,21.502-21.501V417.392H486.2c16.966,0,30.729-13.764,30.729-30.731v-159.81 C516.93,209.872,503.166,196.121,486.2,196.121z M96.757,21.502h249.053v110.006c0,5.94,4.818,10.751,10.751,10.751h94.973v53.861 H96.757V21.502z M258.618,313.18c-26.68-9.291-44.063-24.053-44.063-47.389c0-27.404,22.861-48.368,60.733-48.368 c18.107,0,31.447,3.811,40.968,8.107l-8.09,29.3c-6.43-3.107-17.862-7.632-33.59-7.632c-15.717,0-23.339,7.149-23.339,15.485 c0,10.247,9.047,14.769,29.78,22.632c28.341,10.479,41.681,25.239,41.681,47.874c0,26.909-20.721,49.786-64.792,49.786 c-18.338,0-36.449-4.776-45.497-9.77l7.38-30.016c9.772,5.014,24.775,10.006,40.264,10.006c16.671,0,25.488-6.908,25.488-17.396 C285.536,325.789,277.909,320.078,258.618,313.18z M69.474,302.692c0-54.781,39.074-85.269,87.654-85.269 c18.822,0,33.113,3.811,39.549,7.149l-7.392,28.816c-7.38-3.084-17.632-5.939-30.491-5.939c-28.822,0-51.206,17.375-51.206,53.099 c0,32.158,19.051,52.4,51.456,52.4c10.947,0,23.097-2.378,30.241-5.238l5.483,28.346c-6.672,3.34-21.674,6.919-41.208,6.919 C98.06,382.976,69.474,348.424,69.474,302.692z M451.534,520.962H96.757v-103.57h354.777V520.962z M427.518,380.583h-42.399 l-51.45-160.536h39.787l19.526,67.894c5.479,19.046,10.479,37.386,14.299,57.397h0.709c4.048-19.298,9.045-38.352,14.526-56.693 l20.487-68.598h38.599L427.518,380.583z" /></svg>'},s.icon.json=function(o,l,u){return'<svg width="'+o+'" height="'+l+'" viewBox="0 0 32 32" ><polygon fill="'+u+'"  points="31 11 31 21 29 21 27 15 27 21 25 21 25 11 27 11 29 17 29 11 31 11"/><path fill="'+u+'"  d="M21.3335,21h-2.667A1.6684,1.6684,0,0,1,17,19.3335v-6.667A1.6684,1.6684,0,0,1,18.6665,11h2.667A1.6684,1.6684,0,0,1,23,12.6665v6.667A1.6684,1.6684,0,0,1,21.3335,21ZM19,19h2V13H19Z"/><path fill="'+u+'"  d="M13.3335,21H9V19h4V17H11a2.002,2.002,0,0,1-2-2V12.6665A1.6684,1.6684,0,0,1,10.6665,11H15v2H11v2h2a2.002,2.002,0,0,1,2,2v2.3335A1.6684,1.6684,0,0,1,13.3335,21Z"/><path fill="'+u+'"  d="M5.3335,21H2.6665A1.6684,1.6684,0,0,1,1,19.3335V17H3v2H5V11H7v8.3335A1.6684,1.6684,0,0,1,5.3335,21Z"/><rect fill="'+u+'"  id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" style="fill: none;" width="32" height="32"/></svg>'},s.icon.excel=function(o,l,u){return'<svg width="'+o+'" height="'+l+'" viewBox="0 0 512 512"><path fill="#ECEFF1" d="M496,432.011H272c-8.832,0-16-7.168-16-16s0-311.168,0-320s7.168-16,16-16h224 c8.832,0,16,7.168,16,16v320C512,424.843,504.832,432.011,496,432.011z" /><path fill="'+u+'" d="M336,176.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,176.011,336,176.011z" /><path fill="'+u+'" d="M336,240.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,240.011,336,240.011z" /><path fill="'+u+'" d="M336,304.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,304.011,336,304.011z" /><path fill="'+u+'" d="M336,368.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,368.011,336,368.011z" /><path fill="'+u+'" d="M432,176.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,176.011,432,176.011z" /><path fill="'+u+'" d="M432,240.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,240.011,432,240.011z" /><path fill="'+u+'" d="M432,304.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,304.011,432,304.011z" /><path fill="'+u+'" d="M432,368.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,368.011,432,368.011z" /><path fill="'+u+'"  d="M282.208,19.691c-3.648-3.04-8.544-4.352-13.152-3.392l-256,48C5.472,65.707,0,72.299,0,80.011v352 c0,7.68,5.472,14.304,13.056,15.712l256,48c0.96,0.192,1.952,0.288,2.944,0.288c3.712,0,7.328-1.28,10.208-3.68 c3.68-3.04,5.792-7.584,5.792-12.32v-448C288,27.243,285.888,22.731,282.208,19.691z" /><path fill="#FAFAFA" d="M220.032,309.483l-50.592-57.824l51.168-65.792c5.44-6.976,4.16-17.024-2.784-22.464 c-6.944-5.44-16.992-4.16-22.464,2.784l-47.392,60.928l-39.936-45.632c-5.856-6.72-15.968-7.328-22.56-1.504 c-6.656,5.824-7.328,15.936-1.504,22.56l44,50.304L83.36,310.187c-5.44,6.976-4.16,17.024,2.784,22.464 c2.944,2.272,6.432,3.36,9.856,3.36c4.768,0,9.472-2.112,12.64-6.176l40.8-52.48l46.528,53.152 c3.168,3.648,7.584,5.504,12.032,5.504c3.744,0,7.488-1.312,10.528-3.968C225.184,326.219,225.856,316.107,220.032,309.483z" /></svg>'},s.icon.edit=function(o,l,u){return'<svg width="'+o+'" height="'+l+'" viewBox="0 0 528.899 528.899"><path fill="'+u+'" d="M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981 c-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611 C532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069 L27.473,390.597L0.3,512.69z" /></svg>'},s.icon.details=function(o,l,u){return'<svg width="'+o+'" height="'+l+'" viewBox="0 0 512 512"><path fill="'+u+'" d="M447.933,103.629c-0.034-3.076-1.224-6.09-3.485-8.352L352.683,3.511c-0.004-0.004-0.007-0.005-0.011-0.008 C350.505,1.338,347.511,0,344.206,0H89.278C75.361,0,64.04,11.32,64.04,25.237v461.525c0,13.916,11.32,25.237,25.237,25.237 h333.444c13.916,0,25.237-11.32,25.237-25.237V103.753C447.96,103.709,447.937,103.672,447.933,103.629z M356.194,40.931 l50.834,50.834h-49.572c-0.695,0-1.262-0.567-1.262-1.262V40.931z M423.983,486.763c0,0.695-0.566,1.261-1.261,1.261H89.278 c-0.695,0-1.261-0.566-1.261-1.261V25.237c0-0.695,0.566-1.261,1.261-1.261h242.94v66.527c0,13.916,11.322,25.239,25.239,25.239 h66.527V486.763z"/><path fill="'+u+'" d="M362.088,164.014H149.912c-6.62,0-11.988,5.367-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,169.381,368.707,164.014,362.088,164.014z"/><path fill="'+u+'" d="M362.088,236.353H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,241.721,368.707,236.353,362.088,236.353z"/><path fill="'+u+'" d="M362.088,308.691H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.367,11.988-11.988C374.076,314.06,368.707,308.691,362.088,308.691z"/><path fill="'+u+'" d="M256,381.031H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988H256 c6.62,0,11.988-5.367,11.988-11.988C267.988,386.398,262.62,381.031,256,381.031z"/></svg>'},s.icon.remove=function(o,l,u){return'<svg width="'+o+'" height="'+l+'"  viewBox="0 0 900.5 900.5"><path fill="'+u+'" d="M176.415,880.5c0,11.046,8.954,20,20,20h507.67c11.046,0,20-8.954,20-20V232.487h-547.67V880.5L176.415,880.5z M562.75,342.766h75v436.029h-75V342.766z M412.75,342.766h75v436.029h-75V342.766z M262.75,342.766h75v436.029h-75V342.766z"/><path fill="'+u+'" d="M618.825,91.911V20c0-11.046-8.954-20-20-20h-297.15c-11.046,0-20,8.954-20,20v71.911v12.5v12.5H141.874 c-11.046,0-20,8.954-20,20v50.576c0,11.045,8.954,20,20,20h34.541h547.67h34.541c11.046,0,20-8.955,20-20v-50.576 c0-11.046-8.954-20-20-20H618.825v-12.5V91.911z M543.825,112.799h-187.15v-8.389v-12.5V75h187.15v16.911v12.5V112.799z"/></svg>'},s.icon.add=function(o,l,u){return'<svg width="'+o+'" height="'+l+'"   viewBox="0 0 922 922"><path fill="'+u+'" d="M922,453V81c0-11.046-8.954-20-20-20H410c-11.045,0-20,8.954-20,20v149h318c24.812,0,45,20.187,45,45v198h149 C913.046,473.001,922,464.046,922,453z" /><path fill="'+u+'" d="M557,667.001h151c11.046,0,20-8.954,20-20v-174v-198c0-11.046-8.954-20-20-20H390H216c-11.045,0-20,8.954-20,20v149h194 h122c24.812,0,45,20.187,45,45v4V667.001z" /><path fill="'+u+'" d="M0,469v372c0,11.046,8.955,20,20,20h492c11.046,0,20-8.954,20-20V692v-12.501V667V473v-4c0-11.046-8.954-20-20-20H390H196 h-12.5H171H20C8.955,449,0,457.955,0,469z" /></svg>'},s.icon.search=function(o,l,u){return'<svg width="'+o+'" height="'+l+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 485.213 485.213"><path fill="'+u+'" d="M471.882,407.567L360.567,296.243c-16.586,25.795-38.536,47.734-64.331,64.321l111.324,111.324 c17.772,17.768,46.587,17.768,64.321,0C489.654,454.149,489.654,425.334,471.882,407.567z" /><path fill="'+u+'" d="M363.909,181.955C363.909,81.473,282.44,0,181.956,0C81.474,0,0.001,81.473,0.001,181.955s81.473,181.951,181.955,181.951 C282.44,363.906,363.909,282.437,363.909,181.955z M181.956,318.416c-75.252,0-136.465-61.208-136.465-136.46 c0-75.252,61.213-136.465,136.465-136.465c75.25,0,136.468,61.213,136.468,136.465 C318.424,257.208,257.206,318.416,181.956,318.416z" /><path fill="'+u+'" d="M75.817,181.955h30.322c0-41.803,34.014-75.814,75.816-75.814V75.816C123.438,75.816,75.817,123.437,75.817,181.955z" /></svg>'},s.icon.xml=function(o,l,u){return'<svg width="'+o+'" height="'+l+'" viewBox="0 0 550.801 550.801"><path fill="'+u+'"  d="M488.426,197.019H475.2v-63.816c0-0.401-0.063-0.799-0.116-1.205c-0.021-2.534-0.827-5.023-2.562-6.992L366.325,3.691 c-0.032-0.031-0.063-0.042-0.085-0.073c-0.633-0.707-1.371-1.298-2.151-1.804c-0.231-0.158-0.464-0.287-0.706-0.422 c-0.676-0.366-1.393-0.675-2.131-0.896c-0.2-0.053-0.38-0.135-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.87v160.542 c0,17.044,13.824,30.876,30.873,30.876h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87V227.89C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.51c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M369.531,374.53h-32.058l-2.156-55.519 c-0.644-17.434-1.298-38.518-1.298-59.611h-0.633c-4.514,18.516-10.547,39.166-16.137,56.162l-17.645,56.601h-25.618 l-15.494-56.157c-4.725-16.996-9.671-37.658-13.123-56.6h-0.43c-0.854,19.585-1.508,41.961-2.586,60.038l-2.576,55.086h-30.343 l9.26-145.035h43.677l14.207,48.421c4.517,16.774,9.041,34.847,12.258,51.843h0.654c4.081-16.77,9.038-35.923,13.774-52.064 l15.493-48.199h42.82L369.531,374.53z M69.992,374.53l41.955-73.385l-40.444-71.65h37.655l12.688,26.465 c4.316,8.828,7.533,15.928,10.99,24.092h0.422c3.438-9.242,6.23-15.694,9.893-24.092l12.274-26.465h37.434l-40.89,70.796 l43.044,74.239h-37.866l-13.134-26.257c-5.376-10.108-8.817-17.639-12.909-26.04h-0.433c-3.009,8.401-6.674,15.932-11.19,26.04 l-12.042,26.257H69.992z M453.601,523.353H97.2V419.302h356.4V523.353z M485.325,374.53h-90.608V229.495h32.933v117.497h57.682 v27.538H485.325z"/></svg>'},s.icon.link=function(o,l,u){return'<svg width="'+o+'" height="'+l+'" viewBox="0 0 512.092 512.092"  ><path fill="'+u+'" d="M312.453,199.601c-6.066-6.102-12.792-11.511-20.053-16.128c-19.232-12.315-41.59-18.859-64.427-18.859 c-31.697-0.059-62.106,12.535-84.48,34.987L34.949,308.23c-22.336,22.379-34.89,52.7-34.91,84.318 c-0.042,65.98,53.41,119.501,119.39,119.543c31.648,0.11,62.029-12.424,84.395-34.816l89.6-89.6 c1.628-1.614,2.537-3.816,2.524-6.108c-0.027-4.713-3.87-8.511-8.583-8.484h-3.413c-18.72,0.066-37.273-3.529-54.613-10.581 c-3.195-1.315-6.867-0.573-9.301,1.877l-64.427,64.512c-20.006,20.006-52.442,20.006-72.448,0 c-20.006-20.006-20.006-52.442,0-72.448l108.971-108.885c19.99-19.965,52.373-19.965,72.363,0 c13.472,12.679,34.486,12.679,47.957,0c5.796-5.801,9.31-13.495,9.899-21.675C322.976,216.108,319.371,206.535,312.453,199.601z" /><path fill="'+u+'" d="M477.061,34.993c-46.657-46.657-122.303-46.657-168.96,0l-89.515,89.429c-2.458,2.47-3.167,6.185-1.792,9.387 c1.359,3.211,4.535,5.272,8.021,5.205h3.157c18.698-0.034,37.221,3.589,54.528,10.667c3.195,1.315,6.867,0.573,9.301-1.877 l64.256-64.171c20.006-20.006,52.442-20.006,72.448,0c20.006,20.006,20.006,52.442,0,72.448l-80.043,79.957l-0.683,0.768 l-27.989,27.819c-19.99,19.965-52.373,19.965-72.363,0c-13.472-12.679-34.486-12.679-47.957,0 c-5.833,5.845-9.35,13.606-9.899,21.845c-0.624,9.775,2.981,19.348,9.899,26.283c9.877,9.919,21.433,18.008,34.133,23.893 c1.792,0.853,3.584,1.536,5.376,2.304c1.792,0.768,3.669,1.365,5.461,2.048c1.792,0.683,3.669,1.28,5.461,1.792l5.035,1.365 c3.413,0.853,6.827,1.536,10.325,2.133c4.214,0.626,8.458,1.025,12.715,1.195h5.973h0.512l5.12-0.597 c1.877-0.085,3.84-0.512,6.059-0.512h2.901l5.888-0.853l2.731-0.512l4.949-1.024h0.939c20.961-5.265,40.101-16.118,55.381-31.403 l108.629-108.629C523.718,157.296,523.718,81.65,477.061,34.993z" /></svg>'},s.icon.happy=function(o,l,u){return'<svg width="'+o+'" height="'+l+'" viewBox="0 0 512 512"><path fill="'+u+'" d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z"/><path fill="'+u+'" d="M176,176c17.673,0,32,14.327,32,32h32c0-35.346-28.654-64-64-64c-35.346,0-64,28.654-64,64h32 C144,190.327,158.327,176,176,176z"/><path fill="'+u+'" d="M336,144c-35.346,0-64,28.654-64,64h32c0-17.673,14.327-32,32-32c17.673,0,32,14.327,32,32h32 C400,172.654,371.346,144,336,144z"/><path fill="'+u+'" d="M256,368c-53.019,0-96-42.981-96-96h-32c0,70.692,57.308,128,128,128s128-57.308,128-128h-32 C352,325.019,309.019,368,256,368z"/></svg>'},s.icon.sad=function(o,l,u){return'<svg width="'+o+'" height="'+l+'" viewBox="0 0 512 512"><path fill="'+u+'" d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z"/><path fill="'+u+'" d="M336,192c-17.673,0-32-14.327-32-32h-32c0,35.346,28.654,64,64,64c35.346,0,64-28.654,64-64h-32 C368,177.673,353.673,192,336,192z"/><path fill="'+u+'" d="M176,224c35.346,0,64-28.654,64-64h-32c0,17.673-14.327,32-32,32s-32-14.327-32-32h-32C112,195.346,140.654,224,176,224z "/><path fill="'+u+'" d="M256,256c-70.692,0-128,57.308-128,128h32c0-53.019,42.981-96,96-96s96,42.981,96,96h32C384,313.308,326.692,256,256,256 z"/></svg>'},s.icon.share=function(o,l,u,d,h){return null==d&&(d=0),null==h&&(h=0),`<svg width="${o}" height="${l}" x="${d}" y="${h}" viewBox="0 0 512 512">\n                <path fill="${u}" d="M406,332c-29.641,0-55.761,14.581-72.167,36.755L191.99,296.124c2.355-8.027,4.01-16.346,4.01-25.124\n                    c0-11.906-2.441-23.225-6.658-33.636l148.445-89.328C354.307,167.424,378.589,180,406,180c49.629,0,90-40.371,90-90\n                    c0-49.629-40.371-90-90-90c-49.629,0-90,40.371-90,90c0,11.437,2.355,22.286,6.262,32.358l-148.887,89.59\n                    C156.869,193.136,132.937,181,106,181c-49.629,0-90,40.371-90,90c0,49.629,40.371,90,90,90c30.13,0,56.691-15.009,73.035-37.806\n                    l141.376,72.395C317.807,403.995,316,412.75,316,422c0,49.629,40.371,90,90,90c49.629,0,90-40.371,90-90\n                    C496,372.371,455.629,332,406,332z"/>\n                </svg>`},s.icon.user=function(o,l,u,d,h){return s.isNEU(d)&&(d=0),s.isNEU(h)&&(h=0),`<svg width="${o}" height="${l}" x="${d}" y="${h}" viewBox="0 0 24 24">\n                <path fill="${u}" d="M12 11.796C14.7189 11.796 16.9231 9.60308 16.9231 6.89801C16.9231 4.19294 14.7189 2.00005 12 2.00005C9.28106 2.00005 7.07692 4.19294 7.07692 6.89801C7.07692 9.60308 9.28106 11.796 12 11.796Z" fill="#030D45"/>\n                <path fill="${u}" d="M14.5641 13.8369H9.4359C6.46154 13.8369 4 16.2859 4 19.245C4 19.9593 4.30769 20.5716 4.92308 20.8777C5.84615 21.3879 7.89744 22.0001 12 22.0001C16.1026 22.0001 18.1538 21.3879 19.0769 20.8777C19.5897 20.5716 20 19.9593 20 19.245C20 16.1838 17.5385 13.8369 14.5641 13.8369Z" fill="#030D45"/>\n            </svg>`},s.icon.close=function(o,l,u,d,h){return null==d&&(d=0),null==h&&(h=0),`<svg width="${o}" height="${l}" x="${d}" y="${h}" viewBox="0 0 512 512">\n    <path fill="${u}" d="m256 0c-141.49 0-256 114.5-256 256 0 141.49 114.5 256 256 256 141.49 0 256-114.5 256-256 0-141.49-114.5-256-256-256zm-12.284 317.397-58.121 58.132c-6.565 6.553-15.283 10.166-24.557 10.166-19.196 0-34.734-15.526-34.734-34.734 0-9.274 3.612-17.992 10.166-24.557l58.132-58.121c6.785-6.784 6.785-17.783 0-24.568l-58.132-58.121c-6.553-6.565-10.166-15.283-10.166-24.557 0-19.196 15.526-34.734 34.734-34.734 9.274 0 17.992 3.613 24.557 10.166l58.121 58.132c6.785 6.773 17.784 6.773 24.568 0l58.121-58.132c6.565-6.553 15.283-10.166 24.557-10.166 19.196 0 34.734 15.526 34.734 34.734 0 9.274-3.612 17.992-10.166 24.557l-58.132 58.121c-6.785 6.784-6.785 17.783 0 24.568l58.132 58.121c6.553 6.565 10.166 15.283 10.166 24.557 0 19.196-15.526 34.734-34.734 34.734-9.274 0-17.992-3.613-24.557-10.166l-58.121-58.132c-6.784-6.784-17.784-6.773-24.568 0z"/>\n    </svg>`},s.prototype.exportPDFProfile=function(o,l){o=this._defaultExportProfileOptions(o,"pdf"),this._exportProfile(o,l)},s.prototype.exportPDFPreview=function(o){s.pdfPrevUI.show(this,o)},s.prototype.exportPNGProfile=function(o,l){o=this._defaultExportProfileOptions(o,"png"),this._exportProfile(o,l)},s.prototype.shareProfile=function(o){var l;"object"==typeof o?o=(l=o).focusId:l=this.editUI.content(o,!0,!0,"100%",!0);var u=new URL(window.location.href);u.searchParams.append("nodeId",o);var d={title:l.title,text:l.shareText,url:u.href};try{navigator.share(d)}catch(h){console.error("error: "+h)}},s.prototype.exportPDF=function(o,l){o=this._defaultExportOptions(o,"pdf"),this._export(o,l)},s.prototype.exportPNG=function(o,l){o=this._defaultExportOptions(o,"png"),this._export(o,l)},s.prototype.exportSVG=function(o,l){o=this._defaultExportOptions(o,"svg"),this._export(o,l)},s.prototype._defaultExportOptions=function(o,l){return null==o&&(o={}),"svg"==l?(o.ext="svg",o.mime="image/svg+xml"):"pdf"==l?(o.mime="application/pdf",o.ext="pdf"):"png"==l&&(o.mime="image/png",o.ext="png"),null==o.margin&&(o.margin=[50,40,50,40]),null==o.padding&&(o.padding=0),null==o.landscape&&(o.landscape=!1),null==o.filename&&(o.filename="OrgChart."+o.ext),null==o.scale&&(o.scale="fit"),null==o.format&&(o.format="fit"),null==o.header&&(o.header=""),"pdf"==l&&null==o.footer?o.footer="Page {current-page} of {total-pages}":null==o.footer&&(o.footer=""),null==o.openInNewTab&&(o.openInNewTab=!1),null==o.mode&&(o.mode="boc-"+this.config.mode),o},s.prototype._export=function(o,l){var u=this,d={id:o.nodeId,expandChildren:o.expandChildren,min:o.min};o.margin&&o.margin[0]<2&&(o.margin[0]=2),o.margin&&o.margin[1]<2&&(o.margin[1]=2),o.margin&&o.margin[2]<2&&(o.margin[2]=2),o.margin&&o.margin[3]<2&&(o.margin[3]=2),this._draw(!1,s.action.exporting,d,function(h){var m=document.createElement("div");if(m.innerHTML=h,o.padding>0){var b=m.querySelector("svg"),y=s._getViewBox(b);y[0]-=o.padding,y[1]-=o.padding,y[2]+=2*o.padding,y[3]+=2*o.padding,b.setAttribute("viewBox",y.join()),b.setAttribute("width",y[2]),b.setAttribute("height",y[3])}if("svg"==o.ext)if(l)l(o,m.innerHTML);else{(b=m.querySelector("svg")).classList.add("boc-"+u.config.mode);var v={content:m.innerHTML,options:o,styles:""},x=s.events.publish("exportstart",[u,v]),_=u.element.querySelector("[data-boc-styles]");if(_&&(v.styles+=_.outerHTML),v.styles&&(m.childNodes[0].insertAdjacentHTML("afterbegin",v.styles),v.content=m.innerHTML),!1===x||!1===(x=s.events.publish("exportend",[u,v])))return!1;s._downloadFile(o.mime,v.content,v.options.filename,v.options.openInNewTab,v.options.ext)}else u._pages(o,m.querySelector("svg"),function(D){var E={content:m.innerHTML,options:o,pages:D,styles:""},S=s.events.publish("exportstart",[u,E]),M=u.element.querySelector("[data-boc-styles]");if(M&&(E.styles+=M.outerHTML),!1===S)return!1;l||s.loading.show(u),l?l(u,E,m.querySelector("svg")):(E=JSON.stringify(E),s._ajax(u.config.exportUrl+"/v3","POST",E,"arraybuffer",function(L){var T=s.events.publish("exportend",[u,L]);if(s.loading.hide(u),!1===T)return!1;s._downloadFile(o.mime,L,o.filename,o.openInNewTab,o.ext)}))})})},s.prototype.exportCSV=function(o){o||(o="OrgChart.csv");var l={ext:"csv",filename:o,nodes:JSON.parse(JSON.stringify(this.config.nodes))};if(!1===s.events.publish("exportstart",[this,l]))return!1;var u=s._json2csv(l.nodes),d={ext:l.ext,filename:l.filename,nodes:l.nodes,content:u};if(!1===s.events.publish("exportend",[this,d]))return!1;s._downloadFile("text/csv;charset=utf-8;","\ufeff"+d.content,d.filename,d.openInNewTab,d.ext)},s.prototype.exportXML=function(o){o||(o="OrgChart.xml");var l={ext:"xml",filename:o,nodes:JSON.parse(JSON.stringify(this.config.nodes))};if(!1===s.events.publish("exportstart",[this,l]))return!1;var u=s._json2xml(l.nodes),d={ext:l.ext,filename:l.filename,nodes:l.nodes,content:u};if(!1===s.events.publish("exportend",[this,d]))return!1;s._downloadFile("application/xml",d.content,d.filename,d.openInNewTab,d.ext)},s.prototype.exportJSON=function(o){o||(o="OrgChart.json");var l={ext:"json",filename:o,nodes:JSON.parse(JSON.stringify(this.config.nodes))};if(!1===s.events.publish("exportstart",[this,l]))return!1;var u={ext:l.ext,filename:l.filename,nodes:l.nodes,content:JSON.stringify(l.nodes)};if(!1===s.events.publish("exportend",[this,u]))return!1;s._downloadFile("application/json",u.content,u.filename,u.openInNewTab,u.ext)},s.prototype._pages=function(o,l,u){"A5"==o.format&&"fit"!=o.scale||"A4"==o.format&&"fit"!=o.scale||"A3"==o.format&&"fit"!=o.scale||"A2"==o.format&&"fit"!=o.scale||"A1"==o.format&&"fit"!=o.scale||"Letter"==o.format&&"fit"!=o.scale||"Legal"==o.format&&"fit"!=o.scale?u(this._pagesA100(o,l,o.scale)):"A5"==o.format&&"fit"==o.scale||"A4"==o.format&&"fit"==o.scale||"A3"==o.format&&"fit"==o.scale||"A2"==o.format&&"fit"==o.scale||"A1"==o.format&&"fit"==o.scale||"Letter"==o.format&&"fit"==o.scale||"Legal"==o.format&&"fit"==o.scale?u(this._pagesAfit(o,l)):"fit"==o.format&&u(this._pagesFit(o,l))},s.prototype._pagesFit=function(o,l){var u=l.getAttribute("width"),d=l.getAttribute("height"),h=s._getViewBox(l),m={w:parseFloat(u),h:parseFloat(d)};return[{vb:h,size:{w:m.w+(o.margin[1]+o.margin[3]),h:m.h+(o.margin[0]+o.margin[2])},innerSize:m}]},s.prototype._pagesAfit=function(o,l){var u=l.getAttribute("width"),d=0,h=0;switch(o.format){case"A5":d=s.A5w,h=s.A5h;break;case"A4":d=s.A4w,h=s.A4h;break;case"A3":d=s.A3w,h=s.A3h;break;case"A2":d=s.A2w,h=s.A2h;break;case"A1":d=s.A1w,h=s.A1h;break;case"Letter":d=s.Letterw,h=s.Letterh;break;case"Legal":d=s.Legalw,h=s.Legalh}return this._pagesA100(o,l,(o.landscape?h-(o.margin[1]+o.margin[3]):d-(o.margin[1]+o.margin[3]))/u*100)},s.prototype._pagesA100=function(o,l,u){var d=s._getViewBox(l),h=0,m=0;switch(o.format){case"A5":h=s.A5w,m=s.A5h;break;case"A4":h=s.A4w,m=s.A4h;break;case"A3":h=s.A3w,m=s.A3h;break;case"A2":h=s.A2w,m=s.A2h;break;case"A1":h=s.A1w,m=s.A1h;break;case"Letter":h=s.Letterw,m=s.Letterh;break;case"Legal":h=s.Legalw,m=s.Legalh}var b=d[0],y=d[1],v=d[2],x=d[3],_={w:o.landscape?m-(o.margin[1]+o.margin[3]):h-(o.margin[1]+o.margin[3]),h:o.landscape?h-(o.margin[0]+o.margin[2]):m-(o.margin[0]+o.margin[2])},D={w:o.landscape?m:h,h:o.landscape?h:m};l.setAttribute("preserveAspectRatio","xMinYMin slice"),l.setAttribute("width",_.w),l.setAttribute("height",_.h);for(var E=_.w*(100/u),S=_.h*(100/u),M=b,L=y,T=[];M<v+b;){for(;L<x+y;){var I=[M,L,E,S];I=I.join(),T.push({vb:I,innerSize:_,size:D}),L+=S}M+=E,L=y}return T},s.prototype._defaultExportProfileOptions=function(o,l){return(s.isNEU(o)||s.isNEU(o.id))&&console.error("options.id is not defilned"),"svg"==l?(o.ext="svg",o.mime="image/svg+xml"):"pdf"==l?(o.mime="application/pdf",o.ext="pdf"):"png"==l&&(o.mime="image/png",o.ext="png"),null==o.margin&&(o.margin=[50,40,50,40]),null==o.padding&&(o.padding=0),null==o.landscape&&(o.landscape=!1),null==o.filename&&(o.filename="Profile."+o.ext),null==o.scale&&(o.scale="fit"),null==o.format&&(o.format="A4"),null==o.header&&(o.header=""),null==o.footer&&(o.footer=""),null==o.openInNewTab&&(o.openInNewTab=!1),null==o.mode&&(o.mode="boc-"+this.config.mode),o},s.prototype._exportProfile=function(o,l){var u=this,d=0,h=0;switch(o.format){case"A5":d=s.A5w,h=s.A5h;break;case"A4":d=s.A4w,h=s.A4h;break;case"A3":d=s.A3w,h=s.A3h;break;case"A2":d=s.A2w,h=s.A2h;break;case"A1":d=s.A1w,h=s.A1h;break;case"Letter":d=s.Letterw,h=s.Letterh;break;case"Legal":d=s.Legalw,h=s.Legalh}var m={w:o.landscape?h-(o.margin[1]+o.margin[3]):d-(o.margin[1]+o.margin[3]),h:o.landscape?d-(o.margin[0]+o.margin[2]):h-(o.margin[0]+o.margin[2])},b={w:o.landscape?h:d,h:o.landscape?d:h},y=this.editUI.content(o.id,!0,!0,"100%",!0).element;s.input.init(y);var v={content:y.outerHTML,options:o,pages:[{vb:"",innerSize:m,size:b}],styles:""};if(!l){if(!1===s.events.publish("exportstart",[u,v]))return!1;s.loading.show(u)}var x=this.element.querySelector("[data-boc-styles]");x&&(v.styles+=x.outerHTML);var _=this.getSvg().querySelector("defs");if(_)for(var D=0;D<_.children.length;D++)"style"==_.children[D].nodeName.toLowerCase()&&(v.styles+=_.children[D].outerHTML);v=JSON.stringify(v),s._ajax(this.config.exportUrl+"/v3","POST",v,"arraybuffer",function(E){if(l)l(u,E);else{var S=s.events.publish("exportend",[u,E]);if(s.loading.hide(u),!1===S)return!1;s._downloadFile(o.mime,E,o.filename,o.openInNewTab,o.ext)}})},void 0===s&&(s={}),s.events=(o={},{on:function(l,u,d){Array.isArray(o[l])||(o[l]=[]),o[l].push({listener:u,event_id:d})},removeAll:function(l){Array.isArray(o[l])||(o[l]=[]),o[l]=[]},has:function(l,u){if(o[l]&&Array.isArray(o[l])&&o[l].length>0){if(s.isNEU(u))return!0;for(var d=0;d<o[l].length;d++)if(o[l][d].event_id==u)return!0}return!1},removeForEventId:function(l){for(var u in o)if(Array.isArray(o[u]))for(var d=o[u].length-1;d>=0;d--)o[u][d].event_id==l&&o[u].splice(d,1)},publish:function(l,u){if(o[l]){for(var d=[],h=0;h<o[l].length;h++){var m=o[l][h];null!=m.event_id&&m.event_id!=u[0]._event_id||d.push(m.listener)}if(d.length>0){var b=!0;for(h=0;h<d.length&&(1==u.length?b=d[h](u[0])&&b:2==u.length?b=d[h](u[0],u[1])&&b:3==u.length?b=d[h](u[0],u[1],u[2])&&b:4==u.length?b=d[h](u[0],u[1],u[2],u[3])&&b:5==u.length&&(b=d[h](u[0],u[1],u[2],u[3],u[4])&&b),!1!==b);h++);return b}}}}),s.prototype.importCSV=function(){var o=this,l=document.createElement("INPUT");l.setAttribute("type","file"),l.setAttribute("accept",".csv"),l.style.display="none",l.onchange=function(u){var d=u.target,h=new FileReader;h.onload=function(){var b=s._csvToArray(h.result),y=[];s._importSetColumnNames(b[0],function(x){for(var _=1;_<b.length;_++){for(var D={},E=0;E<b[_].length;E++){var S=x[E];D[S]=s._convertStringToArray(S,b[_][E])}""!=D.id.trim()&&y.push(D)}var L={nodes:y,columnNames:b[0]};0!=s.events.publish("import",[o,L])&&(o.config.nodes=L.nodes,o.draw())})},h.readAsText(d.files[0])},l.click()},s._importSetColumnNames=function(o,l){if(-1==o.indexOf("id")||-1==o.indexOf("pid")){var u=document.createElement("DIV"),d=document.createElement("P");d.style.padding="5px",d.style.color="rgb(122, 122, 122)",d.innerHTML=s.IMPORT_MESSAGE,u.appendChild(d);var h=document.createElement("div"),m=document.createElement("div"),b=document.createElement("div"),y=document.createElement("span");h.setAttribute("id","boc-sampleDialog"),h.style.height="260px",h.style.width="400px",h.style.background="white",h.style.border="0.5px solid grey",h.style.position="fixed",h.style.overflow="hidden",h.style.zIndex="99",m.setAttribute("id","title"),m.style.backgroundColor="#e5e5e5",m.style.fontWeight="bold",m.style.color="rgb(122, 122, 122)",m.style.height="20px",m.style.padding="3px 0 0 7px",y.setAttribute("id","close"),y.style.cursor="pointer",y.style.position="absolute",y.style.color="rgb(122, 122, 122)",y.style.fontWeight="bold",y.style.top="2px",y.style.zIndex=100,b.setAttribute("id","content"),b.style.padding="2px",m.innerHTML="Import Organizational Chart Data",y.innerHTML="&times;";var v=document.createElement("HR");v.style.height="0.1px",v.style.backgroundColor="#aeaeae",v.style.border="none",v.style.margin="0",h.appendChild(m),h.appendChild(v),b.appendChild(u),h.appendChild(b),h.appendChild(y),document.body.appendChild(h),s._importCenter(h),y.style.left=h.offsetWidth-20+"px";var x=document.createElement("div");x.setAttribute("id","overlay"),x.style.width="100%",x.style.height="100%",x.style.left=0,x.style.top=0,x.style.position="fixed",x.style.background="grey",x.style.opacity="0.5",x.style.zIndex=98,document.body.appendChild(x),h._overlay=x;var _=document.createElement("LABEL"),D=document.createTextNode("Name:");_.setAttribute("for","boc-id-select"),_.appendChild(D),_.style.fontSize="16px",_.style.color="rgb(122, 122, 122)",_.style.padding="5px",_.style.margin="5px",_.style.width="30%",_.style.textAlign="right",_.style.display="inline-block",u.appendChild(_);var E=document.createElement("SELECT");E.id="boc-id-select",E.style.fontSize="16px",E.style.color="rgb(122, 122, 122)",E.style.padding="5px",E.style.margin="5px",E.style.width="60%",E.style.border="1px solid #aeaeae",u.appendChild(E);var S=document.createElement("BR");u.appendChild(S);for(var M=0;M<o.length;M++){(R=document.createElement("option")).setAttribute("value",o[M]);var L=document.createTextNode(o[M]);R.appendChild(L),E.appendChild(R)}var T=document.createElement("LABEL"),I=document.createTextNode("Reports to:");T.setAttribute("for","pid-select"),T.appendChild(I),T.style.fontSize="16px",T.style.color="rgb(122, 122, 122)",T.style.padding="5px",T.style.margin="5px",T.style.width="30%",T.style.textAlign="right",T.style.display="inline-block",u.appendChild(T);var k=document.createElement("SELECT");for(k.id="pid-select",k.style.fontSize="16px",k.style.color="rgb(122, 122, 122)",k.style.padding="5px",k.style.margin="5px",k.style.width="60%",k.style.border="1px solid #aeaeae",u.appendChild(k),M=0;M<o.length;M++){var R;(R=document.createElement("option")).setAttribute("value",o[M]),L=document.createTextNode(o[M]),R.appendChild(L),k.appendChild(R)}var P=document.createElement("BUTTON");P.innerHTML="Import",P.style.fontSize="16px",P.style.color="rgb(122, 122, 122)",P.style.padding="5px 20px",P.style.margin="20px auto",P.style.display="block",P.onclick=function(){h.style.display="none",h._overlay&&h._overlay.parentNode.removeChild(h._overlay);var $=o.indexOf(E.options[E.selectedIndex].value);o[$]="id";var G=o.indexOf(k.options[k.selectedIndex].value);o[G]="pid",l(o)};var O=document.createElement("DIV");return O.appendChild(P),u.appendChild(O),y.onclick=function(U){h._overlay&&h._overlay.parentNode.removeChild(h._overlay),h.parentNode.removeChild(h),U.stopPropagation()},m.onmousedown=function(U){U=U||window.event,h._dragging=!0,h._originalLeft=h.offsetLeft,h._originalTop=h.offsetTop,h._mouseLeft=U.clientX,h._mouseTop=U.clientY},document.onmousemove=function(U){U=U||window.event,h._dragging&&(h.style.left=h._originalLeft+U.clientX-h._mouseLeft+"px",h.style.top=h._originalTop+U.clientY-h._mouseTop+"px")},document.onmouseup=function(U){U=U||window.event,h._dragging&&(h.style.left=h._originalLeft+U.clientX-h._mouseLeft+"px",h.style.top=h._originalTop+U.clientY-h._mouseTop+"px",h._dragging=!1)},h}l(o)},s._importCenter=function(o){o&&(o.style.left=(window.innerWidth-o.offsetWidth)/2+"px",o.style.top=(window.innerHeight-o.offsetHeight)/2+"px")},s.prototype.importXML=function(){var o=this,l=document.createElement("INPUT");l.setAttribute("type","file"),l.setAttribute("accept",".xml"),l.style.display="none",l.onchange=function(u){var d=u.target,h=new FileReader;h.onload=function(){var b=s._xml2json(h.result);0!=s.events.publish("import",[o,b])&&(o.config.nodes=b,o.draw())},h.readAsText(d.files[0])},l.click()},s.prototype.importJSON=function(){var o=this,l=document.createElement("INPUT");l.setAttribute("type","file"),l.setAttribute("accept",".json"),l.style.display="none",l.onchange=function(u){var d=u.target,h=new FileReader;h.onload=function(){var b=JSON.parse(h.result);0!=s.events.publish("import",[o,b])&&(o.config.nodes=b,o.draw())},h.readAsText(d.files[0])},l.click()},s.prototype.expand=function(o,l,u){this._draw(!1,s.action.expand,{id:o,ids:l},u)},s.prototype.collapse=function(o,l,u){this._draw(!1,s.action.collapse,{id:o,ids:l},u)},s.prototype.expandCollapse=function(o,l,u,d){Array.isArray(l)||(l=[]),Array.isArray(u)||(u=[]);var h={id:o,expandIds:l,collapseIds:u,ids:l.concat(u)};this._draw(!1,s.action.collapse,h,d)},s.prototype.changeRoots=function(o,l,u){this.config.roots=l,this._draw(!1,s.action.update,{id:o,changeRoots:l},u)},s.prototype.maximize=function(o,l,u,d){var h=this,m={id:o,options:{}};s.isNEU(m.id)&&(m.id=this.roots[0].id,m.all=!0),m.options.horizontal=!1,m.options.vertical=!1,l&&(m.options.horizontal=l),u&&(m.options.vertical=u),this._draw(!1,s.action.maximize,m,function(){h.ripple(o),d&&d()})},s.prototype.minimize=function(o,l){var u=this,d={id:o};s.isNEU(d.id)&&(d.id=this.roots[0].id,d.all=!0),this._draw(!1,s.action.minimize,d,function(){u.ripple(o),l&&l()})},s.prototype._expCollHandler=function(o){this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var l=this.getNode(o),u=this.getCollapsedIds(l);if(u.length){if(!1===s.events.publish("expcollclick",[this,!1,o,u]))return!1;this.expand(o,u,!1)}else{if(!1===s.events.publish("expcollclick",[this,!0,o,l.childrenIds]))return!1;this.collapse(o,l.childrenIds,!1)}},s.prototype._upHandler=function(o){this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var l=this._upHandlerCreateArgs(o);if(!1===s.events.publish("up-click",[this,l]))return!1;this.changeRoots(l.id,l.roots,!1)},s.prototype._upHandlerCreateArgs=function(o){var l,u=this.getNode(o),d=Object.assign([],this.config.roots),h=this.getNode(u.pid);if(h&&(l=h),l){if(Array.isArray(d)){var m=d.indexOf(u.id);-1!=m&&d.splice(m,1)}else d=[];d.push(l.id)}return{id:u.id,roots:d}},String.prototype.replaceAll||(String.prototype.replaceAll=function(o,l){return this.replace(new RegExp(o,"g"),l)}),String.prototype.endsWith||(String.prototype.endsWith=function(o){return-1!==this.indexOf(o,this.length-o.length)}),String.prototype.splice||(String.prototype.splice=function(o,l,u){return this.slice(0,o)+u+this.slice(o+Math.abs(l))}),String.prototype.insert||(String.prototype.insert=function(o,l){return o>0?this.substring(0,o)+l+this.substr(o):l+this}),Array.prototype.unique||Object.defineProperty(Array.prototype,"unique",{value:function(){for(var o=this.concat(),l=0;l<o.length;++l)for(var u=l+1;u<o.length;++u)o[l]===o[u]&&o.splice(u--,1);return o},writable:!0,configurable:!0,enumerable:!1}),Array.prototype.has||Object.defineProperty(Array.prototype,"has",{value:function(o){for(var l=0;l<this.length;l++)if(this[l]==o)return!0;return!1},writable:!0,configurable:!0,enumerable:!1}),Array.prototype.compare||Object.defineProperty(Array.prototype,"compare",{value:function(o){if(this.length!=o.length)return!1;for(var l=0;l<this.length;l++)if(!o.has(this[l]))return!1;return!0},writable:!0,configurable:!0,enumerable:!1}),Object.assign||Object.defineProperty(Object,"assign",{value:function(o,l){"use strict";if(null==o)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(o),d=1;d<arguments.length;d++){var h=arguments[d];if(null!=h)for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(u[m]=h[m])}return u},writable:!0,configurable:!0}),s.prototype._globalMouseDownHandler=function(o,l){var u={move:"mousemove",up:"mouseup",leave:"mouseleave"};if(-1!=l.type.indexOf("touch")&&(this._touch=1==l.touches.length?{x:l.touches[0].clientX,y:l.touches[0].clientY}:null,u={move:"touchmove",up:"touchend",touchstart:"touchstart"}),o==l.target)return l.stopPropagation(),l.preventDefault(),void this._mouseDownHandler(o,l,u);if(this.config.nodeMouseClick==s.action.pan){for(var d=l.target;d!=o&&!d.hasAttribute(s.attr.control_expcoll_id)&&!d.hasAttribute(s.attr.control_up_id);)d=d.parentNode;if(!d.hasAttribute(s.attr.control_expcoll_id)&&!d.hasAttribute(s.attr.control_up_id))return l.stopPropagation(),l.preventDefault(),void this._mouseDownHandler(o,l,u)}for(var h=l.target;h!=o;){if(h.hasAttribute(s.attr.node_id))return void this._nodeMouseDownHandler(h,l,u);if(h.hasAttribute(s.attr.control_node_circle_menu_name))return l.stopPropagation(),l.preventDefault(),void this._nodeCircleNodeMenuItemMouseDownHandler(h,l,u);h=h.parentNode}},s.prototype._globalClickHandler=function(o,l){if(-1!=l.type.indexOf("touch")&&this._touch&&1==l.changedTouches.length){if(l.changedTouches.length){var u={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY},d=s.t(this.config.template,!1,this.getScale()).size,h=this.getScale(),m=Math.abs(u.x-this._touch.x)/h,b=Math.abs(u.y-this._touch.y)/h;if(this._touch=null,m>d[0]/10||b>d[1]/10)return}}else if(-1!=l.type.indexOf("touch")&&null==this._touch)return;for(var y=l.target;y!=o;){if(y.hasAttribute(s.attr.control_expcoll_id)){var v=y.getAttribute(s.attr.control_expcoll_id),x=this.getNode(v);return void this._expCollHandler(x.id)}if(y.hasAttribute(s.attr.node_id))return v=y.getAttribute(s.attr.node_id),x=this.getNode(v),void this._nodeClickHandler(x.id,l);if(y.hasAttribute(s.attr.control_node_menu_id))return l.stopPropagation(),l.preventDefault(),v=y.getAttribute(s.attr.control_node_menu_id),x=this.getNode(v),void this._nodeMenuClickHandler(x.id,y,l);if(y.hasAttribute(s.attr.control_node_circle_menu_id))return l.stopPropagation(),l.preventDefault(),v=y.getAttribute(s.attr.control_node_circle_menu_id),void this._nodeCircleMenuClickHandler(v);if(y.hasAttribute(s.attr.control_node_circle_menu_name))return l.stopPropagation(),l.preventDefault(),void this._nodeCircleMenuItemClickHandler(y,l);if(y.hasAttribute(s.attr.control_add))return void this._lonelyButtonHandler();if(y.hasAttribute(s.attr.control_up_id))return v=y.getAttribute(s.attr.control_up_id),l.stopPropagation(),l.preventDefault(),void this._upHandler(v);if(y.hasAttribute(s.attr.c_link_from))return void s.events.publish("clink-click",[this,{from:y.getAttribute(s.attr.c_link_from),to:y.getAttribute(s.attr.c_link_to),event:l}]);if(y.hasAttribute(s.attr.s_link_from))return void s.events.publish("slink-click",[this,{from:y.getAttribute(s.attr.s_link_from),to:y.getAttribute(s.attr.s_link_to),event:l}]);y=y.parentNode}},s.prototype._globalContextHandler=function(o,l){for(var u=l.target;u!=o;){if(u.hasAttribute(s.attr.node_id)){var d=u.getAttribute(s.attr.node_id),h=this.getNode(d);return void this._nodeContextHandler(h.id,l)}u=u.parentNode}},s.prototype._nodeContextHandler=function(o,l){l.preventDefault(),s.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var u=this.get(o),d=null;if(null!=u&&Array.isArray(u.tags))for(var h=0;h<u.tags.length;h++){var m=u.tags[h];this.config.tags[m]&&this.config.tags[m].nodeContextMenu&&(d=this.config.tags[m].nodeContextMenu)}var b=this.element.getBoundingClientRect();this.nodeContextMenuUI.show(l.clientX-b.left,l.clientY-b.top,o,null,d)},s.prototype._globalDbClickHandler=function(o,l){for(var u=l.target;u!=o;){if(u.hasAttribute(s.attr.node_id)){var d=u.getAttribute(s.attr.node_id),h=this.getNode(d);return void this._nodeDbClickHandler(h.id,l)}u=u.parentNode}},s.prototype._mouseScrollHandler=function(o,l){this.__mouseScrollHandler(this.getSvg(),l)},s.prototype.__mouseScrollHandler=function(o,l){if(this.config.mouseScrool!=s.action.ctrlZoom||l.ctrlKey){var u=this,d=!1,h=this.config.zoom.speed,m=this.config.zoom.smooth,b=0,y=this.getScale(),v=s._centerPointInPercent(o,l.pageX,l.pageY),x=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(D){setTimeout(D,20)};l.preventDefault();var _=l.delta||l.wheelDelta;void 0===_&&(_=-l.detail),_=Math.max(-1,Math.min(1,_)),b+=-_*h,d||function D(){d=!0;var E=(b-y)/m;E>0?E++:E--,y+=E,u.zoom(1-E/12/50,v),parseInt(y)==parseInt(b)?d=!1:x(D)}()}},s.prototype._nodeCircleNodeMenuItemMouseDownHandler=function(o,l,u){var d=o.parentNode.getAttribute(s.attr.control_node_circle_menu_wrraper_id),h=o.getAttribute(s.attr.control_node_circle_menu_name),m=this.nodeCircleMenuUI._menu[h];if(m.draggable){var b=this,y=s._getClientXY(l),v=this.getNode(d);o._dragEventFired=!1;var x=b.getScale(),_=null,D=null;this._gragStartedId=d,document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none";var E=this.getSvg(),S={x:y.x,y:y.y},M=o.cloneNode(!0);E.insertBefore(M,E.firstChild);var L=s._getTransform(M),T=L[4],I=L[5],k=function(U){for(;U&&!U.hasAttribute(s.attr.control_node_circle_menu_wrraper_id);)U=U.parentNode;if(U){var $=s._getTransform(U);return{x:$[4],y:$[5]}}console.error("cannot find parent"+s.attr.control_node_circle_menu_wrraper_id)}(o);M.setAttribute("transform","matrix(1,0,0,1,"+(T+k.x)+","+(I+k.y)+")"),M.style.opacity=.7;var R=function(U,$){if(null!=U){$.classList.remove("boc-drag-over");for(var z=s.getStParentNodes(b.getNode(_)),G=0;G<z.length;G++){var te=b.getNodeElement(z[G].id);te&&(te.style.opacity=1)}}},P=function(U){if(S){var $=s._getClientXY(U),z=U.target;s.isMobile()&&(z=document.elementFromPoint($.x,$.y)),$.x+=k.x*x,$.y+=k.y*x;var G=s._getOffsetXY(b.element,U),te={left:b.width()-(G.x+b.config.padding)<0,right:G.x-b.config.padding<0,down:b.height()-(G.y+b.config.padding)<0,up:G.y-b.config.padding<0};if(te.left||te.right||te.up||te.down){E.classList&&(E.classList.remove("boc-cursor-grab"),E.classList.add("boc-cursor-move"),E.classList.remove("boc-cursor-nodrop"),E.classList.remove("boc-cursor-copy"));var ee=L[4],Q=L[5],xe=S.x,be=S.y,ve=$.x,Le=$.y;b.startMove(te,function(Y){L[4]=ee+Y.x,L[5]=Q+Y.y,S.x=xe-Y.xWithoutScale,S.y=be-Y.yWithoutScale,$.x=ve-Y.xWithoutScale,$.y=Le-Y.yWithoutScale,M.setAttribute("transform","matrix("+L.toString()+")")})}else{for(b.stopMove(),E.classList&&(E.classList.add("boc-cursor-grab"),E.classList.remove("boc-cursor-move"),E.classList.remove("boc-cursor-nodrop"),E.classList.remove("boc-cursor-copy")),R(_,D),_=null,D=null;null!=z&&z!=E;){if(z.hasAttribute&&z.hasAttribute(s.attr.node_id)){var J=z.getAttribute(s.attr.node_id);_=J,D=z;break}z=z.parentNode}if(null!=_){D.classList.add("boc-drag-over");for(var Me=b.getNode(_),Fe=s.getStParentNodes(Me),Ae=0;Ae<Fe.length;Ae++){var Ge=b.getNodeElement(Fe[Ae].id);Ge&&(Ge.style.opacity=.1)}E.classList.remove("boc-cursor-grab"),E.classList.remove("boc-cursor-move"),E.classList.add("boc-cursor-copy"),E.classList.remove("boc-cursor-nodrop")}var Zt=($.y-S.y)/x;L[4]=T+($.x-S.x)/x,L[5]=I+Zt,!o._dragEventFired&&(Math.abs($.x-S.x)>s.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs($.y-S.y)>s.FIRE_DRAG_NOT_CLICK_IF_MOVE)&&(!1===s.events.publish("drag",[b.nodeCircleMenuUI,{from:J,menuItem:m,menuItemName:h}])&&O(),o._dragEventFired=!0),M.setAttribute("transform","matrix("+L.toString()+")")}}},O=function(U){if(b.stopMove(),E.classList&&(E.classList.remove("boc-cursor-grab"),E.classList.remove("boc-cursor-move"),E.classList.remove("boc-cursor-nodrop"),E.classList.remove("boc-cursor-copy")),E.removeEventListener(u.move,P),E.removeEventListener(u.up,O),u.leave&&E.removeEventListener(u.leave,O),v.id==_||null==_)return E.removeChild(M),b._gragStartedId=null,void(o._dragEventFired&&s.events.publish("drop",[b.nodeCircleMenuUI,{from:v.id,menuItemName:h,menuItem:m}]));var $=b.getNode(_);s.events.publish("drop",[b.nodeCircleMenuUI,{from:v.id,to:$.id,menuItem:m,menuItemName:h}]),R(_,D),E.removeChild(M),b._gragStartedId=null};E.addEventListener(u.move,P),E.addEventListener(u.up,O),u.leave&&E.addEventListener(u.leave,O)}},s.prototype._nodeMouseDownHandler=function(o,l,u){if(this.config.enableDragDrop){var d=s._getClientXY(l),h=o.getAttribute(s.attr.node_id),m=this.getNode(h);o._dragEventFired=!1;var b=null,y=null;this._gragStartedId=h,document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none";var v=this,x=this.getSvg(),_={x:d.x,y:d.y},D=s._getTransform(o),E=D[4],S=D[5],M=v.getScale(),L=o.cloneNode(!0);L.setAttribute("data-n-id","draging"),x.insertBefore(L,x.firstChild),L.style.opacity=.7;var T=function(R,P){if(null!=R){P.classList.remove("boc-drag-over");for(var O=v.getNode(b),U=s.getStParentNodes(O),$=0;$<U.length;$++){var z=v.getNodeElement(U[$].id);z&&(z.style.opacity=1)}}},I=function(R){if(_){var P=s._getClientXY(R),O=R.target;s.isMobile()&&(O=document.elementFromPoint(P.x,P.y));var U=s._getOffsetXY(v.element,R),$={left:v.width()-(U.x+v.config.padding)<0,right:U.x-v.config.padding<0,down:v.height()-(U.y+v.config.padding)<0,up:U.y-v.config.padding<0};if($.left||$.right||$.up||$.down){x.classList&&(x.classList.remove("boc-cursor-grab"),x.classList.add("boc-cursor-move"),x.classList.remove("boc-cursor-nodrop"),x.classList.remove("boc-cursor-copy"));var z=D[4],G=D[5],te=_.x,ee=_.y,Q=P.x,xe=P.y;v.startMove($,function(Ge){D[4]=z+Ge.x,D[5]=G+Ge.y,_.x=te-Ge.xWithoutScale,_.y=ee-Ge.yWithoutScale,P.x=Q-Ge.xWithoutScale,P.y=xe-Ge.yWithoutScale,L.setAttribute("transform","matrix("+D.toString()+")")})}else{if(v.stopMove(),x.classList&&(x.classList.add("boc-cursor-grab"),x.classList.remove("boc-cursor-move"),x.classList.remove("boc-cursor-nodrop"),x.classList.remove("boc-cursor-copy")),T(b,y),b=null,y=null,v.config.enableDragDrop)for(;null!=O&&O!=x;){if(O.hasAttribute&&O.hasAttribute(s.attr.node_id)){var be=O.getAttribute(s.attr.node_id);if(v._gragStartedId&&be!=v._gragStartedId){b=be,y=O;break}}O=O.parentNode}if("draging"==b&&(b=null,y=null),null!=b){y.classList.add("boc-drag-over");for(var ve=v.getNode(b),Le=s.getStParentNodes(ve),J=0;J<Le.length;J++){var Me=v.getNodeElement(Le[J].id);Me&&(Me.style.opacity=.1)}!v.canUpdateLink(m.id,b)&&x.classList?(x.classList.remove("boc-cursor-grab"),x.classList.remove("boc-cursor-move"),x.classList.remove("boc-cursor-copy"),x.classList.add("boc-cursor-nodrop")):x.classList&&(x.classList.remove("boc-cursor-grab"),x.classList.remove("boc-cursor-move"),x.classList.add("boc-cursor-copy"),x.classList.remove("boc-cursor-nodrop"))}var Ae=(P.y-_.y)/M;D[4]=E+(P.x-_.x)/M,D[5]=S+Ae,!o._dragEventFired&&(Math.abs(P.x-_.x)>s.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(P.y-_.y)>s.FIRE_DRAG_NOT_CLICK_IF_MOVE)&&(!1===s.events.publish("drag",[v,be,R])&&k(),o._dragEventFired=!0),L.setAttribute("transform","matrix("+D.toString()+")")}}},k=function(R){if(v.stopMove(),x.classList&&(x.classList.remove("boc-cursor-grab"),x.classList.remove("boc-cursor-move"),x.classList.remove("boc-cursor-nodrop"),x.classList.remove("boc-cursor-copy")),x.removeEventListener(u.move,I),x.removeEventListener(u.up,k),u.leave&&x.removeEventListener(u.leave,k),m.id==b||null==b)return o._dragEventFired&&s.events.publish("drop",[v,m.id,void 0,L]),x.removeChild(L),void(v._gragStartedId=null);var P=v.getNode(b);if(!1===s.events.publish("drop",[v,m.id,P.id,L]))return T(b,y),x.removeChild(L),void(v._gragStartedId=null);if(v.canUpdateLink(m.id,b)){var O=v.get(m.id);O.pid=b,O.stpid=null,v.updateNode(O,null,!0)}else x.removeChild(L),T(b,y);v._gragStartedId=null};x.addEventListener(u.move,I),x.addEventListener(u.up,k),u.leave&&x.addEventListener(u.leave,k)}},s.prototype._resizeHandler=function(o,l){if(this.isVisible){var u=this.getViewBox(),d=this.getSvg(),h=d.getAttribute("width"),m=d.getAttribute("height"),b=h/u[2],y=m/u[3],v=b>y?y:b;d.setAttribute("width",this.width()),d.setAttribute("height",this.height()),u[2]=this.width()/v,u[3]=this.height()/v,this.setViewBox(u),this.xScrollUI.create(this.width()),this.yScrollUI.create(this.height()),this._draw(!1,s.action.resize)}},s.prototype._nodeDbClickHandler=function(o,l){if(!1===s.events.publish("dbclick",[this,this.get(o)]))return!1;this._commonClickHandler(o,l,this.config.nodeMouseDbClick)},s.prototype._nodeClickHandler=function(o,l){var u=this.getNodeElement(o);if(u&&u._dragEventFired)u._dragEventFired=!1;else{if(!1===s.events.publish("click",[this,{node:this.getNode(o),event:l}]))return!1;this._commonClickHandler(o,l,this.config.nodeMouseClick)}},s.prototype._nodeCircleMenuItemClickHandler=function(o,l){var u=o.parentNode.getAttribute(s.attr.control_node_circle_menu_wrraper_id),d=o.getAttribute(s.attr.control_node_circle_menu_name);s.events.publish("click",[this.nodeCircleMenuUI,{nodeId:u,menuItemName:d,menuItem:this.nodeCircleMenuUI._menu[d],event:l}])},s.prototype._nodeCircleMenuClickHandler=function(o){s.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide();var l=this.getNode(o),u=null;if(Array.isArray(l.tags))for(var d=0;d<l.tags.length;d++){var h=l.tags[d];this.config.tags[h]&&this.config.tags[h].nodeCircleMenu&&(u=this.config.tags[h].nodeCircleMenu)}this.nodeCircleMenuUI.show(o,u)},s.prototype._commonClickHandler=function(o,l,u){var d;s.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide(),u==s.action.expandCollapse&&this.toggleExpandCollapse(o,l),u==s.action.edit&&(d=this.getNode(o))&&(this.editUI.show(d.id),this.ripple(d.id,l.clientX,l.clientY)),u==s.action.details&&(d=this.getNode(o))&&(this.editUI.show(d.id,!0),this.ripple(d.id,l.clientX,l.clientY))},s.prototype._menuHandlerMouseDownHandler=function(o,l){l.stopPropagation(),l.preventDefault()},s.prototype._nodeMenuClickHandler=function(o,l,u){s.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var d=this.getNode(o),h=null;if(Array.isArray(d.tags))for(var m=0;m<d.tags.length;m++){var b=d.tags[m];this.config.tags[b]&&this.config.tags[b].nodeMenu&&(h=this.config.tags[b].nodeMenu)}this.nodeMenuUI.showStickIn(l,o,null,h)},s.prototype._menuClickHandler=function(o,l){l.stopPropagation(),l.preventDefault(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.show(o.offsetLeft,o.offsetTop)},s.prototype._lonelyButtonHandler=function(){var o={id:this.generateId()};!1!==this.addNode(o,null,!0)&&this.center(o.id)},s.prototype.toggleExpandCollapse=function(o,l){var u=this.getNode(o),d=this.getCollapsedIds(u);if(d.length){if(!1===s.events.publish("expcollclick",[this,!1,o,d]))return!1;this.expand(o,d,!1)}else{if(!1===s.events.publish("expcollclick",[this,!0,o,u.childrenIds]))return!1;this.collapse(o,u.childrenIds,!1)}l&&this.ripple(u.id,l.clientX,l.clientY)},s.prototype._move=function(o,l,u){u[0]=l,u[1]=o,this.setViewBox(u),this.xScrollUI.setPosition(),this.yScrollUI.setPosition()},s.prototype.startMove=function(o,l){if(o){if(this._movePosition=o,!this._moveInterval){var u=this,d=this.getViewBox().slice(0),h=this.getScale(),m=0,b=0;this._moveInterval=setInterval(function(){var y={x:0,y:0,xWithoutScale:0,yWithoutScale:0};u._movePosition.left&&(m++,y.x=m*s.MOVE_STEP/h,y.xWithoutScale=m*s.MOVE_STEP),u._movePosition.right&&(m++,y.x=-m*s.MOVE_STEP/h,y.xWithoutScale=-m*s.MOVE_STEP),u._movePosition.up&&(b++,y.y=-b*s.MOVE_STEP/h,y.yWithoutScale=-b*s.MOVE_STEP),u._movePosition.down&&(b++,y.y=b*s.MOVE_STEP/h,y.yWithoutScale=b*s.MOVE_STEP),u.setViewBox([d[0]+y.x,d[1]+y.y,d[2],d[3]]),u.xScrollUI.setPosition(),u.yScrollUI.setPosition(),l&&l(y)},s.MOVE_INTERVAL)}}else console.error("movePosition parameter not defined")},s.prototype.stopMove=function(){this._moveInterval&&(clearInterval(this._moveInterval),this._moveInterval=null,this._movePosition=null)},void 0===s&&(s={}),s.node=function(o,l,u,d){this.templateName=d,this.id=o,this.pid=l,this.children=[],this.childrenIds=[],this.parent=null,this.stpid=null,this.stParent=null,this.stChildren=[],this.stChildrenIds=[],this.tags=u,this.tags||(this.tags=[])},s.prototype._mouseDownHandler=function(o,l,u){var d=this;s.HIDE_EDIT_FORM_ON_PAN&&this.editUI.hide(),s.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var h=this.getViewBox(),m=this.getScale(),b=s._getClientTouchesXY(l,0),y=s._getClientTouchesXY(l,1),v={diffX:0,diffY:0,x0:b.x,y0:b.y,type:"pan",viewBoxLeft:h[0],viewBoxTop:h[1]};l.touches&&l.touches.length>1&&(v.type="pinch",v.dist=Math.sqrt((b.x-y.x)*(b.x-y.x)+(b.y-y.y)*(b.y-y.y))),"pan"==v.type&&(this._hideBeforeAnimation(),this._changeCursorOnPanStart(h,m,l));var x=function(D){var E=s._getClientTouchesXY(D,0);if(v&&"pan"==v.type)d._hideBeforeAnimation(),v.diffX=E.x-v.x0,v.diffY=E.y-v.y0,d._move(-v.diffY/m+v.viewBoxTop,-v.diffX/m+v.viewBoxLeft,h);else if(v&&"pinch"==v.type){var L=s._getClientTouchesXY(D,1),T=Math.sqrt((E.x-L.x)*(E.x-L.x)+(E.y-L.y)*(E.y-L.y)),I=1+(T-v.dist)/(v.dist/100)/100;v.dist=T;var k=s._pinchMiddlePointInPercent(d.element,d.width(),d.height(),D);d.zoom(I,k)}},_=function(){"pan"==v.type&&d.config.sticky?setTimeout(function(){s._moveToBoundaryArea(o,d.getViewBox(),d.response.boundary,function(){d._draw(!0,s.action.pan)})},0):"pan"!=v.type||d.config.sticky||setTimeout(function(){d._draw(!0,s.action.pan)},0),"pan"==v.type&&d._changeCursorOnPanEnd(),v=null,o.removeEventListener(u.move,x),o.removeEventListener(u.up,_),u.leave&&o.removeEventListener(u.leave,_),u.touchstart&&o.removeEventListener(u.touchstart,_)};this.config.enablePan&&(o.addEventListener(u.move,x),o.addEventListener(u.up,_),u.leave&&o.addEventListener(u.leave,_),u.touchstart&&o.addEventListener(u.touchstart,_))},s.prototype._changeCursorOnPanStart=function(o,l,u){var d=this.getPointerElement(),h=s._getOffsetXY(this.element,u),m=h.x/l+o[0]-16/l,b=h.y/l+o[1]-16/l;d.style.display="inherit",d.setAttribute("transform","matrix(0,0,0,0,"+m+","+b+")"),s.animate(d,{transform:[0,0,0,0,m,b],opacity:0},{transform:[1/l,0,0,1/l,m,b],opacity:1},300,s.anim.outBack)},s.prototype._changeCursorOnPanEnd=function(){this.getPointerElement().style.display="none"},s.searchUI=function(){this.lastSearch=[],this._searchAfterEnterPress=!1},s.searchUI.prototype.init=function(o){this.obj=o,this._initSearchFields();var l=this,u=this.obj.config.padding-10,d=this.obj.config.padding-10,h=this.obj.getMenuButton();if(h){var m=h.getBoundingClientRect(),b=this.obj.getSvg().getBoundingClientRect();u=b.right-m.left+10,d=m.top-b.top-10}var y=document.createElement("div");y.classList.add("boc-search"),y.style.right=u+"px",y.style.top=d+"px";var v=s.elements.textbox({},{label:s.SEARCH_PLACEHOLDER,btn:"X"},"320px");y.innerHTML+=v.html,this.xBtn=y.querySelector("[data-input-btn]"),this.xBtn.style.display="none",this.searchTableWrapper=document.createElement("div"),y.appendChild(this.searchTableWrapper);var x=o.getSvg().nextSibling;this.obj.element.insertBefore(y,x),s.input.init(y),this.input=document.getElementById(v.id),this.xBtn.addEventListener("click",function(E){E.preventDefault(),l.hide()}),this.input.addEventListener("keypress",function(E){"Enter"==E.key&&E.preventDefault()}),this.input.addEventListener("focus",function(E){l.xBtn.style.display="",l._search()}),this.input.addEventListener("blur",function(E){s.isNEU(l.input.value)&&s.SEARCH_HELP_SYMBOL!=l.input.value&&(l.xBtn.style.display="none")}),this.input.addEventListener("keydown",function(E){("ArrowDown"==E.key||"ArrowUp"==E.key)&&E.preventDefault()}),this.input.addEventListener("keyup",function(E){"ArrowDown"==E.key?_():"ArrowUp"==E.key?D():"Enter"==E.key?l._enterHandler():"Escape"==E.key?l.hide():l._search()});var _=function(){var E=l.obj.element.querySelectorAll("[data-search-item-id]"),S=l.obj.element.querySelector('[data-selected="yes"]');null==S&&E.length>0?E[0].setAttribute("data-selected","yes"):E.length>0&&S.nextSibling&&S.nextSibling.setAttribute&&(S.removeAttribute("data-selected"),S.nextSibling.setAttribute("data-selected","yes"))},D=function(){var E=l.obj.element.querySelectorAll("[data-search-item-id]"),S=l.obj.element.querySelector('[data-selected="yes"]');null==S&&E.length>0?E[E.length-1].setAttribute("data-selected","yes"):E.length>0&&S.previousSibling&&S.previousSibling.setAttribute&&(S.removeAttribute("data-selected"),S.previousSibling.setAttribute("data-selected","yes"))}},s.searchUI.prototype._enterHandler=function(){var o=this.obj.element.querySelector('[data-selected="yes"]');if(o){if(o.hasAttribute("data-search-item-id")){var l=o.getAttribute("data-search-item-id");this.input.value!=s.SEARCH_HELP_SYMBOL?0!=s.events.publish("searchclick",[this.obj,l])&&this.obj.center(l):(this.input.value=l+" ",this.searchTableWrapper.innerHTML="")}}else this._searchAfterEnterPress=!0,this.__search(),this.searchTableWrapper.innerHTML="",this.obj.draw()},s.searchUI.prototype._initSearchFields=function(){if(null==this.obj.config.searchFields){this._searchFields=[];for(var o=0;o<this.obj.response.allFields.length;o++){var l=this.obj.response.allFields[o];"tags"==l||s._fieldIsImg(this.obj.config,l)||this._searchFields.push(l)}}else this._searchFields=this.obj.config.searchFields;if(null==this.obj.config.searchFieldsAbbreviation)for(this._searchFieldsAbbreviation={},o=0;o<this._searchFields.length;o++){for(var u=this._searchFields[o],d=0,h=u.slice(0,d+1).toLowerCase();this._searchFieldsAbbreviation[h];)d++,h=u.slice(0,d+1).toLowerCase();this._searchFieldsAbbreviation[h]=u}else this._searchFieldsAbbreviation=this.obj.config.searchFieldsAbbreviation},s.searchUI.prototype.find=function(o){this.input&&(this.input.value=o,document.activeElement==this.input?this._search(o):this.input.focus())},s.searchUI.prototype.addMatchTag=function(o){if(this._searchAfterEnterPress){for(var l=0;l<this.lastSearch.length;l++)if(this.lastSearch[l].id==o)return!0;return!1}return null},s.searchUI.prototype.__search=function(){this.lastSearch=s._search.search(this.obj.config.nodes,this.input.value,this._searchFields,this._searchFields,this.obj.config.searchDisplayField,this.obj.config.searchFieldsWeight,this._searchFieldsAbbreviation)},s.searchUI.prototype._search=function(){var o,l=this;if(this._searchAfterEnterPress=!1,this.input.value==s.SEARCH_HELP_SYMBOL)o=this.helpView();else{this.__search();var u=s._getFistImgField(this.obj.config);o=`<table border="0" cellspacing="0" cellpadding="0">\n                        <tbody>\n                            ${function(){for(var m="",b=0;b<l.lastSearch.length&&!(b>=s.SEARCH_RESULT_LIMIT);b++){var y=l.lastSearch[b],v="";if(u){var x=l.obj._get(y.id);"function"==typeof u?v=u(l.obj,l.obj.getNode(y.id),x):x[u]&&(v=x[u])}var _="",D="";l.obj.config.searchDisplayField==y.__searchField?_=y.__searchMarks:l.obj.config.searchDisplayField?(s.isNEU(_=y[l.obj.config.searchDisplayField])&&(_=""),D=y.__searchMarks):_=y.__searchMarks,m+=s.searchUI.createItem(v,y.id,_,D)}return m}()}  \n                        </tbody>\n                    </table>`}this.searchTableWrapper.innerHTML=o;for(var d=this.obj.element.querySelectorAll("[data-search-item-id]"),h=0;h<d.length;h++)d[h].addEventListener("click",function(){if(this.hasAttribute("data-search-item-id")){var m=this.getAttribute("data-search-item-id");if(l.input.value!=s.SEARCH_HELP_SYMBOL){if(!1!==s.events.publish("searchclick",[l.obj,m])){l.obj.center(this.getAttribute("data-search-item-id"));var b=l.obj.element.querySelector('[data-selected="yes"]');b&&b.removeAttribute("data-selected"),this.setAttribute("data-selected","yes"),l.input.focus()}}else l.input.value=m+" ",l.searchTableWrapper.innerHTML="",l.input.focus()}})},s.searchUI.prototype.helpView=function(){var o='<table border="0" cellspacing="0" cellpadding="0">';for(var l in this._searchFieldsAbbreviation)o+=`<tr data-search-item-id="${l}" style="height: 50px;"><td class="boc-search-image-td" style="text-align: center;">${l}</td><td class="boc-search-text-td">${this._searchFieldsAbbreviation[l]}</td></tr>`;return o+"</table>"},s.searchUI.createItem=function(o,l,u,d){return u&&(u="<b>"+u+"</b>"),`<tr data-search-item-id="${l}">\n                <td class="boc-search-image-td">\n                    ${o=o?`<div class="boc-search-photo" style="background-image: url(${o})"></div>`:`<div class="boc-search-photo">${s.icon.user(32,32,"#aeaeae")}</div>`}\n                </td>\n                <td class="boc-search-text-td">${u} <br/>${d}</td>\n            </tr>`},s.searchUI.prototype.hide=function(){this._searchAfterEnterPress&&(this._searchAfterEnterPress=!1,this.obj.draw()),this.lastSearch=[],this.xBtn&&(this.xBtn.style.display="none"),this.searchTableWrapper&&(this.searchTableWrapper.innerHTML=""),this.input&&(this.input.value="",document.activeElement==this.input&&this.input.blur(),document.activeElement==this.xBtn&&s.input.blurHandler(this.input))},void 0===s&&(s={}),s.manager=function(o){this.config=o.config,this.layoutConfigs=o._layoutConfigs,this.visibleNodeIds=[],this.viewBox=null,this.action=null,this.actionParams=null,this.nodes={},this.oldNodes={},this.maxX=null,this.maxY=null,this.minX=null,this.minY=null,this.bordersByRootIdAndLevel=null,this.roots=null,this.state=null,this.vbIsInitializedFromState=!1,this.rootList=[],this.instance=o},s.manager.prototype.read=function(o,l,u,d,h,m,b,y){var v=this;s.state._get(this.config.state,l,u,function(x){v.state=x,v.action=h,v.actionParams=m,h!=s.action.init||!v.state||m&&m.method&&"fit"==m.method?(v.viewBox=d,v.vbIsInitializedFromState=!1):(v.viewBox=v.state.vb,v.vbIsInitializedFromState=!0,Array.isArray(v.state.roots)&&(v.config.roots=v.state.roots));var _=v.maxX,D=v.maxY,E=v.minX,S=v.minY,M=v.bordersByRootIdAndLevel,L=v.roots,T=v.nodes;if(o){var I=s.manager._getResponse(l,u,v.visibleNodeIds,v.config,_,D,E,S,v.viewBox,L,v.action,v.actionParams,T,v.oldNodes,v.vbIsInitializedFromState);h!=s.action.exporting&&(v.maxX=_,v.maxY=D,v.minX=E,v.minY=S,v.roots=L,v.nodes=T,v.visibleNodeIds=I.visibleNodeIds),I.bordersByRootIdAndLevel=M,I.roots=L,I.adjustify={x:0,y:0},v.state&&(I.adjustify=v.state.adjustify),b(I)}else v.oldNodes=T||null,v._read(function(k){M=k.bordersByRootIdAndLevel;var R=s.manager._getResponse(l,u,v.visibleNodeIds,v.config,_=k.maxX,D=k.maxY,E=k.minX,S=k.minY,v.viewBox,L=k.roots,v.action,v.actionParams,T=k.nodes,v.oldNodes,v.vbIsInitializedFromState);R.notif=k.limit,R.roots=L,R.bordersByRootIdAndLevel=M,R.adjustify=k.adjustify,h!=s.action.exporting&&(v.maxX=_,v.maxY=D,v.minX=E,v.minY=S,v.roots=L,v.nodes=T,v.visibleNodeIds=R.visibleNodeIds,v.bordersByRootIdAndLevel=M,v.rootList=k.rootList),b(R)},y)})},s.manager.prototype._read=function(o,l){var u=this,d=s.manager._createNodes(this.instance);l(d);var h=d.nodes,m=d.roots,b=s.remote;null==b&&(b=s.local),b._setPositions(m,u.layoutConfigs,function(y){var v=s.manager._doNotChangePositionOfClickedNodeIfAny(m,h,u.action,u.actionParams,u.oldNodes,u.config.orientation);u.state&&u.action==s.action.init&&(v=u.state.adjustify);for(var x={minX:null,minY:null,maxX:null,maxY:null},_={},D=0;D<m.length;D++)s.manager._setMinMaxXYAdjustifyIterate(m[D],m[D],x,0,_,v,u.config.orientation);o({minX:x.minX,minY:x.minY,maxX:x.maxX,maxY:x.maxY,bordersByRootIdAndLevel:_,nodes:h,roots:m,rootList:d.rootList,limit:y,adjustify:v})},h)},void 0===s&&(s={}),s.manager._initDinamicNode=function(o,l,u){l&&(o.lcn=l),u&&(o.isAssistant=!0);var d=s.t(o.templateName);o.w=d&&d.size?d.size[0]:0,o.h=d&&d.size?d.size[1]:0,o.isSplit="split"==o.templateName},s.manager._setCollpasedProperty=function(o,l,u,d,h,m,b){null==o.collapsed&&l.collapse&&l.collapse.allChildren?o.collapsed=!0:null==o.collapsed&&(o.collapsed=!1),h==s.action.expand&&-1!=u.ids.indexOf(o.id)&&(o.collapsed=!1),h==s.action.collapse&&(u.expandIds||u.collapseIds)?u.expandIds&&-1!=u.expandIds.indexOf(o.id)?o.collapsed=!1:u.collapseIds&&-1!=u.collapseIds.indexOf(o.id)&&(o.collapsed=!0):h==s.action.collapse&&-1!=u.ids.indexOf(o.id)&&(o.collapsed=!0),h==s.action.expand&&"all"==u.ids&&(o.collapsed=!1),h==s.action.exporting&&u.expandChildren&&(o.collapsed=!1),h==s.action.init&&null!=b?o.collapsed=!b.exp.has(o.id):h==s.action.init?o.collapsed=l.collapse&&m>=l.collapse.level-1&&-1==d.indexOf(o.id):h==s.action.centerNode||h==s.action.insert||h==s.action.expand||h==s.action.collapse?d.has(o.id)&&(o.collapsed=!1):h==s.action.update&&u&&u.changeRoots&&u.changeRoots.has(o.id)&&(o.collapsed=!1)},s.manager._initNode=function(o,l,u,d,h,m,b){var y=b.manager.config,x=b.manager.action,_=b.manager.actionParams,D=b.manager.state,E=b.manager.layoutConfigs[u||"base"];null==o.parent&&s.manager._setCollpasedProperty(o,E,_,h,x,d-1,D);for(var S=0;S<o.childrenIds.length;S++){var M=l[o.childrenIds[S]];if(s.manager._setCollpasedProperty(M,E,_,h,x,d,D),!M.collapsed){if(M.parent=o,null!=M.ppid){var L=l[M.ppid];L&&(M.parentPartner=L)}(-1!=M.tags.indexOf("left-partner")||-1!=M.tags.indexOf("right-partner")||-1!=M.tags.indexOf("partner")||M.parentPartner)&&-1==m.indexOf(o.id)&&m.push(o.id),o.children.push(M)}}if(x!=s.action.minimize||o.min?x==s.action.maximize&&!0===o.min?(_.all||_.id==o.id)&&(o.min=!1):x==s.action.exporting&&!1===_.min?o.min=!1:x==s.action.init&&null!=D&&(o.min=D.min.has(o.id)):(_.all||_.id==o.id)&&(o.min=!0),!o.min)for(S=0;S<o.stChildrenIds.length;S++)M=l[o.stChildrenIds[S]],o.tags&&o.tags.has("filter")||(M.stParent=o,o.stChildren.push(M));null!=d&&(o.level=d),u&&(o.lcn=u);var T=s._getSubLevels(o.tags,y.tags);T>0&&(o.subLevels=T),-1!=o.tags.indexOf("assistant")&&null!=o.parent&&(o.isAssistant=!0);var I=s.t(o.templateName,o.min);o.w=I&&I.size?I.size[0]:0,o.h=I&&I.size?I.size[1]:0,o.padding=I&&I.padding?I.padding:[0,0,0,0],s.events.publish("node-initialized",[b,{node:o}]),s.events.publish("node-created",[o])},s.manager._iterate=function(o,l,u,d,h,m,b,y,v,x,_,D){var E=D.manager.layoutConfigs;if(s.manager._initNode(l,u,v,d,x,_,D),l.isAssistant&&(m[l.pid]||(m[l.pid]=[]),m[l.pid].push(l.id)),l.subLevels>0&&b.push(l.id),s.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN&&!l.isAssistant&&l.parent){if(l.parent&&l.parent.children.length&&l.parent.children[l.parent.children.length-1]==l){for(var S=[],M=0,L=0,T=0;T<l.parent.children.length;T++)-1==(I=l.parent.children[T]).tags.indexOf("partner")&&-1==I.tags.indexOf("left-partner")&&-1==I.tags.indexOf("right-partner")&&-1==I.tags.indexOf("assistant")&&0==I.children.length?S.push(I.id):-1!=I.tags.indexOf("assistant")?M++:-1==I.tags.indexOf("partner")&&-1==I.tags.indexOf("left-partner")&&-1==I.tags.indexOf("right-partner")||L++;(s.MIXED_LAYOUT_ALL_NODES&&S.length>1&&S.length==l.parent.children.length-M-L||!s.MIXED_LAYOUT_ALL_NODES&&S.length>1)&&(y[l.pid]=S)}}else if(!l.isAssistant&&0==l.childrenIds.length&&l.parent&&!y[l.pid]){for(S=[],M=0,L=0,T=0;T<l.parent.children.length;T++){var I;-1==(I=l.parent.children[T]).tags.indexOf("partner")&&-1==I.tags.indexOf("left-partner")&&-1==I.tags.indexOf("right-partner")&&-1==I.tags.indexOf("assistant")&&0==I.childrenIds.length?S.push(I.id):-1!=I.tags.indexOf("assistant")?M++:-1==I.tags.indexOf("partner")&&-1==I.tags.indexOf("left-partner")&&-1==I.tags.indexOf("right-partner")||L++}(s.MIXED_LAYOUT_ALL_NODES&&S.length>1&&S.length==l.parent.childrenIds.length-M-L||!s.MIXED_LAYOUT_ALL_NODES&&S.length>1)&&(y[l.pid]=S)}l.stChildren.length&&(o.stContainerNodes||(o.stContainerNodes=[]),o.stContainerNodes.push(l));for(var k=0;k<l.stChildren.length;k++){var R="";for(T=0;T<l.tags.length;T++)if(E[l.tags[T]]){R=l.tags[T];break}h.push(l.stChildren[k].id),s.manager._iterate(o,l.stChildren[k],u,0,h,m,b,y,R,x,_,D)}for(d++,k=0;k<l.children.length;k++)s.manager._iterate(o,l.children[k],u,d,h,m,b,y,v,x,_,D)},s.manager.__createNodes=function(o,l,u,d,h,m,b,y){for(var v=[],x=s._addDottedLines(u),_=0;_<x.length;_++){var D,E=x[_];D=s.STRING_TAGS?E.tags?E.tags.split(","):[]:Array.isArray(E.tags)?E.tags.slice(0):[],y.filterUI.addFilterTag(E)&&D.unshift("filter");var S=y.searchUI.addMatchTag(E.id);!0===S?D.unshift("match"):!1===S&&D.unshift("no-match");var M=s._getTemplate(D,u.tags,u.template),L=new s.node(E.id,E.pid,D,M);s.isNEU(E.ppid)||(L.ppid=E.ppid),s.isNEU(E.stpid)||(L.stpid=E.stpid),null!=u.orderBy&&(L.order=s.manager._getOrderFieldValue(E,u.orderBy)),o[E.id]=L,v.push(E.id)}for(null!=u.orderBy&&v.sort(function(O,U){var $=o[O].order,z=o[U].order;return"number"==typeof $||"number"==typeof z?(null==$&&($=-1),null==z&&(z=-1),u.orderBy.desc?z-$:$-z):"string"==typeof $||"string"==typeof z?(null==$&&($=""),null==z&&(z=""),u.orderBy.desc?z.localeCompare($):$.localeCompare(z)):void 0}),_=0;_<v.length;_++){var T=v[_],I=(L=o[T],m?m[T]:null),k=o[L.stpid],R=o[L.pid];if(k||(L.stpid=null),R||(L.pid=null),k){var P=m?m[k.id]:null;P&&(k.min=P.min),k.stChildrenIds.push(L.id)}else R?(I&&(L.collapsed=I.collapsed,L.min=I.min),R.childrenIds.push(L.id)):(I&&(L.collapsed=I.collapsed,L.min=I.min),l.push(L),b.push(L.id));d==s.action.init&&(L.min=s._getMin(L,u))}},s.manager._createNodes=function(o){var l=o.manager.config,u=o.manager.layoutConfigs,d=o.manager.action,h=o.manager.actionParams,b=o.manager.state,y={},v=[],x=[];if(s.manager.__createNodes(y,v,l,d,h,o.manager.oldNodes,x,o),null!=l.roots){v=[];for(var _=0;_<l.roots.length;_++){var D=y[l.roots[_]];if(D&&d==s.action.centerNode){for(var E=D;null!=E.pid||null!=E.stpid;)E=null==E.pid&&null!=E.stpid?y[E.stpid]:y[E.pid];for(var S=y[h.id];(null!=S.pid||null!=S.stpid)&&S!=D;)S=null==S.pid&&null!=S.stpid?y[S.stpid]:y[S.pid];E==S&&(D=E)}if(D){for(var M=!1,L=0;L<v.length;L++)if(v[L].id==D.id){M=!0;break}M||(s.isNEU(D.pid)||($e=(R=y[D.pid]).childrenIds.indexOf(D.id))>-1&&R.childrenIds.splice($e,1),v.push(D))}}for(l.roots=[],_=0;_<v.length;_++)l.roots.push(v[_].id)}d==s.action.exporting&&null!=h.id&&(I=y[h.id])&&(I.pid=null,v=[I]);var T=[];if(d==s.action.init&&l.expand&&l.expand.nodes&&null==b)for(_=0;_<l.expand.nodes.length;_++){var I=y[l.expand.nodes[_]];for(!0===l.expand.allChildren&&s.manager._addExpandedNodeIdsIterate(I,y,T);I;)T.push(I.id),null==I.pid&&null!=I.stpid?(I=y[I.stpid]).min=!1:I=y[I.pid]}else if(d==s.action.expand&&h.ids&&"all"!=h.ids||d==s.action.collapse&&h&&h.expandIds){var k;for(k=d==s.action.expand?h.ids:h.expandIds,_=0;_<k.length;_++)for(var R=y[(I=y[k[_]]).pid];R;)T.push(R.id),null==R.pid&&null!=R.stpid?(R=y[R.stpid]).min=!1:R=y[R.pid]}else if(d==s.action.centerNode){for(var P=y[h.id];P;){if(T.push(P.id),h.options.parentState===s.COLLAPSE_PARENT_NEIGHBORS&&P)for(_=0;_<P.childrenIds.length;_++)(Y=y[P.childrenIds[_]]).collapsed=!0;null==P.pid&&null!=P.stpid?(P=y[P.stpid]).min=!1:P=y[P.pid]}if(P=y[h.id],h.options.childrenState===s.COLLAPSE_SUB_CHILDRENS)for(_=0;_<P.childrenIds.length;_++){(U=y[P.childrenIds[_]]).collapsed=!1;for(var O=0;O<U.childrenIds.length;O++)y[U.childrenIds[O]].collapsed=!0}if(h.options.parentState===s.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED&&(R=y[P.pid]))for(_=0;_<R.childrenIds.length;_++){var U;if((U=y[R.childrenIds[_]])!=P)for(U.collapsed=!1,O=0;O<U.childrenIds.length;O++)y[U.childrenIds[O]].collapsed=!0}}else if(d==s.action.insert)for(I=y[h.insertedNodeId];I;)T.push(I.id),null==I.pid&&null!=I.stpid?(I=y[I.stpid]).min=!1:I=y[I.pid];var $=[],z={},G=[],te={},ee=[];for(_=0;_<v.length;_++)s.manager._iterate(v[_],v[_],y,0,$,z,G,te,"",T,ee,o);if(d==s.action.collapse&&h&&Array.isArray(h.expandIds)&&Array.isArray(h.collapseIds))for(_=0;_<h.ids.length;_++)h.expandIds.has(h.collapseIds[_])?console.error(`id ${h.collapseIds[_]} exist in both collapseIds and expandIds`):(I=y[h.collapseIds[_]])&&(I.collapsed=!0);for(_=v.length-1;_>=0;_--)v[_].collapsed&&v.splice(_,1);for(_=0;_<ee.length;_++){I=y[ee[_]];var Q=[],xe=[],be=[],ve={},Le=0,J=0,Me=0,Fe=[],Ae=[];for(O=0;O<I.children.length;O++)(Y=I.children[O]).isAssistant?Q.push(Y.id):-1!=Y.tags.indexOf("right-partner")?(Y.isPartner=1,Y.children=[],xe.push(Y.id)):-1!=Y.tags.indexOf("left-partner")?(Y.isPartner=2,Y.children=[],be.push(Y.id)):-1==Y.tags.indexOf("partner")||Le%2?-1!=Y.tags.indexOf("partner")&&Le%2?(Y.isPartner=2,Y.children=[],be.push(Y.id),Le++):Y.parentPartner?(ve[Y.parentPartner.id]||(ve[Y.parentPartner.id]=[]),ve[Y.parentPartner.id].push(Y.id)):Q.push(Y.id):(Y.isPartner=1,Y.children=[],xe.push(Y.id),Le++);I.children=[];var Ge=[];for(O=0;O<xe.length;O++){ve[(Y=y[xe[O]]).id]?I.children.push(Y):I.children.splice(0,0,Y);for(var Ye=0;Ye<Y.childrenIds.length;Ye++)Ge.push(Y.childrenIds[Ye])}var Zt=[];for(O=0;O<be.length;O++)for(ve[(Y=y[be[O]]).id]?I.children.push(Y):I.children.splice(0,0,Y),Ye=0;Ye<Y.childrenIds.length;Ye++)Zt.push(Y.childrenIds[Ye]);for(O=0;O<Zt.length;O++)(Y=y[Zt[O]]).collapsed||(Y.parentPartner=Y.parent,Y.parent=I,Y.isChildOfPartner=!0,I.children.push(Y));for(O=be.length-1;O>=0;O--)if(ve[be[O]])for(L=0;L<ve[be[O]].length;L++)I.children.push(y[ve[be[O]][L]]),J++,-1==Ae.indexOf(be[O])&&Ae.push(be[O]);for(O=0;O<Q.length;O++){var Y=y[Q[O]];I.children.push(Y)}for(O=0;O<xe.length;O++)if(ve[xe[O]])for(L=0;L<ve[xe[O]].length;L++)I.children.push(y[ve[xe[O]][L]]),Me++,-1==Fe.indexOf(xe[O])&&Fe.push(xe[O]);for(O=0;O<Ge.length;O++)(Y=y[Ge[O]]).collapsed||(Y.parentPartner=Y.parent,Y.parent=I,Y.isChildOfPartner=!0,I.children.push(Y));I.partnerSeparation=Math.max(Ae.length,Fe.length)*l.partnerChildrenSplitSeparation+l.minPartnerSeparation,I.hasPartners=Q.length||!J||Me?Q.length||J||!Me?Q.length||1!=J||1!=Me?Q.length||J||Me?!Q.length||J||Me?Q.length&&(J||Me)?7:1:6:5:4:3:2}for(_=0;_<G.length;_++)if((Lt=u[(I=y[G[_]]).lcn?I.lcn:"base"]).layout==s.normal||!te[I.pid])for(O=0;O<I.subLevels;O++){var $e,ye=new s.node(I.id+"_sub_level_index_"+O,I.pid,[],"subLevel");s.manager._initDinamicNode(ye,I.lcn),(R=I.parent)&&(($e=R.children.indexOf(I))>-1&&(R.children.splice($e,1),R.children.splice($e,0,ye)),ye.children.push(I),ye.parent=R,I.parent=ye,y[ye.id]=ye)}for(var Ar in z){(R=y[Ar]).hasAssistants=!0,ye=new s.node(R.id+"_split_assitant_0",R.id,["assistant"],"split"),s.manager._initDinamicNode(ye,R.lcn,!0),y[ye.id]=ye;var ne=[];for(O=R.children.length-1;O>=0;O--)(Y=R.children[O]).isAssistant?(Y.parent=null,R.children.splice(O,1),ne.splice(0,0,Y.id)):Y.isPartner||(Y.parent&&te[Y.parent.id]&&ye&&Y.parent.id!=ye.id&&(Object.defineProperty(te,ye.id,Object.getOwnPropertyDescriptor(te,Y.parent.id)),delete te[Y.parent.id]),Y.parent=ye,ye.children.unshift(Y),R.children.splice(O,1));if(ne.length%2){var Sn=y[ne[ne.length-1]],En=new s.node(Sn.id+"_mirror",R.pid,[],"mirror");s.manager._initDinamicNode(En,Sn.lcn,!0),Sn._m=En.id,En.isAssistant=!0,En.w=Sn.w,En.h=Sn.h,y[En.id]=En,ne.splice(ne.length-1,0,En.id)}var qn=1;for(O=ne.length-1;O>=0;O--)if(O%2&&O!=ne.length-1){var Qt=new s.node(R.id+"_split_assitant_"+qn,R.pid,[],"split");s.manager._initDinamicNode(Qt,R.lcn,!0),y[Qt.id]=Qt,ne.splice(O,0,Qt.id),qn++}else O%2&&ne.splice(O,0,ye.id);for(O=0;O<ne.length;O+=3){var tt=null,kr=y[ne[O]],Gn=y[ne[O+1]],ar=y[ne[O+2]];kr.parent=tt=0==O?R:y[ne[O-2]],Gn.parent=tt,ar.parent=tt,tt.children.push(kr),tt.children.push(Gn),tt.children.push(ar)}}var Ba=!1;for(var Sd in u)if((Lt=u[Sd]).layout==s.mixed||Lt.layout==s.tree||Lt.layout==s.treeRightOffset||Lt.layout==s.treeLeftOffset){Ba=!0;break}var Ua=s.events.has("node-layout",o._event_id);if(Ba||Ua){var Ve={nodes:y,config:l,action:d,actionParams:h};for(var Ar in te){for(var lr=R=y[Ar];lr.isSplit;)lr=y[lr.pid];var Lt;if((Lt=u[R.lcn?R.lcn:"base"]).layout==s.mixed||Lt.layout==s.tree||Lt.layout==s.treeRightOffset||Lt.layout==s.treeLeftOffset||Ua)if(Ve.pnode=R,Ve.layout=Lt.layout,Ve.childrenIds=te[Ar],Ve.lastChildrenPidIds=te,s.events.publish("node-layout",[o,Ve]),s.events.publish("layout",[Ve]),Ve.layout==s.mixed){var jo=Ve.childrenIds;for(_=jo.length-1;_>=0;_--){for(R=(Y=y[jo[_]]).parent,Y.layout=s.mixed,O=R.children.length-1;O>=0;O--)if(Y.id==R.children[O].id){R.children.splice(O,1);break}if(_>0){var ki=y[jo[_-1]];Y.parent=ki,Y.layout=s.mixed,ki.children.push(Y)}else R.children.push(Y)}}else if(Ve.layout==s.tree||Ve.layout==s.treeRightOffset||Ve.layout==s.treeLeftOffset){ye=new s.node(R.id+"_split_0",lr.id,[],"split"),s.manager._initDinamicNode(ye,R.lcn),y[ye.id]=ye,ye.layout=s.tree;var ct=[];for(_=Ve.childrenIds.length-1;_>=0;_--){for(Y=y[Ve.childrenIds[_]],O=0;O<R.children.length;O++)R.children[O].id==Y.id&&R.children.splice(O,1);if(Y.parent=null,Y.layout=s.tree,Ve.layout==s.treeRightOffset&&ct.splice(0,0,Y.id),Ve.layout==s.treeLeftOffset||Ve.layout==s.treeRightOffset){var Tr=new s.node(Y.id+"_mirror",lr.id,[],"mirror");s.manager._initDinamicNode(Tr,Y.lcn),Tr.layout=s.tree,y[Tr.id]=Tr,ct.splice(0,0,Tr.id)}Ve.layout!=s.treeRightOffset&&ct.splice(0,0,Y.id)}for(qn=1,O=ct.length-1;O>=0;O--)O%2&&O!=ct.length-1?(Qt=new s.node(R.id+"_split_"+qn,lr.id,[],"split"),s.manager._initDinamicNode(Qt,R.lcn),Qt.layout=s.tree,y[Qt.id]=Qt,ct.splice(O,0,Qt.id),qn++):O%2&&ct.splice(O,0,ye.id);for(O=0;O<ct.length;O+=3)tt=null,0==O&&(tt=R),Gn=y[ct[O+1]],ar=y[ct[O+2]],0!=O&&(tt=y[ct[O-3]]),0==O||Gn||(tt=y[ct[O-2]]),(kr=y[ct[O]]).parent=tt,tt.children.push(kr),Gn&&(0!=O&&(tt=y[ct[O-2]]),Gn.parent=tt,tt.children.push(Gn)),ar&&(0!=O&&(tt=y[ct[O-1]]),ar.parent=tt,tt.children.push(ar))}}}if(s.VERTICAL_CHILDREN_ASSISTANT)for(_=0;_<v.length;_++)s.manager._verticalAssistantIterate(v[_],y);return s.events.publish("nodes-initialized",[o,Ve={nodes:y,roots:v}]),{nodes:Ve.nodes,roots:Ve.roots,rootList:x}},s.manager._getOrderFieldValue=function(o,l){var u=l;return l.field&&(u=l.field),o[u]},s.manager._getNodeWidth=function(o,l){switch(l.orientation){case s.orientation.top:case s.orientation.top_left:case s.orientation.bottom:case s.orientation.bottom_left:return o.w;case s.orientation.right:case s.orientation.right_top:case s.orientation.left:case s.orientation.left_top:return o.h}return 0},s.manager._isVisible=function(o,l,u,d){if(null!=o.x&&null!=o.y){if(l.lazyLoading&&d!==s.action.exporting){let b=function(y,v){var x=y.x,_=y.y,I=x+y.w>v[0]-s.LAZY_LOADING_FACTOR&&v[2]+s.LAZY_LOADING_FACTOR+v[0]>x;return I&&(I=_+y.h>v[1]-s.LAZY_LOADING_FACTOR&&v[3]+s.LAZY_LOADING_FACTOR+v[1]>_),I};if(b(o,u))return!0;for(var h=0;h<o.children.length;h++)if(b(o.children[h],u))return!0;return!1}return!0}},s.manager.getAllFields=function(o){var l=[s.TAGS];for(var u in o.nodeBinding)l.push(o.nodeBinding[u]);for(u=0;u<o.nodes.length;u++)for(var d in o.nodes[u])d!==s.ID&&d!==s.TAGS&&d!==s.NODES&&d!==s.PID&&d!==s.STPID&&(o.nodeBinding[d]||l.has(d)||l.push(d));return l},s.manager._getMostDeepChild=function(o){if(o){var l=o;return function u(d){d.sl>l.sl&&(l=d);for(var h=0;h<d.children.length;h++)u(d.children[h])}(o),l}},s.manager._getResponse=function(o,l,u,d,h,m,b,y,v,x,_,D,E,S,M){var L=x[0],T=[],I={top:null,left:null,bottom:null,right:null,minX:null,maxX:null,minY:null,maxY:null},k=[[],[],[]],O=s.getScale(v,o,l,d.scaleInitial,d.scaleMax,d.scaleMin,h-b+2*d.padding,m-y+2*d.padding);if(I.top=y-d.padding,I.left=b-d.padding,I.bottom=m+d.padding-l/O,I.right=h+d.padding-o/O,I.maxX=h,I.minX=b,I.maxY=m,I.minY=y,0==x.length||null==v&&!M&&d.align==s.CENTER){var U=Math.ceil(o/O),$=Math.ceil(l/O),z=0,G=0;if(U-2*d.padding>=h-b)switch(z=(h+b)/2-U/2,d.orientation){case s.orientation.right:case s.orientation.right_top:z=(b-h)/2-U/2}else switch(z=L.x-U/2+s.manager._getNodeWidth(L,d)/2,d.orientation){case s.orientation.right:case s.orientation.right_top:(z=-(U/2-(b-h)/2))<d.padding-U&&(z=d.padding-U);break;case s.orientation.left:case s.orientation.bottom_left:case s.orientation.top_left:case s.orientation.left_top:(z=-(U/2-(h-b)/2))>-d.padding&&(z=-d.padding)}if($-2*d.padding>=m-y)switch(G=(m+y)/2-$/2,d.orientation){case s.orientation.bottom:case s.orientation.bottom_left:G=(y-m)/2-$/2}else switch((G=-($/2-(m-y)/2))>-d.padding&&(G=-d.padding),d.orientation){case s.orientation.bottom:case s.orientation.bottom_left:(G=-($/2-(y-m)/2))<d.padding-$&&(G=d.padding-$);break;case s.orientation.left:case s.orientation.right:G=L.y-$/2+s.manager._getNodeWidth(L,d)/2}v=[z,G,U,$]}else if(null==v&&!M&&d.align==s.ORIENTATION){switch(U=Math.ceil(o/O),$=Math.ceil(l/O),z=0,G=0,d.orientation){case s.orientation.top:z=L.x-U/2+s.manager._getNodeWidth(L,d)/2,G=-d.padding;break;case s.orientation.bottom:z=L.x-U/2+s.manager._getNodeWidth(L,d)/2,G=d.padding-$;break;case s.orientation.left:z=-d.padding,G=L.y-$/2+s.manager._getNodeWidth(L,d)/2;break;case s.orientation.right:z=d.padding-U,G=L.y-$/2+s.manager._getNodeWidth(L,d)/2;break;case s.orientation.top_left:z=-d.padding,G=-d.padding;break;case s.orientation.right_top:z=d.padding-U,G=-d.padding;break;case s.orientation.left_top:z=-d.padding,G=-d.padding;break;case s.orientation.bottom_left:z=-d.padding,G=d.padding-$}v=[z,G,U,$],d.sticky&&(v[0]<I.left&&v[0]<I.right&&(v[0]=I.left>I.right?I.right:I.left),v[0]>I.right&&v[0]>I.left&&(v[0]=I.left>I.right?I.left:I.right),v[1]<I.top&&v[1]<I.bottom&&(v[1]=I.top>I.bottom?I.bottom:I.top),v[1]>I.bottom&&v[1]>I.top&&(v[1]=I.top>I.bottom?I.top:I.bottom))}if(_==s.action.centerNode||_==s.action.maximize){var te=E[D.id];1==D.options.horizontal&&(v[0]=te.x+te.w/2-v[2]/2),1==D.options.vertical&&(v[1]=te.y+te.h/2-v[3]/2),d.sticky&&(v[0]<I.left&&v[0]<I.right&&(v[0]=I.left>I.right?I.right:I.left),v[0]>I.right&&v[0]>I.left&&(v[0]=I.left>I.right?I.left:I.right),v[1]<I.top&&v[1]<I.bottom&&(v[1]=I.top>I.bottom?I.bottom:I.top),v[1]>I.bottom&&v[1]>I.top&&(v[1]=I.top>I.bottom?I.top:I.bottom))}if(_==s.action.insert||_==s.action.expand||_==s.action.collapse||_==s.action.update||_==s.action.centerNode||_==s.action.maximize){var ee=null;if(_==s.action.insert&&D&&null!=D.insertedNodeId&&null!=D.insertedNodeId)ee=E[D.insertedNodeId];else if(_==s.action.update&&D&&null!=D.visId&&null!=D.visId)ee=E[D.visId];else if(_!=s.action.expand&&_!=s.action.collapse&&_!=s.action.maximize||!D||null==D.id||null==D.id){if(_==s.action.centerNode||_==s.action.maximize){switch(d.orientation){case s.orientation.top:case s.orientation.top_left:case s.orientation.bottom:case s.orientation.bottom_left:D.options.vertical||(ee=E[D.id]);break;case s.orientation.right:case s.orientation.right_top:case s.orientation.left:case s.orientation.left_top:D.options.horizontal||(ee=E[D.id])}ee&&(ee=s.manager._getMostDeepChild(ee,E))}}else ee=s.manager._getMostDeepChild(ee=E[D.id],E);if(!s.FIXED_POSITION_ON_CLICK&&ee)switch(d.orientation){case s.orientation.top:case s.orientation.top_left:var Q=ee.y+ee.h-v[3]+d.padding;v[1]<Q&&(v[1]=Q);break;case s.orientation.bottom:case s.orientation.bottom_left:v[1]>(Q=ee.y-d.padding)&&(v[1]=Q);break;case s.orientation.right:case s.orientation.right_top:v[0]>(Q=ee.x-d.padding)&&(v[0]=Q);break;case s.orientation.left:case s.orientation.left_top:v[0]<(Q=ee.x+ee.w-v[2]+d.padding)&&(v[0]=Q)}}for(var xe=0;xe<x.length;xe++)s.manager._iterate2(x[xe],E,d,v,_,D,T,S,u,k);return{animations:k,boundary:I,viewBox:v,visibleNodeIds:T,nodes:E,allFields:s.manager.getAllFields(d)}},s.manager._iterate2=function(o,l,u,d,h,m,b,y,v,x){if(s.manager._isVisible(o,u,d,h)){b.push(o.id);var _=null;if((h==s.action.expand||h==s.action.collapse||h==s.action.maximize)&&y&&y[o.id]&&"expandCollapseToLevel"==m.method){if(_={x:(M=y[o.id]).x,y:M.y},M){_={x:M.x,y:M.y};for(var D=o,E=null;null!=D;)y[D.id]&&y[D.id].collapsed&&(E=D),D=D.parent;E&&E.parent&&(_={x:E.parent.x,y:E.parent.y})}if(L=l[m.id]){for(D=o.parent;null!=D;)D=D.parent;D&&(_={x:L.x+L.w/2-o.w/2,y:L.y+L.h/2-o.h/2})}}else if((h==s.action.expand||h==s.action.collapse)&&y&&y[o.id]){if(_={x:(M=y[o.id]).x,y:M.y},"all"==m.ids&&M){for(_={x:M.x,y:M.y},D=o,E=null;null!=D;)y[D.id]&&y[D.id].collapsed&&(E=D),D=D.parent;E&&E.parent&&(_={x:E.parent.x,y:E.parent.y})}if(L=l[m.id]){for(D=o.parent;null!=D&&-1==m.ids.indexOf(o.id)&&-1==m.ids.indexOf(D.id);)D=D.parent;D&&(_={x:L.x+L.w/2-o.w/2,y:L.y+L.h/2-o.h/2})}}else if(h==s.action.centerNode&&y&&y[o.id])null!=(M=y[o.id]).x&&null!=M.y&&(_={x:M.x,y:M.y}),(S=l[m.id])&&S==o&&(D=o.parent)&&D.id==m.id&&(_={x:S.x+S.w/2-o.w/2,y:S.y+S.h/2-o.h/2});else if(h==s.action.maximize&&y&&y[o.id]){var S;null!=(M=y[o.id]).x&&null!=M.y&&(_={x:M.x,y:M.y}),(S=l[m.id])&&S==o&&(D=o.parent)&&D.id==m.id&&(_={x:S.x+S.w/2-o.w/2,y:S.y+S.h/2-o.h/2})}else if(h==s.action.minimize&&y&&y[o.id])_={x:(M=y[o.id]).x,y:M.y};else if(h==s.action.insert&&m&&m.insertedNodeId==o.id&&o.parent)_={x:o.parent.x,y:o.parent.y};else if(h!=s.action.update&&h!=s.action.insert||!y)h!==s.action.exporting&&h!==s.action.init&&-1==v.indexOf(o.id)&&(x[0].push(o.id),x[1].push({opacity:0}),x[2].push({opacity:1}));else{var M,L;if((!(M=y[o.id])||s.isNEU(M.x)&&s.isNEU(M.y))&&m){if(L=l[m.id]){for(D=L;D&&D.id==o.id;)D=D.parent;D&&(_={x:L.x,y:L.y})}}else M&&(_={x:M.x,y:M.y})}null!=_&&null!=_.x&&null!=_.y&&(_.x==o.x&&_.y==o.y||(x[0].push(o.id),x[1].push({transform:[1,0,0,1,_.x,_.y]}),x[2].push({transform:[1,0,0,1,o.x,o.y]})))}for(var T=0;T<o.stChildren.length;T++)s.manager._iterate2(o.stChildren[T],l,u,d,h,m,b,y,v,x);for(T=0;T<o.children.length;T++)s.manager._iterate2(o.children[T],l,u,d,h,m,b,y,v,x)},s.manager._addExpandedNodeIdsIterate=function(o,l,u){for(var d=0;d<o.childrenIds.length;d++)u.push(o.childrenIds[d]),s.manager._addExpandedNodeIdsIterate(l[o.childrenIds[d]],l,u)},s.manager._setMinMaxXYAdjustifyIterate=function(o,l,u,d,h,m,b){o.x+=m.x,o.y+=m.y,s._setMinMaxXY(o,u);for(var y=0;y<o.stChildren.length;y++)s.manager._setMinMaxXYAdjustifyIterate(o.stChildren[y],o.stChildren[y],u,0,h,m,b);for(o.sl=o.isPartner?d-1:d,null==h[l.id]&&(h[l.id]={}),null==h[l.id][o.sl]&&(h[l.id][o.sl]={minX:null,minY:null,maxX:null,maxY:null}),o.layout||s._setMinMaxXY(o,h[l.id][o.sl]),d++,y=0;y<o.children.length;y++)s.manager._setMinMaxXYAdjustifyIterate(o.children[y],l,u,d,h,m,b)},s.manager._doNotChangePositionOfClickedNodeIfAny=function(o,l,u,d,h,m){if(u!=s.action.expand&&u!=s.action.collapse&&u!=s.action.minimize&&u!=s.action.maximize&&u!=s.action.centerNode&&u!=s.action.update&&u!=s.action.insert)return{x:0,y:0};if(u==s.action.update&&(!d||null==d.id)){if(!o||!o.length)return{x:0,y:0};d={id:o[0].id}}if(null==d.id)return{x:0,y:0};var b=d.id;(u==s.action.minimize&&l[b].parent||u==s.action.maximize&&l[b].parent)&&(b=l[b].pid);var y=l[b],v=h[b];return v?{x:(v.x?v.x:0)-y.x,y:(v.y?v.y:0)-y.y}:{x:0,y:0}},s.manager._verticalAssistantIterate=function(o,l){for(var u=0;u<o.stChildren.length;u++)s.manager._verticalAssistantIterate(o.stChildren[u],l);if(3==o.children.length)s.manager._verticalAssistantIterate(o.children[0],l),s.manager._verticalAssistantIterate(o.children[2],l),s.manager._verticalAssistantIterate(o.children[1],l);else for(u=0;u<o.children.length;u++)s.manager._verticalAssistantIterate(o.children[u],l);if(o.isAssistant&&o.isSplit&&o.children.length){for(var d=o.parent.children[0],h=o.parent.children[2],m=o.parent;!m.hasAssistants;)m=m.parent;var b={max:0},y={max:0};s.manager._verticalAssistantLevelCountIterate(d,0,b),s.manager._verticalAssistantLevelCountIterate(h,0,y);var v=Math.max(b.max,y.max),x=[];for(u=0;u<v;u++){var _=new s.node(o.parent.id+"_split_assitant_level_"+u,o.pid,[],"subLevel");s.manager._initDinamicNode(_,o.lcn,!0),u>0&&(x[u-1].children.push(_),_.parent=x[u-1]),l[_.id]=_,x.push(_)}if(x.length){for(var D=x[x.length-1],E=x[0],S=o.children.length-1;S>=0;S--){var M=o.children[S];D.children.unshift(M),M.parent=D,o.children.splice(S,1)}o.children.push(E),E.parent=o}}},s.manager._verticalAssistantLevelCountIterate=function(o,l,u){u.max<l&&(u.max=l),l++;for(var d=0;d<o.children.length;d++)s.manager._verticalAssistantLevelCountIterate(o.children[d],l,u)},s._addDottedLines=function(o){var l=o.nodes;if((o.groupDottedLines.length||o.dottedLines.length)&&(l=JSON.parse(JSON.stringify(l))),o.groupDottedLines.length)for(var u=[],d=0;d<o.groupDottedLines.length;d++){var h=o.groupDottedLines[d];null==h.rootId&&(h.rootId=h.to);var m=`balkan_group_dotted_${h.rootId}`;if(!u.has(m))for(var b=0;b<l.length;b++)if(l[b].id==h.rootId){(_=JSON.parse(JSON.stringify(l[b]))).id=`balkan_group_dotted_${h.rootId}_balkan_id_${l[b].id}`,_.pid=void 0,_.stpid=l[b].id,l.push(_),u.push(m),l[b].tags||(l[b].tags=[]),l[b].tags.push("group-dotted-lines"),l[b].tags.push("group-dotted-lines-"+m);break}for(b=0;b<l.length;b++)if(l[b].id==h.from){if((_=JSON.parse(JSON.stringify(l[b]))).id=`balkan_group_dotted_${h.rootId}_balkan_id_${l[b].id}`,_.pid=`balkan_group_dotted_${h.rootId}_balkan_id_${h.to}`,_.tags){var y=_.tags.indexOf("group-dotted-lines");-1!=y&&_.tags.splice(y,1)}if(_.tags||(_.tags=[]),_.tags.push("boc-dotted-connector"),h.tags)for(var v=0;v<h.tags.length;v++)_.tags.push(h.tags[v]);l.push(_);break}}if(o.dottedLines.length)for(d=0;d<o.dottedLines.length;d++){var x=o.dottedLines[d];for(null==x.rootId&&(x.rootId=x.to),b=0;b<l.length;b++)if(l[b].id==x.from){var _;if((_=JSON.parse(JSON.stringify(l[b]))).id=`balkan_dotted_${x.rootId}_balkan_id_${l[b].id}`,_.pid=x.rootId==x.to?x.to:`balkan_dotted_${x.rootId}_balkan_id_${x.to}`,_.tags||(_.tags=[]),_.tags.push("boc-dotted-connector"),x.tags)for(v=0;v<x.tags.length;v++)_.tags.push(x.tags[v]);l.push(_);break}}return l},void 0===s&&(s={}),s.templates={},s.templates.base={defs:"",size:[250,120],expandCollapseSize:30,linkAdjuster:{fromX:0,fromY:0,toX:0,toY:0},ripple:{radius:0,color:"#e6e6e6",rect:null},assistanseLink:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="2px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} {xd},{yd} L{xe},{ye}"/>',svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',link:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} L{xd},{yd}"/>',pointer:'<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#C1C1C1" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',node:'<rect x="0" y="0" height="120" width="250" fill="none" stroke-width="1" stroke="#aeaeae" rx="7" ry="7"></rect>',plus:'<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#aeaeae"></line>',minus:'<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line>',nodeMenuButton:'<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" '+s.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',menuButton:'<div style="position:absolute;right:{p}px;top:{p}px; width:30px;height:50px;cursor:pointer;" '+s.attr.control_export_menu+'=""><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"></div>',img_0:'<clipPath id="{randId}"><circle cx="60" cy="60" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="20" y="20"  width="80" height="80"></image>',link_field_0:'<text text-anchor="middle" fill="#aeaeae" '+s.attr.width+'="290" x="0" y="0" style="font-size:10px;">{val}</text>',editFormHeaderColor:"#039BE5"},s.templates.ana={defs:"",size:[250,120],linkAdjuster:{fromX:0,fromY:0,toX:0,toY:0},ripple:{radius:0,color:"#e6e6e6",rect:null},expandCollapseSize:30,svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  style="display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',link:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="1px" fill="none" d="{rounded}" />',assistanseLink:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="2px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} {xd},{yd} L{xe},{ye}"/>',pointer:'<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#C1C1C1" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',node:'<rect x="0" y="0" height="{h}" width="{w}" fill="#039BE5" stroke-width="1" stroke="#aeaeae" rx="7" ry="7"></rect>',plus:'<circle cx="15" cy="15" r="15" class="boc-fill" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#aeaeae"></line>',minus:'<circle cx="15" cy="15" r="15" class="boc-fill" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line>',up:'<rect x="20" y="-25" width="30" height="17" fill="#aeaeae" rx="3" ry="3"></rect><line x1="35" x2="35" y1="0" y2="-8" stroke="#aeaeae" stroke-width="1"></line>',nodeMenuButton:'<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" '+s.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',menuButton:s.templates.base.menuButton,img_0:'<clipPath id="{randId}"><circle cx="50" cy="30" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="-10"  width="80" height="80"></image>',link_field_0:'<text text-anchor="middle" fill="#aeaeae" '+s.attr.width+'="290" x="0" y="0" style="font-size:10px;">{val}</text>',field_0:"<text "+s.attr.width+'="230" style="font-size: 18px;" fill="#ffffff" x="125" y="95" text-anchor="middle">{val}</text>',field_1:"<text "+s.attr.width+'="130" '+s.attr.text_overflow+'="multiline" style="font-size: 14px;" fill="#ffffff" x="230" y="30" text-anchor="end">{val}</text>',padding:[50,20,35,20],editFormHeaderColor:"#039BE5"},s.templates.split=Object.assign({},s.templates.ana),s.templates.split.size=[10,10],s.templates.split.node='<circle cx="5" cy="5" r="5" fill="none" stroke-width="1" stroke="#aeaeae"></circle>',s.templates.split.field_0="",s.templates.split.field_1="",s.templates.split.img_0="",s.templates.dot=Object.assign({},s.templates.split),s.templates.group=Object.assign({},s.templates.ana),s.templates.group.size=[250,120],s.templates.group.node='<rect rx="50" ry="50" x="0" y="0" height="{h}" width="{w}" fill="#f2f2f2" stroke-width="0"></rect>',s.templates.group.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}"/>',s.templates.group.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,{ew},25)" '+s.attr.control_node_menu_id+'="{id}"><g transform="matrix(1,0,0,1,-22,-8)"><rect x="0" y="0" fill="red" fill-opacity="0" width="18" height="22"></rect><line x1="0" y1="2" x2="9" y2="2" stroke="#aeaeae" stroke-width="1"></line><line x1="0" y1="9" x2="18" y2="9" stroke="#aeaeae" stroke-width="1"></line><line x1="0" y1="16" x2="22" y2="16" stroke="#aeaeae" stroke-width="1"></line></g></g>',s.templates.group.field_0="<text "+s.attr.width+'="230" style="font-size: 18px;" fill="#aeaeae" x="{cw}" y="30" text-anchor="middle">{val}</text>',s.templates.group.field_1="",s.templates.group.ripple={radius:50,color:"#aeaeae"},s.templates.invisibleGroup=Object.assign({},s.templates.group),s.templates.invisibleGroup.node="",s.templates.invisibleGroup.padding=[0,0,0,0],s.templates.invisibleGroup.field_0="",s.templates.invisibleGroup.nodeMenuButton="",s.templates.mirror={linkAdjuster:{},link:"",node:"",nodeMenuButton:"",size:[0,0]},s.templates.ula=Object.assign({},s.templates.ana),s.templates.ula.field_0="<text "+s.attr.width+'="145" style="font-size: 18px;" fill="#039BE5" x="100" y="55">{val}</text>',s.templates.ula.field_1="<text "+s.attr.width+'="145" '+s.attr.text_overflow+'="multiline" style="font-size: 14px;" fill="#afafaf" x="100" y="76">{val}</text>',s.templates.ula.node='<rect x="0" y="0" height="{h}" width="{w}" fill="#ffffff" stroke-width="1" stroke="#aeaeae"></rect><line x1="0" y1="0" x2="250" y2="0" stroke-width="2" stroke="#039BE5"></line>',s.templates.ula.img_0='<clipPath id="{randId}"><circle cx="50" cy="60" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="20" width="80" height="80" ></image>',s.templates.ula.menu='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,12)" '+s.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#ffffff" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#039BE5"></circle><circle cx="7" cy="0" r="2" fill="#039BE5"></circle><circle cx="14" cy="0" r="2" fill="#039BE5"></circle></g>',s.templates.ula.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" '+s.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="7" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="14" cy="0" r="2" fill="#AEAEAE"></circle></g>',s.templates.olivia=Object.assign({},s.templates.ana),s.templates.olivia.defs='<style>\n                                    #olivia_gradient {\n                                        --color-stop-1: #ffffff;\n                                        --color-stop-2: #eeeeee;\n                                        --opacity-stop: 1;\n                                    }\n                                    .olivia-f0{\n                                        font-size: 18px;\n                                        fill: #757575;\n                                    }\n                                    .olivia-f1{\n                                        font-size: 14px;\n                                        fill: #757575;\n                                    }\n                                    .boc-dark .olivia-f0,.boc-dark .olivia-f1{\n                                        fill: #aeaeae;\n                                    }\n                                    .boc-dark #olivia_gradient {\n                                        --color-stop-1: #646464;\n                                        --color-stop-2: #363636;\n                                        --opacity-stop: 1;\n                                    }\n                                </style>\n                                \'<linearGradient id="olivia_gradient" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="var(--color-stop-1)" stop-opacity="var(--opacity-stop)"/><stop offset="100%" stop-color="var(--color-stop-2)" stop-opacity="var(--opacity-stop)" /></linearGradient>',s.templates.olivia.field_0="<text "+s.attr.width+'="135" class="olivia-f0" x="100" y="55">{val}</text>',s.templates.olivia.field_1="<text "+s.attr.width+'="135" class="olivia-f1" x="100" y="76">{val}</text>',s.templates.olivia.node='<rect fill="url(#olivia_gradient)" x="0" y="0" height="{h}" width="{w}" stroke-width="1" stroke="#aeaeae" rx="7" ry="7"></rect>',s.templates.olivia.img_0='<clipPath id="{randId}"><circle cx="50" cy="60" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="20" width="80" height="80" ></image>',s.templates.olivia.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" '+s.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="7" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="14" cy="0" r="2" fill="#AEAEAE"></circle></g>',s.templates.belinda=Object.assign({},s.templates.ana),s.templates.belinda.size=[180,180],s.templates.belinda.ripple={radius:90,color:"#e6e6e6",rect:null},s.templates.belinda.node='<circle cx="90" cy="90" r="90" fill="#039BE5" stroke-width="1" stroke="#aeaeae"></circle>',s.templates.belinda.img_0='<clipPath id="{randId}"><circle cx="90" cy="45" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="50" y="5" width="80" height="80" ></image>',s.templates.belinda.field_0="<text "+s.attr.width+'="170" style="font-size: 18px;" text-anchor="middle" fill="#ffffff"  x="90" y="105">{val}</text>',s.templates.belinda.field_1="<text "+s.attr.width+'="160" style="font-size: 14px;" text-anchor="middle" fill="#ffffff"  x="90" y="125">{val}</text>',s.templates.belinda.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}"/>',s.templates.belinda.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,79,5)" '+s.attr.control_node_menu_id+'="{id}"><rect x="0" y="0" fill="#000000" fill-opacity="0" width="22" height="22"></rect><line stroke-width="2" stroke="#000" x1="0" y1="3" x2="22" y2="3"></line><line stroke-width="2" stroke="#000" x1="0" y1="9" x2="22" y2="9"></line><line stroke-width="2" stroke="#000" x1="0" y1="15" x2="22" y2="15"></line></g>',s.templates.rony=Object.assign({},s.templates.ana),s.templates.rony.svg='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="background-color:#E8E8E8;display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',s.templates.rony.defs='<filter id="{randId}" x="0" y="0" width="200%" height="200%"><feOffset result="offOut" in="SourceAlpha" dx="5" dy="5"></feOffset><feGaussianBlur result="blurOut" in="offOut" stdDeviation="5"></feGaussianBlur><feBlend in="SourceGraphic" in2="blurOut" mode="normal"></feBlend></filter>',s.templates.rony.size=[180,250],s.templates.rony.ripple={color:"#F57C00",radius:5,rect:null},s.templates.rony.img_0='<clipPath id="{randId}"><circle cx="90" cy="160" r="60"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="30" y="100"  width="120" height="120"></image>',s.templates.rony.node='<rect filter="url(#{randId})" x="0" y="0" height="250" width="180" fill="#ffffff" stroke-width="0" rx="7" ry="7"></rect>',s.templates.rony.field_0="<text "+s.attr.width+'="165" style="font-size: 18px;" fill="#039BE5" x="90" y="40" text-anchor="middle">{val}</text>',s.templates.rony.field_1="<text "+s.attr.width+'="165" style="font-size: 14px;" fill="#F57C00" x="90" y="60" text-anchor="middle">{val}</text>',s.templates.rony.field_2="<text "+s.attr.width+'="165" style="font-size: 14px;" fill="#FFCA28" x="90" y="80" text-anchor="middle">{val}</text>',s.templates.rony.link='<path stroke="#039BE5" stroke-width="1px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} L{xd},{yd}"/>',s.templates.rony.plus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#039BE5" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#039BE5"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#039BE5"></line>',s.templates.rony.minus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#039BE5" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#039BE5"></line>',s.templates.rony.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,155,235)" '+s.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#F57C00"></circle><circle cx="7" cy="0" r="2" fill="#F57C00"></circle><circle cx="14" cy="0" r="2" fill="#F57C00"></circle></g>',s.templates.mery=Object.assign({},s.templates.ana),s.templates.mery.ripple={color:"#e6e6e6",radius:50,rect:null},s.templates.mery.node='<rect x="0" y="0" height="120" width="250" fill="#ffffff" stroke-width="1" stroke="#686868" rx="50" ry="50"></rect><rect x="0" y="45" height="30" width="250" fill="#039BE5" stroke-width="1"></rect>',s.templates.mery.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}" />',s.templates.mery.img_0='<clipPath id="{randId}"><circle cx="125" cy="60" r="24"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="95" y="33"  width="60" height="60"></image>',s.templates.mery.field_0="<text "+s.attr.width+'="220" style="font-size: 18px;" fill="#039BE5" x="125" y="30" text-anchor="middle">{val}</text>',s.templates.mery.field_1="<text "+s.attr.width+'="220" style="font-size: 14px;" fill="#039BE5" x="125" y="100" text-anchor="middle">{val}</text>',s.templates.mery.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,60)" '+s.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',s.templates.polina=Object.assign({},s.templates.ana),s.templates.polina.size=[300,80],s.templates.polina.ripple={color:"#e6e6e6",radius:40,rect:null},s.templates.polina.node='<rect x="0" y="0" height="80" width="300" fill="#039BE5" stroke-width="1" stroke="#686868" rx="40" ry="40"></rect>',s.templates.polina.img_0='<clipPath id="{randId}"><circle  cx="40" cy="40" r="35"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="0" y="0"  width="80" height="80"></image>',s.templates.polina.field_0="<text "+s.attr.width+'="210" style="font-size: 18px;" fill="#ffffff" x="80" y="30" text-anchor="start">{val}</text>',s.templates.polina.field_1="<text "+s.attr.width+'="210" style="font-size: 14px;" fill="#ffffff" x="80" y="55" text-anchor="start">{val}</text>',s.templates.polina.link='<path stroke="#686868" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}" />',s.templates.polina.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,285,33)" '+s.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="0" cy="7" r="2" fill="#ffffff"></circle><circle cx="0" cy="14" r="2" fill="#ffffff"></circle></g>',s.templates.mila=Object.assign({},s.templates.ana),s.templates.mila.node='<rect x="0" y="0" height="120" width="250" fill="#039BE5" stroke-width="1" stroke="#aeaeae"></rect><rect x="-5" y="70" height="30" width="260" fill="#ffffff" stroke-width="1" stroke="#039BE5"></rect><line x1="-5" x2="0" y1="100" y2="105" stroke-width="1" stroke="#039BE5"/><line x1="255" x2="250" y1="100" y2="105" stroke-width="1" stroke="#039BE5"/>',s.templates.mila.img_0='<image preserveAspectRatio="xMidYMid slice" xlink:href="{val}" x="20" y="5"  width="64" height="64"></image>',s.templates.mila.field_0="<text "+s.attr.width+'="240" style="font-size: 18px;" fill="#039BE5" x="125" y="92" text-anchor="middle">{val}</text>',s.templates.mila.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,110)" '+s.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',s.templates.diva=Object.assign({},s.templates.ana),s.templates.diva.size=[200,170],s.templates.diva.node='<rect x="0" y="80" height="90" width="200" fill="#039BE5"></rect><circle cx="100" cy="50" fill="#ffffff" r="50" stroke="#039BE5" stroke-width="2"></circle>',s.templates.diva.img_0='<clipPath id="{randId}"><circle cx="100" cy="50" r="45"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="50" y="0"  width="100" height="100"></image>',s.templates.diva.field_0="<text "+s.attr.width+'="185" style="font-size: 18px;" fill="#ffffff" x="100" y="125" text-anchor="middle">{val}</text>',s.templates.diva.field_1="<text "+s.attr.width+'="185" style="font-size: 14px;" fill="#ffffff" x="100" y="145" text-anchor="middle">{val}</text>',s.templates.diva.pointer='<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#039BE5" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',s.templates.diva.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,175,155)" '+s.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',s.templates.luba=Object.assign({},s.templates.ana),s.templates.luba.svg='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:block;background-color: #2E2E2E;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',s.templates.luba.defs='<linearGradient id="{randId}" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#646464;stop-opacity:1" /><stop offset="100%" style="stop-color:#363636;stop-opacity:1" /></linearGradient>',s.templates.luba.node='<rect fill="url(#{randId})" x="0" y="0" height="120" width="250" stroke-width="1" stroke="#aeaeae" rx="7" ry="7"></rect>',s.templates.luba.img_0='<clipPath id="{randId}"><circle cx="50" cy="25" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="-15"  width="80" height="80"></image>',s.templates.luba.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" '+s.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#aeaeae"></circle><circle cx="7" cy="0" r="2" fill="#aeaeae"></circle><circle cx="14" cy="0" r="2" fill="#aeaeae"></circle></g>',s.templates.luba.field_0="<text "+s.attr.width+'="235" style="font-size: 18px;" fill="#aeaeae" x="125" y="90" text-anchor="middle">{val}</text>',s.templates.luba.field_1="<text "+s.attr.width+'="140" style="font-size: 14px;" fill="#aeaeae" x="240" y="30" text-anchor="end">{val}</text>',s.templates.luba.plus='<rect x="0" y="0" width="36" height="36" rx="12" ry="12" fill="#2E2E2E" stroke="#aeaeae" stroke-width="1"></rect><line x1="4" y1="18" x2="32" y2="18" stroke-width="1" stroke="#aeaeae"></line><line x1="18" y1="4" x2="18" y2="32" stroke-width="1" stroke="#aeaeae"></line>',s.templates.luba.minus='<rect x="0" y="0" width="36" height="36" rx="12" ry="12" fill="#2E2E2E" stroke="#aeaeae" stroke-width="1"></rect><line x1="4" y1="18" x2="32" y2="18" stroke-width="1" stroke="#aeaeae"></line>',s.templates.luba.expandCollapseSize=36,s.templates.isla=Object.assign({},s.templates.ana),s.templates.isla.defs='<filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="isla-shadow"><feOffset dx="0" dy="4" in="SourceAlpha" result="shadowOffsetOuter1" /><feGaussianBlur stdDeviation="10" in="shadowOffsetOuter1" result="shadowBlurOuter1" /><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.2 0" in="shadowBlurOuter1" type="matrix" result="shadowMatrixOuter1" /><feMerge><feMergeNode in="shadowMatrixOuter1" /><feMergeNode in="SourceGraphic" /></feMerge></filter>',s.templates.isla.size=[180,120],s.templates.isla.node='<rect filter="url(#isla-shadow)" x="0" y="20" rx="7" ry="7" height="100" width="180" fill="#FFF" stroke-width="1" stroke="#039BE5" ></rect><rect x="25" y="75" rx="10" ry="10" height="20" width="130" fill="#039BE5" stroke-width="3" stroke="#039BE5"></rect><rect fill="#ffffff" stroke="#039BE5" stroke-width="1" x="70" y="0" rx="13" ry="13" width="40" height="40"></rect><circle stroke="#FFCA28" stroke-width="3" fill="none" cx="90" cy="12" r="8"></circle><path d="M75,34 C75,17 105,17 105,34" stroke="#FFCA28" stroke-width="3" fill="none"></path>',s.templates.isla.field_0="<text "+s.attr.width+'="120" style="font-size: 12px;" fill="#fff" x="90" y="90" text-anchor="middle">{val}</text>',s.templates.isla.field_1="<text "+s.attr.width+'="160" style="font-size: 13px;" fill="#039BE5" x="90" y="64" text-anchor="middle">{val}</text>',s.templates.isla.img_0='<clipPath id="{randId}"><rect filter="url(#isla-shadow)" fill="#ffffff" stroke="#039BE5" stroke-width="1" x="70" y="0" rx="13" ry="13" width="40" height="40"></rect></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="70" y="0"  width="40" height="40"></image>',s.templates.isla.minus='<circle cx="15" cy="15" r="15" fill="#F57C00" stroke="#F57C00" stroke-width="1"></circle><line x1="8" y1="15" x2="22" y2="15" stroke-width="1" stroke="#ffffff"></line>',s.templates.isla.plus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#039BE5" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#039BE5"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#039BE5"></line>',s.templates.isla.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,83,45)" '+s.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#F57C00"></circle><circle cx="7" cy="0" r="2" fill="#F57C00"></circle><circle cx="14" cy="0" r="2" fill="#F57C00"></circle></g>',s.templates.isla.ripple={radius:0,color:"#F57C00",rect:{x:0,y:20,width:180,height:100}},s.templates.deborah=Object.assign({},s.templates.polina),s.templates.deborah.size=[150,150],s.templates.deborah.node='<rect x="0" y="0" height="150" width="150" fill="#039BE5" stroke-width="1" stroke="#686868" rx="15" ry="15"></rect>',s.templates.deborah.img_0='<clipPath id="{randId}"><rect fill="#ffffff" stroke="#039BE5" stroke-width="1" x="5" y="5" rx="15" ry="15" width="140" height="140"></rect></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="5" y="5"  width="140" height="140"></image><rect x="3" y="5" height="30" width="144" fill="#039BE5" opacity="0.5" rx="3" ry="3"></rect><rect x="3" y="115" height="30" width="144" fill="#039BE5" opacity="0.5" rx="3" ry="3"></rect>',s.templates.deborah.field_0="<text "+s.attr.width+'="125" '+s.attr.text_overflow+'="ellipsis" style="font-size: 18px;" fill="#ffffff" x="15" y="25" text-anchor="start">{val}</text>',s.templates.deborah.field_1="<text "+s.attr.width+'="105" '+s.attr.text_overflow+'="ellipsis" style="font-size: 11px;" fill="#ffffff" x="15" y="135" text-anchor="start">{val}</text>',s.templates.deborah.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,125,130)" '+s.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',s.templates.subLevel=Object.assign({},s.templates.base),s.templates.subLevel.size=[0,0],s.templates.subLevel.node="",s.templates.subLevel.plus="",s.templates.subLevel.minus="",s.templates.subLevel.nodeMenuButton="",s.templates.group_dotted_lines=Object.assign({},s.templates.group),s.templates.group_dotted_lines.size=[250,120],s.templates.group_dotted_lines.link='<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="1px" fill="none" d="{rounded}" />',s.templates.group_dotted_lines.node='<rect rx="5" ry="5" x="0" y="0" height="{h}" width="{w}" fill="#e5e5e5" stroke-width="0"></rect>',s.templates.group_dotted_lines.nodeGroupDottedCloseButton='<g transform="matrix(1,0,0,1,{ew},0)"><circle cx="0.5" cy="21.5" r="12" fill="#F57C00"></circle>'+s.icon.close(25,25,"#fff",-13,8)+"</g>",s.templates.group_dotted_lines.field_0='<text data-width="230" style="font-size: 18px;" fill="#F57C00" x="20" y="30" text-anchor="start">Dotted Lines</text>',s.templates.group_dotted_lines.field_1="",s.templates.group_dotted_lines.img_0="",s.templates.group_dotted_lines.ripple.radius=5,s.templates.group_dotted_lines.min=Object.assign({},s.templates.olivia),s.templates.group_dotted_lines.min.nodeGroupDottedOpenButton='<g transform="matrix(1,0,0,1,220,10)"><rect x="0" y="0" width="22" height="22" stroke="#aeaeae" stroke-width="1" fill="#ffffff" rx="5" ry="5"></rect><text x="11" y="16" text-anchor="middle" style="font-size: 14px;" fill="#2A292E">{children-total-count}</text><rect x="0" y="0" width="22" height="22" style="opacity: 0" stroke="#aeaeae" stroke-width="1" fill="red" rx="5" ry="5"></rect></g>',s.ui={_defsIds:{},defs:function(o){var l="";for(var u in s.templates){var d=s.templates[u];d.defs&&(s.ui._defsIds[u]=s.randomId(),l+=d.defs.replaceAll("{randId}",s.ui._defsIds[u]))}return"<defs>"+l+o+"</defs>"},lonely:function(o){return o.nodes&&o.nodes.length?"":s.IT_IS_LONELY_HERE.replace("{link}",s.RES.IT_IS_LONELY_HERE_LINK)},pointer:function(o,l,u){return l===s.action.exporting?"":s.t(o.template,!1,u).pointer},node:function(o,l,u,d,h,m,b,y,v,x){var _=s.t(o.templateName,o.min,v),D=_.node.replaceAll("{w}",o.w).replaceAll("{h}",o.h);_.defs&&(D=D.replaceAll("{randId}",s.ui._defsIds[o.templateName])),null==b&&(b=d.nodeBinding);var E={node:o,data:l};for(var S in b){var M,L=b[S];l&&(M=l[L]);var T=s._lblIsImg(d,S);if(E.value=M,E.element=_[S],E.name=L,!1!==s.events.publish("field",[x,E])&&null!=E.value&&null!=E.value&&null!=E.element){if(!T&&"string"==typeof E.value){var I=E.element;I&&(I=I.replaceAll("{ew}",o.w-(o.padding?o.padding[1]:0)).replaceAll("{cw}",o.w/2)),E.value=s.wrapText(E.value,I)}var k=E.element.replace("{val}",E.value);D+=k=k.replaceAll("{ew}",o.w-(o.padding?o.padding[1]:0)).replaceAll("{cw}",o.w/2).replaceAll("{randId}",s.randomId()).replaceAll("{randId2}",s.randomId())}}var R=s._getPosition(u,o,h,m),P="node";Array.isArray(o.tags)&&o.tags.length&&(P+=" "+o.tags.join(" ")),o.layout&&(P+=" tree-layout");var O="";o.lcn&&(O='lcn="'+o.lcn+'"');var U=s.nodeOpenTag.replace("{lcn}",O).replace("{id}",o.id).replace("{class}",P).replace("{sl}",o.sl).replace("{level}",o.level).replace("{x}",R.x).replace("{y}",R.y),$=s._getOpacity(u,o);return(U=U.replace("{opacity}",$))+(D+=s.ui.nodeBtns(d,o,y,_,x))+s.grCloseTag},nodeBtns:function(o,l,u,d,h){var m="";return null==o.nodeMenu||l.isSplit||u===s.action.exporting||(m+=d.nodeMenuButton.replace("{id}",l.id).replace("{cw}",l.w/2).replace("{ch}",l.h/2).replace("{ew}",l.w-(l.padding?l.padding[1]:0)).replace("{eh}",l.h-(l.padding?l.padding[2]:0))),null==o.nodeCircleMenu||l.isSplit||u===s.action.exporting||s.isNEU(d.nodeCircleMenuButton)||(m+='<g style="cursor:pointer;" transform="matrix(1,0,0,1,'+d.nodeCircleMenuButton.x+","+d.nodeCircleMenuButton.y+')" '+s.attr.control_node_circle_menu_id+'="'+l.id+'"><circle cx="0" cy="0" fill="'+d.nodeCircleMenuButton.color+'" r="'+d.nodeCircleMenuButton.radius+'" stroke-width="1" stroke="'+d.nodeCircleMenuButton.stroke+'"></circle><line x1="-'+d.nodeCircleMenuButton.radius/2+'" y1="-6" x2="'+d.nodeCircleMenuButton.radius/2+'" y2="-6" stroke-width="2" stroke="'+d.nodeCircleMenuButton.stroke+'"></line><line x1="-'+d.nodeCircleMenuButton.radius/2+'" y1="0" x2="'+d.nodeCircleMenuButton.radius/2+'" y2="0" stroke-width="2" stroke="'+d.nodeCircleMenuButton.stroke+'"></line><line x1="-'+d.nodeCircleMenuButton.radius/2+'" y1="6" x2="'+d.nodeCircleMenuButton.radius/2+'" y2="6" stroke-width="2" stroke="'+d.nodeCircleMenuButton.stroke+'"></line></g>'),m},expandCollapseBtn:function(o,l,u,d,h){var m="";if(d!==s.action.exporting&&!l.isSplit){var b=u[l.lcn?l.lcn:"base"],y=0,v=0,x=s.t(l.templateName,l.min,h);if(l.childrenIds.length>0){if(l.hasPartners){for(var _=!1,D=0;D<l.childrenIds.length;D++){var E=o.getNode(l.childrenIds[D]);!E||E.parentPartner||E.isPartner||(_=!0)}if(!_)return""}switch(b.orientation){case s.orientation.top:case s.orientation.top_left:y=l.x+l.w/2,v=l.y+l.h;break;case s.orientation.bottom:case s.orientation.bottom_left:y=l.x+l.w/2,v=l.y;break;case s.orientation.right:case s.orientation.right_top:y=l.x,v=l.y+l.h/2;break;case s.orientation.left:case s.orientation.left_top:y=l.x+l.w,v=l.y+l.h/2}if(y-=x.expandCollapseSize/2,v-=x.expandCollapseSize/2,o.getCollapsedIds(l).length?(m+=s.expcollOpenTag.replace("{id}",l.id).replace("{x}",y).replace("{y}",v),m+=x.plus,m+=s.grCloseTag):(m+=s.expcollOpenTag.replace("{id}",l.id).replace("{x}",y).replace("{y}",v),m+=x.minus,m+=s.grCloseTag),-1!=m.indexOf("{collapsed-children-count}")){var S=s.collapsedChildrenCount(o,l);m=m.replace("{collapsed-children-count}",S)}if(-1!=m.indexOf("{collapsed-children-total-count}")){var M=s.collapsedChildrenTotalCount(o,l);m=m.replace("{collapsed-children-total-count}",M)}if(-1!=m.indexOf("{children-count}")){var L=s.childrenCount(o,l);m=m.replace("{children-count}",L)}if(-1!=m.indexOf("{children-total-count}")){var T=s.childrenTotalCount(o,l);m=m.replace("{children-total-count}",T)}}o._nodeHasHiddenParent(l)&&(m+=s.upOpenTag.replace("{id}",l.id).replace("{x}",l.x).replace("{y}",l.y),m+=x.up,m+=s.grCloseTag)}var I={html:m,node:l};return s.events.publish("renderbuttons",[o,I]),I.html},link:function(o,l,u,d,h,m){var y=l._layoutConfigs[o.lcn?o.lcn:"base"],v=s.t(o.templateName,o.min,u),x=[],_=y.levelSeparation/2;o.layout!=s.mixed&&o.layout!=s.tree||(_=y.mixedHierarchyNodesSeparation/2);var D=0,E=s.getRootOf(o).id,S=d[E][o.sl],M=void 0;if(o.hasPartners){M={ids:[],indexes:{},ppnodes:{},lastLeft:null,firstRight:null,maxSidePartnersWithChildren:0,rightIds:[],leftIds:[],partnerChildrenSplitSeparation:l.config.partnerChildrenSplitSeparation};for(var L=0;L<o.children.length;L++)(T=o.children[L]).parentPartner?(M.ppnodes[T.id]=T.parentPartner,M.ids.push(T.id),1==T.parentPartner.isPartner?(-1==M.rightIds.indexOf(T.parentPartner.id)&&M.rightIds.push(T.parentPartner.id),M.indexes[T.id]=M.rightIds.indexOf(T.parentPartner.id),M.firstRight||(M.firstRight=T)):2==T.parentPartner.isPartner&&(-1==M.leftIds.indexOf(T.parentPartner.id)&&M.leftIds.push(T.parentPartner.id),M.indexes[T.id]=M.leftIds.indexOf(T.parentPartner.id),M.lastLeft=T)):T.isPartner||(M.lastLeft=T,M.firstRight||(M.firstRight=T));M.maxSidePartnersWithChildren=Math.max(M.leftIds.length,M.rightIds.length),D=0==M.maxSidePartnersWithChildren?l.config.minPartnerSeparation/2:l.config.minPartnerSeparation/2+M.partnerChildrenSplitSeparation*M.maxSidePartnersWithChildren+M.partnerChildrenSplitSeparation/2}for(L=0;L<o.children.length;L++){var T=o.children[L],I=d[E][T.sl],k={xa:0,ya:0,xb:0,yb:0,xc:0,yc:0,xd:0,yd:0,x:0,y:0,rotate:0},R=(v=s.t(T.templateName,T.min,u)).link;if(T.isChildOfPartner)switch(y.orientation){case s.orientation.top:case s.orientation.top_left:var P=1==T.layout?void 0:I.minY-(I.minY-S.maxY)/2;k=s.ui._linkTopToBottom(T.parentPartner,T,v,_,P);break;case s.orientation.bottom:case s.orientation.bottom_left:k=s.ui._linkBottomToTop(T.parentPartner,T,v,_,P=1==T.layout?void 0:I.maxY-(I.maxY-S.minY)/2);break;case s.orientation.right:case s.orientation.right_top:k=s.ui._linkRightToLeft(T.parentPartner,T,v,_,P=1==T.layout?void 0:I.maxX-(I.maxX-S.minX)/2);break;case s.orientation.left:case s.orientation.left_top:k=s.ui._linkLeftToRight(T.parentPartner,T,v,_,P=1==T.layout?void 0:I.minX-(I.minX-S.maxX)/2)}else if(M&&-1!=M.ids.indexOf(T.id))switch(y.orientation){case s.orientation.top:case s.orientation.top_left:k=s.ui._linkPpTop(M,o,T,I,S,v);break;case s.orientation.bottom:case s.orientation.bottom_left:k=s.ui._linkPpBottom(M,o,T,I,S,v);break;case s.orientation.right:case s.orientation.right_top:k=s.ui._linkPpRight(M,o,T,I,S,v);break;case s.orientation.left:case s.orientation.left_top:k=s.ui._linkPpLeft(M,o,T,I,S,v)}else{var U=T.isAssistant&&T.leftNeighbor&&T.leftNeighbor.isAssistant&&T.parent==T.leftNeighbor.parent;if((T.isAssistant&&T.rightNeighbor&&T.rightNeighbor.isAssistant&&T.parent==T.rightNeighbor.parent||2==T.layout)&&T.rightNeighbor&&T.rightNeighbor.isSplit)switch(y.orientation){case s.orientation.top:case s.orientation.top_left:case s.orientation.bottom:case s.orientation.bottom_left:k=s.ui._linkRightToLeft(T.rightNeighbor,T,v,_);break;case s.orientation.right:case s.orientation.right_top:case s.orientation.left:case s.orientation.left_top:k=s.ui._linkBottomToTop(T.rightNeighbor,T,v,_)}else if((U||2==T.layout)&&T.leftNeighbor&&T.leftNeighbor.isSplit)switch(y.orientation){case s.orientation.top:case s.orientation.top_left:case s.orientation.bottom:case s.orientation.bottom_left:k=s.ui._linkLeftToRight(T.leftNeighbor,T,v,_);break;case s.orientation.right:case s.orientation.right_top:case s.orientation.left:case s.orientation.left_top:k=s.ui._linkTopToBottom(T.leftNeighbor,T,v,_)}else switch(y.orientation){case s.orientation.top:case s.orientation.top_left:k=1==T.isPartner?s.ui._linkLeftToRight(o,T,v,D):2==T.isPartner?s.ui._linkRightToLeft(o,T,v,D):s.ui._linkTopToBottom(o,T,v,_,P=1==T.layout?void 0:I.minY-(I.minY-S.maxY)/2);break;case s.orientation.bottom:case s.orientation.bottom_left:k=1==T.isPartner?s.ui._linkLeftToRight(o,T,v,D):2==T.isPartner?s.ui._linkRightToLeft(o,T,v,D):s.ui._linkBottomToTop(o,T,v,_,P=1==T.layout?void 0:I.maxY-(I.maxY-S.minY)/2);break;case s.orientation.right:case s.orientation.right_top:k=1==T.isPartner?s.ui._linkTopToBottom(o,T,v,D):2==T.isPartner?s.ui._linkBottomToTop(o,T,v,D):s.ui._linkRightToLeft(o,T,v,_,P=1==T.layout?void 0:I.maxX-(I.maxX-S.minX)/2);break;case s.orientation.left:case s.orientation.left_top:k=1==T.isPartner?s.ui._linkTopToBottom(o,T,v,D):2==T.isPartner?s.ui._linkBottomToTop(o,T,v,D):s.ui._linkLeftToRight(o,T,v,_,P=1==T.layout?void 0:I.minX-(I.minX-S.maxX)/2)}}if(-1!=R.indexOf("{rounded}"))if(k.xa==k.xb&&k.xa==k.xc&&k.xa==k.xd||k.ya==k.yb&&k.ya==k.yc&&k.ya==k.yd)R=R.replace("{rounded}","M"+k.xa+","+k.ya+" L"+k.xd+","+k.yd);else if(Math.abs(k.xa-k.xd)<=s.LINK_ROUNDED_CORNERS&&Math.abs(k.xa-k.xc)<=s.LINK_ROUNDED_CORNERS&&Math.abs(k.xa-k.xb)<=s.LINK_ROUNDED_CORNERS)R=R.replace("{rounded}","M"+k.xa+","+k.ya+" L"+k.xa+","+k.yd);else if(Math.abs(k.ya-k.yd)<=s.LINK_ROUNDED_CORNERS&&Math.abs(k.ya-k.yc)<=s.LINK_ROUNDED_CORNERS&&Math.abs(k.ya-k.yb)<=s.LINK_ROUNDED_CORNERS)R=R.replace("{rounded}","M"+k.xa+","+k.ya+" L"+k.xd+","+k.ya);else{var $=s.ui._roundedEdge(k.xa,k.ya,k.xb,k.yb,k.xc,k.yc),z=s.ui._roundedEdge(k.xb,k.yb,k.xc,k.yc,k.xd,k.yd);R=R.replace("{rounded}","M"+$.x1+","+$.y1+" "+$.x2+","+$.y2+" Q"+$.qx1+","+$.qy1+" "+$.qx2+","+$.qy2+" L"+z.x2+","+z.y2+" Q"+z.qx1+","+z.qy1+" "+z.qx2+","+z.qy2+" L"+z.x3+","+z.y3)}else R=-1!=R.indexOf("{edge}")?R.replace("{edge}","M"+k.xa+","+k.ya+" "+k.xb+","+k.yb+" "+k.xc+","+k.yc+" L"+k.xd+","+k.yd):-1!=R.indexOf("{curve}")?R.replace("{curve}","M"+k.xa+","+k.ya+" C"+k.xb+","+k.yb+" "+k.xc+","+k.yc+" "+k.xd+","+k.yd):R.replaceAll("{xa}",k.xa).replaceAll("{ya}",k.ya).replaceAll("{xb}",k.xb).replaceAll("{yb}",k.yb).replaceAll("{xc}",k.xc).replaceAll("{yc}",k.yc).replaceAll("{xd}",k.xd).replaceAll("{yd}",k.yd);x.push(s.linkOpenTag.replace("{id}",o.id).replace("{class}","link "+T.tags.join(" ")).replace("{child-id}",T.id));var G={node:o,cnode:T,p:k,html:R,action:m};s.events.publish("render-link",[l,G]),x.push(G.html);var te="";for(var ee in l.config.linkBinding){var Q=l.config.linkBinding[ee],xe=l._get(T.id);xe&&(G.value=xe[Q],G.element=v[ee],G.name=Q,!1!==s.events.publish("label",[l,G])&&(s.isNEU(G.value)||s.isNEU(G.element)||(te+=G.element.replace("{val}",G.value))))}""!=te&&(te=s.linkFieldsOpenTag.replace("{x}",k.x).replace("{y}",k.y).replace("{rotate}",0)+te+s.grCloseTag,x.push(te)),x.push(s.grCloseTag)}return x.join("")},svg:function(o,l,u,d,h,m){return s.t(d.template,!1,m).svg.replace("{w}",o).replace("{h}",l).replace("{viewBox}",u).replace("{randId}",s.ui._defsIds[d.template]).replace("{mode}",d.mode).replace("{template}",d.template).replace("{content}",function(){return h})},menuButton:function(o){return null==o.menu?"":s.t(o.template,!1).menuButton.replaceAll("{p}",o.padding)},_roundedEdge:function(o,l,u,d,h,m){var b,y,v,x=s.LINK_ROUNDED_CORNERS,_=0;return o==u&&o==h||l==d&&l==m?(b=v=u,y=_=d):(o!=h&&u==h&&(b=v=u,y=d,l<m?_=d+x:l>m&&(_=d-x)),o<h&&u==h?u-=x:o>h&&u==h&&(u+=x),l!=m&&d==m&&(b=u,y=_=d,o<h?v=u+x:o>h&&(v=u-x)),l<m&&d==m?d-=x:l>m&&d==m&&(d+=x)),{x1:o,y1:l,x2:u,y2:d,x3:h,y3:m,qx1:b,qy1:y,qx2:v,qy2:_}},_linkTopToBottom:function(o,l,u,d,h){var m,b,y,v,x,_;return v=y=l.x+l.w/2+u.linkAdjuster.fromX,x=l.y+u.linkAdjuster.fromY,{xa:m=o.x+o.w/2+u.linkAdjuster.toX,ya:b=o.y+o.h+u.linkAdjuster.toY,xb:m,yb:_=o.rightNeighbor&&o.rightNeighbor.isAssistant&&"split"==l.templateName?o.rightNeighbor.y+o.rightNeighbor.h+d:"split"!=o.templateName||!l.isAssistant&&2!=l.layout?"split"==l.templateName?b+d:h??x-d:x,xc:y,yc:_,xd:v,yd:x,x:y,y:_+16,rotate:0}},_linkBottomToTop:function(o,l,u,d,h){var m,b,y,v,x,_;return v=y=l.x+l.w/2+u.linkAdjuster.fromX,x=l.y+l.h+u.linkAdjuster.fromY,{xa:m=o.x+o.w/2+u.linkAdjuster.toX,ya:b=o.y+u.linkAdjuster.toY,xb:m,yb:_=o.rightNeighbor&&o.rightNeighbor.isAssistant&&"split"==l.templateName?o.rightNeighbor.y-d:"split"!=o.templateName||!l.isAssistant&&2!=l.layout?"split"==l.templateName?b-d:h??x+d:x,xc:y,yc:_,xd:v,yd:x,x:y,y:_-14,rotate:0}},_linkRightToLeft:function(o,l,u,d,h){var m,b,v,x,_,D;return x=l.x+l.w+u.linkAdjuster.fromX,_=v=l.y+l.h/2+u.linkAdjuster.fromY,{xa:m=o.x+u.linkAdjuster.toX,ya:b=o.y+o.h/2+u.linkAdjuster.toY,xb:D=o.rightNeighbor&&o.rightNeighbor.isAssistant&&"split"==l.templateName?o.rightNeighbor.x-d:"split"!=o.templateName||!l.isAssistant&&2!=l.layout?"split"==l.templateName?m-d:h??x+d:x,yb:b,xc:D,yc:v,xd:x,yd:_,x:D-16,y:v,rotate:90}},_linkLeftToRight:function(o,l,u,d,h){var m,b,v,x,_,D;return x=l.x+u.linkAdjuster.fromX,_=v=l.y+l.h/2+u.linkAdjuster.fromY,{xa:m=o.x+o.w+u.linkAdjuster.toX,ya:b=o.y+o.h/2+u.linkAdjuster.toY,xb:D=o.rightNeighbor&&o.rightNeighbor.isAssistant&&"split"==l.templateName?o.rightNeighbor.x+o.rightNeighbor.w+d:"split"!=o.templateName||!l.isAssistant&&2!=l.layout?"split"==l.templateName?m+d:h??x-d:x,yb:b,xc:D,yc:v,xd:x,yd:_,x:D+14,y:v,rotate:270}},_linkPpTop:function(o,l,u,d,h,m){var b=o.ppnodes[u.id],y=b.y+b.h/2,v=d.minY-(d.minY-h.maxY)/2,_=s.ui.__linkPpBottomTop(o,l,u,v,(d.minY-h.maxY)/o.maxSidePartnersWithChildren/4,b);return s.ui._linkTopToBottom({x:_.x,y,w:0,h:0},u,m,0,v=_.mid)},_linkPpBottom:function(o,l,u,d,h,m){var b=o.ppnodes[u.id],y=b.y+b.h/2,v=d.maxY-(d.maxY-h.minY)/2,_=s.ui.__linkPpBottomTop(o,l,u,v,(d.maxY-h.minY)/o.maxSidePartnersWithChildren/4,b);return s.ui._linkBottomToTop({x:_.x,y,w:0,h:0},u,m,0,v=_.mid)},_linkPpLeft:function(o,l,u,d,h,m){var b=o.ppnodes[u.id],y=d.minX-(d.minX-h.maxX)/2,x=b.x+b.w/2,_=s.ui.__linkPpLeftRight(o,l,u,y,(d.minX-h.maxX)/o.maxSidePartnersWithChildren/4,b);return s.ui._linkLeftToRight({x,y:_.y,w:0,h:0},u,m,0,y=_.mid)},_linkPpRight:function(o,l,u,d,h,m){var b=o.ppnodes[u.id],y=d.maxX-(d.maxX-h.minX)/2,x=b.x+b.w/2,_=s.ui.__linkPpLeftRight(o,l,u,y,(d.maxX-h.minX)/o.maxSidePartnersWithChildren/4,b);return s.ui._linkRightToLeft({x,y:_.y,w:0,h:0},u,m,0,y=_.mid)},__linkPpBottomTop:function(o,l,u,d,h,m){var b=0;return 1==m.isPartner?(b=m.x-l.partnerSeparation/2+o.indexes[u.id]*o.partnerChildrenSplitSeparation-(o.rightIds.length-1)*o.partnerChildrenSplitSeparation/2,o.lastLeft&&b<o.lastLeft.x+o.lastLeft.w/2?d-=b<u.x+u.w/2?(o.indexes[u.id]+1)*h:(o.rightIds.length-o.indexes[u.id])*h:d+=b<u.x+u.w/2?(o.rightIds.length-o.indexes[u.id])*h:(o.indexes[u.id]+1)*h):2==m.isPartner&&(b=m.x+m.w+l.partnerSeparation/2+o.indexes[u.id]*o.partnerChildrenSplitSeparation-(o.leftIds.length-1)*o.partnerChildrenSplitSeparation/2,o.firstRight&&b>o.firstRight.x+o.firstRight.w/2?d-=b<u.x+u.w/2?(o.indexes[u.id]+1)*h:(o.leftIds.length-o.indexes[u.id])*h:d+=b<u.x+u.w/2?(o.leftIds.length-o.indexes[u.id])*h:(o.indexes[u.id]+1)*h),{x:b,mid:d}},__linkPpLeftRight:function(o,l,u,d,h,m){var b=0;return 1==m.isPartner?(b=m.y-l.partnerSeparation/2+o.indexes[u.id]*o.partnerChildrenSplitSeparation-(o.rightIds.length-1)*o.partnerChildrenSplitSeparation/2,o.lastLeft&&b<o.lastLeft.y+o.lastLeft.h/2?d-=b<u.y+u.h/2?(o.indexes[u.id]+1)*h:(o.rightIds.length-o.indexes[u.id])*h:d+=b<u.y+u.h/2?(o.rightIds.length-o.indexes[u.id])*h:(o.indexes[u.id]+1)*h):2==m.isPartner&&(b=m.y+m.h+l.partnerSeparation/2+o.indexes[u.id]*o.partnerChildrenSplitSeparation-(o.leftIds.length-1)*o.partnerChildrenSplitSeparation/2,o.firstRight&&b>o.firstRight.y+o.firstRight.h/2?d-=b<u.y+u.h/2?(o.indexes[u.id]+1)*h:(o.leftIds.length-o.indexes[u.id])*h:d+=b<u.y+u.h/2?(o.leftIds.length-o.indexes[u.id])*h:(o.indexes[u.id]+1)*h),{y:b,mid:d}}},void 0===s&&(s={}),s._validateConfig=function(o){return!!o||(console.error("config is not defined"),!1)},s._arrayContains=function(o,l){if(o&&Array.isArray(o))for(var u=o.length;u--;)if(o[u]===l)return!0;return!1},s._interceptions=function(o,l){if(!o)return[];if(!l)return[];var u=[];if(Array.isArray(o)&&Array.isArray(l))for(var d in o)for(var h in l)o[d]==l[h]&&u.push(o[d]);else if(Array.isArray(o)&&!Array.isArray(l))for(var d in o)for(var h in l)o[d]==h&&u.push(o[d]);else if(!Array.isArray(o)&&Array.isArray(l))for(var d in o)for(var h in l)d==l[h]&&u.push(l[h]);return u},s._getTags=function(o){return o.tags&&!Array.isArray(o.tags)?o.tags.split(","):o.tags&&Array.isArray(o.tags)?o.tags:[]},s._centerPointInPercent=function(o,l,u){var d=o.getBoundingClientRect();return[(l-d.left)/(d.width/100),(u-d.top)/(d.height/100)]},s._trim=function(o){return o.replace(/^\s+|\s+$/g,"")},s._getTransform=function(o){var l=o.getAttribute("transform");return l=l.replace("matrix","").replace("(","").replace(")",""),s._browser().msie&&(l=l.replace(/ /g,",")),l="["+(l=s._trim(l))+"]",JSON.parse(l)},s.getScale=function(o,l,u,d,h,m,b,y){var v=1;if(o||d!==s.match.boundary)if(o||d!==s.match.width)if(o||d!==s.match.height)if(o){var x,_;v=(x=l/o[2])>(_=u/o[3])?_:x}else v=d;else v=u/y;else v=l/b;else v=(x=l/b)>(_=u/y)?_:x;return v&&v>h&&(v=h),v&&v<m&&(v=m),v},s.isObject=function(o){return o&&"object"==typeof o&&!Array.isArray(o)&&null!==o},s.fileUploadDialog=function(o){var l=document.createElement("INPUT");l.setAttribute("type","file"),l.style.display="none",l.onchange=function(){o(this.files[0])},document.body.appendChild(l),l.click()},s.mergeDeep=function(o,l){if(s.isObject(o)&&s.isObject(l))for(var u in l)s.isObject(l[u])?(o[u]||Object.assign(o,{[u]:{}}),s.mergeDeep(o[u],l[u])):Object.assign(o,{[u]:l[u]});return o},s._lblIsImg=function(o,l){return!(!o.nodeBinding||"string"!=typeof l||-1==l.indexOf("img")||!o.nodeBinding[l])},s._getFistImgField=function(o){if(o.nodeBinding)for(var l in o.nodeBinding)if(-1!=l.indexOf("img"))return o.nodeBinding[l];return!1},s._fieldIsImg=function(o,l){if(o.nodeBinding)for(var u in o.nodeBinding)if(o.nodeBinding[u]==l)return s._lblIsImg(o,u);return!1},s._guid=function(){function o(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return o()+o()+"-"+o()+"-"+o()+"-"+o()+"-"+o()+o()+o()},s.htmlRipple=function(o){var l=document.createElement("style");l.type="text/css",l.innerHTML=" .boc-ripple-container {position: absolute; top: 0; right: 0; bottom: 0; left: 0; } .boc-ripple-container span {transform: scale(0);border-radius:100%;position:absolute;opacity:0.75;background-color:#fff;animation: boc-ripple 1000ms; }@-moz-keyframes boc-ripple {to {opacity: 0;transform: scale(2);}}@-webkit-keyframes boc-ripple {to {opacity: 0;transform: scale(2);}}@-o-keyframes boc-ripple {to {opacity: 0;transform: scale(2);}}@keyframes boc-ripple {to {opacity: 0;transform: scale(2);}}",document.head.appendChild(l);var u,d,h,m=document.createElement("div");m.className="boc-ripple-container",o.addEventListener("mousedown",function(b){var y,v,x,_;return v=document.createElement("span"),x=this.offsetWidth,y=this.getBoundingClientRect(),_="top:"+(b.pageY-y.top-x/2)+"px; left: "+(b.pageX-y.left-x/2)+"px; height: "+x+"px; width: "+x+"px;",o.rippleContainer.appendChild(v),v.setAttribute("style",_)}),o.addEventListener("mouseup",(u=function(){for(;this.rippleContainer.firstChild;)this.rippleContainer.removeChild(this.rippleContainer.firstChild)},d=2e3,h=void 0,function(){var b,y;return y=this,b=arguments,clearTimeout(h),h=setTimeout(function(){return u.apply(y,b)},d)})),o.rippleContainer=m,o.appendChild(m)},s._moveToBoundaryArea=function(o,l,u,d){var h=l.slice(0);l[0]<u.left&&l[0]<u.right&&(h[0]=u.left>u.right?u.right:u.left),l[0]>u.right&&l[0]>u.left&&(h[0]=u.left>u.right?u.left:u.right),l[1]<u.top&&l[1]<u.bottom&&(h[1]=u.top>u.bottom?u.bottom:u.top),l[1]>u.bottom&&l[1]>u.top&&(h[1]=u.top>u.bottom?u.top:u.bottom),l[0]!==h[0]||l[1]!==h[1]?s.animate(o,{viewBox:l},{viewBox:h},300,s.anim.outPow,function(){d&&d()}):d&&d()},s.randomId=function(){return"_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)},s._getClientXY=function(o){return-1==o.type.indexOf("touch")?{x:o.clientX,y:o.clientY}:o.changedTouches.length?{x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY}:void 0},s._getClientTouchesXY=function(o,l){return-1!=o.type.indexOf("touch")?o.touches.length<l+1?{x:null,y:null}:{x:o.touches[l].clientX,y:o.touches[l].clientY}:{x:o.clientX,y:o.clientY}},s._getOffset=function(o,l){o&&(l.x+=o.offsetLeft,l.y+=o.offsetTop,s._getOffset(o.offsetParent,l))},s._getTopLeft=function(o){var l={x:0,y:0};return s._getOffset(o,l),l},s._getOffsetXY=function(o,l){if(-1==l.type.indexOf("touch"))return{x:l.offsetX,y:l.offsetY};if(l.touches.length){var u=s._getTopLeft(o);return{x:l.touches[0].pageX-u.x,y:l.touches[0].pageY-u.y}}return l.changedTouches.length?(u=s._getTopLeft(o),{x:l.changedTouches[0].pageX-u.x,y:l.changedTouches[0].pageY-u.y}):void 0},s._pinchMiddlePointInPercent=function(o,l,u,d){var h=s._getTopLeft(o),y=d.touches[1].pageX-h.x,v=d.touches[1].pageY-h.y;return[((d.touches[0].pageX-h.x-y)/2+y)/(l/100),((d.touches[0].pageY-h.y-v)/2+v)/(u/100)]},s._browser=function(){var o=!!window.opr&&!!window.opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,l=typeof InstallTrigger<"u",u=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||void 0!==window.safari&&safari.pushNotification).toString(),d=!!document.documentMode,h=!d&&!!window.StyleMedia,m=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime);return{opera:o,firefox:l,safari:u,msie:d,edge:h,chrome:m,blink:(m||o)&&!!window.CSS}},s._menuPosition=function(o,l,u){var d=o.getBoundingClientRect(),h=u.getBoundingClientRect(),m=l.getBoundingClientRect(),b=d.left-h.left,y=d.top-h.top;return d.top+m.height>h.top+h.height&&(y-=m.height),d.left-m.width<h.left&&(b+=m.width),{x:b,y}},s._getTemplate=function(o,l,u){if(Array.isArray(o))for(var d=0;d<o.length;d++){var h=l[o[d]];if(h&&h.template)return h.template}return u},s._getMin=function(o,l){if(o.tags&&o.tags.length&&l.tags)for(var u=0;u<o.tags.length;u++){var d=l.tags[o.tags[u]];if(d&&!0===d.min)return!0}return l.min},s._getSubLevels=function(o,l){if(o&&o.length)for(var u=0;u<o.length;u++){var d=l[o[u]];if(d&&d.subLevels)return d.subLevels}return 0},s._isHTML=function(o){var l=(new DOMParser).parseFromString(o,"text/html");return Array.from(l.body.childNodes).some(u=>1===u.nodeType)},s._getTestDiv=function(){var o=document.getElementById("orgchart_js_test_div");return o||((o=document.createElement("div")).id="orgchart_js_test_div",o.style.position="fixed",o.style.top="-10000px",o.style.left="-10000px",document.body.appendChild(o)),o},s._getLabelSize=function(o){var l=s._getTestDiv();return l.innerHTML="<svg>"+o+"</svg>",l.querySelector("text").getBoundingClientRect()},s.wrapText=function(o,l){var u=l.toLowerCase();if(-1==u.indexOf("<text")||-1==u.indexOf(s.attr.width)||-1!=u.indexOf("foreignobject")||-1==l.indexOf(s.attr.width)||s.ESCAPE_HTML&&"string"==typeof str&&s._isHTML(o))return s._escapeHtml(o);if(!s.ESCAPE_HTML&&s._isHTML(o))return o;var d=s._getTestDiv();l=l.replaceAll("{cw}",0),d.innerHTML="<svg>"+l+"</svg>";var h,m,b=(new DOMParser).parseFromString(l,"text/xml").getElementsByTagName("text")[0],y=parseFloat(b.getAttribute("x")),v=parseFloat(b.getAttribute("y")),x=b.getAttribute("text-anchor"),_=b.getAttribute(s.attr.width),D=b.getAttribute(s.attr.text_overflow),E="http://www.w3.org/2000/svg",S=d.getElementsByTagName("svg")[0].getElementsByTagName("text")[0];D||(D="ellipsis");var M=D.split("-");if(M.length>1&&(h=parseInt(D.split("-")[1]),M.length>2&&"ellipsis"==M[2]&&(m=!0)),!_)return s._escapeHtml(o);if(_=parseFloat(_),y||(y=0),v||(v=0),y||(x="start"),"ellipsis"==D){S.removeChild(S.firstChild),S.textContent=o;for(var L=S.getComputedTextLength(),T=2;L>_;)S.textContent=o.substring(0,o.length-T),S.textContent+="...",L=S.getComputedTextLength(),T++;return T>2?`<title>${s._escapeHtml(o)}</title>${S.textContent}`:s._escapeHtml(o)}if(-1!=D.indexOf("multiline")){var I=o.split(" "),k=S.getBBox().height;S.textContent="";var R=document.createElementNS(E,"tspan"),P=document.createTextNode(I[0]);R.setAttributeNS(null,"x",y),R.setAttributeNS(null,"y",v),R.setAttributeNS(null,"text-anchor",x),R.appendChild(P),S.appendChild(R),T=1;for(var O=1,U=1;U<I.length;U++){var $=R.firstChild.data.length;if(R.firstChild.data+=" "+I[U],R.getComputedTextLength()>_){if(R.firstChild.data=R.firstChild.data.slice(0,$),O++,h&&O>h){if(m&&S.children.length==h){var z=S.children[h-1].textContent;S.children[h-1].textContent=z.substring(0,z.length-3)+"..."}break}(R=document.createElementNS(E,"tspan")).setAttributeNS(null,"x",y),R.setAttributeNS(null,"y",v+k*T),R.setAttributeNS(null,"text-anchor",x),P=document.createTextNode(I[U]),R.appendChild(P),S.appendChild(R),T++}}var G="";if(null!=S.innerHTML)G=S.innerHTML,S.innerHTML="";else{var te="";for(U=S.childNodes.length-1;U>=0;U--)te=XMLSerializer().serializeToString(S.childNodes[U])+te,S.removeChild(S.childNodes[U]);G=te}return G}},s._downloadFile=function(o,l,u,d,h){var m=new Blob([l],{type:o});if(1==d){var b=URL.createObjectURL(m);window.open(b,"_blank").focus()}else if(navigator.msSaveBlob)navigator.msSaveBlob(m,u);else{var y=document.createElement("a");if(void 0!==y.download){b=URL.createObjectURL(m),y.setAttribute("href",b);var v=u;v.toLowerCase().endsWith(h.toLowerCase())||(v=v+"."+h),y.setAttribute("download",v),y.style.visibility="hidden",document.body.appendChild(y),y.click(),document.body.removeChild(y)}}},s._getPosition=function(o,l,u,d){var h={x:l.x,y:l.y};if(null!=u&&(h.x=u),null!=d&&(h.y=u),o&&3==o.length){var m=o[0].indexOf(l.id);-1!=m&&null!=o[1][m].transform&&(null==u&&(h.x=o[1][m].transform[4]),null==d&&(h.y=o[1][m].transform[5]))}return h},s._getOpacity=function(o,l){var u=1;if(o&&3==o.length){var d=o[0].indexOf(l.id);-1!=d&&null!=o[1][d].opacity&&(u=o[1][d].opacity)}return u},s.t=function(o,l,u){var d=s.templates[o];null==d&&console.error(`Template "${o}" does not exist!`);var h=null;if(null!=u&&d.scaleLessThen){var m=[];for(var b in d.scaleLessThen){var y=parseFloat(b);u<y&&m.push(y)}if(m.length>0){m.sort(function(_,D){return _-D});var v=d.scaleLessThen[m[0]];for(var x in v)null==h&&(h=Object.assign({},d)),h[x]=v[x]}}return l?null==h?d.min?d.min:d:h.min?h.min:h:h??d},s.setNodeSize=function(o){var l=s.t(o.templateName,o.min);o.w=l&&l.size?l.size[0]:0,o.h=l&&l.size?l.size[1]:0},s._imgs2base64=function(o,l,u,d){var h=o.getElementsByTagName(l),m=h.length;0==m&&d();for(var b=0;b<m;b++)!function(){var y=b,v=h[y];s._getDataUri(v.getAttribute(u),function(x){x.success&&v.setAttribute(u,x.result),y==m-1&&d()})}()},s._getDataUri=function(o,l){if(-1!=o.indexOf("base64"))l({success:!1});else{var u=new XMLHttpRequest;u.open("GET",o),u.responseType="blob",u.onload=function(){200===u.status?d.readAsDataURL(u.response):404===u.status&&l({success:!1,result:u.status})};var d=new FileReader;d.onloadend=function(){l({success:!0,result:d.result})},u.send()}},s._convertStringToArray=function(o,l){return-1!=s.ARRAY_FIELDS.indexOf(o)?s.isNEU(l)?[]:l.split(","):l},s._convertArrayToString=function(o){return!s.isNEU(o)&&Array.isArray(o)?o.join():o},s._csvToArray=function(o,l){l=l||s.CSV_DELIMITER;for(var u=new RegExp("(\\"+l+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+l+"\\r\\n]*))","gi"),d=[[]],h=null;h=u.exec(o);){var m,b=h[1];b.length&&b!==l&&d.push([]),m=h[2]?h[2].replace(new RegExp('""',"g"),'"'):h[3],d[d.length-1].push(m)}return d},s._json2xml=function(o){for(var l=document.implementation.createDocument("","",null),u=l.createElement("nodes"),d=0;d<o.length;d++){var h=l.createElement("node"),m=o[d];for(var b in m)h.setAttribute(b,s._convertArrayToString(m[b]));u.appendChild(h)}return l.appendChild(u),'<?xml version="1.0" encoding="utf-8" ?>'+(new XMLSerializer).serializeToString(l.documentElement)},s._xml2json=function(o){for(var l=(new DOMParser).parseFromString(o,"text/xml").getElementsByTagName("node"),u=[],d=0;d<l.length;d++){for(var h=l[d],m={},b=0;b<h.attributes.length;b++){var y=h.attributes[b];m[y.name]=s._convertStringToArray(y.name,y.value)}u.push(m)}return u},s.convertNodesToCsv=function(o){return s._json2csv(o)},s._json2csv=function(o){for(var l=[],u=function(b){for(var y="",v=0;v<l.length;v++){var x;(x="reportsTo"==l[v]?null:null==b[l[v]]?"":b[l[v]])instanceof Date&&(x=x.toLocaleString());var _=(x=null===x?"":x.toString()).replace(/"/g,'""'),D=new RegExp('("|;|\n)',"g");_.search(D)>=0&&(_='"'+_+'"'),v>0&&(y+=s.CSV_DELIMITER),y+=_}return y+"\n"},d="",h=0;h<o.length;h++)for(var m in o[h])s._arrayContains(l,m)||(l.push(m),d+=m+s.CSV_DELIMITER);for(d=d.substring(0,d.length-1),d+="\n",h=0;h<o.length;h++)d+=u(o[h]);return d.substring(0,d.length-1)},s.accentFold=function(o){return(o=o.toString().toLowerCase()).replace(/([\xe0\xe1\xe2\xe3\xe4\xe5])|([\xe7])|([\xe8\xe9\xea\xeb])|([\xec\xed\xee\xef])|([\xf1])|([\xf2\xf3\xf4\xf5\xf6\xf8])|([\xdf])|([\xf9\xfa\xfb\xfc])|([\xff])|([\xe6])/g,function(l,u,d,h,m,b,y,v,x,_,D){return u?"a":d?"c":h?"e":m?"i":b?"n":y?"o":v?"s":x?"u":_?"y":D?"ae":void 0})},s.copy=function(o){if(null===o||"object"!=typeof o||"isActiveClone"in o)return o;if(o instanceof Date)var l=new o.constructor;else l=o.constructor();for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(o.isActiveClone=null,l[u]=s.copy(o[u]),delete o.isActiveClone);return l},s._getScrollSensitivity=function(){var o=s._browser();return o.msie&&s.scroll.ie?s.scroll.ie:o.edge&&s.scroll.edge?s.scroll.edge:o.safari&&s.scroll.safari?s.scroll.safari:o.chrome&&s.scroll.chrome?s.scroll.chrome:o.firefox&&s.scroll.firefox?s.scroll.firefox:o.opera&&s.scroll.opera?s.scroll.opera:{smooth:s.scroll.smooth,speed:s.scroll.speed}},s.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},s.isTrial=function(){return void 0!==s.remote},s.childrenCount=function(o,l){for(var u=0,d=0;d<l.childrenIds.length;d++)o.nodes[l.childrenIds[d]]&&u++;return u},s.childrenTotalCount=function(o,l){for(var u=0,d=0;d<l.childrenIds.length;d++){var h=o.nodes[l.childrenIds[d]];h&&(u++,u+=s.childrenTotalCount(o,h))}return u},s.collapsedChildrenCount=function(o,l){for(var u=0,d=0;d<l.childrenIds.length;d++){var h=o.nodes[l.childrenIds[d]];h&&!0===h.collapsed&&u++}return u},s.collapsedChildrenTotalCount=function(o,l,u){for(var d=0,h=0;h<l.childrenIds.length;h++){var m=o.nodes[l.childrenIds[h]];m&&((u||!0===m.collapsed)&&d++,d+=s.collapsedChildrenTotalCount(o,m,!0))}return d},s._setMinMaxXY=function(o,l){(null==l.minX||null!=o.x&&o.x<l.minX)&&(l.minX=o.x),(null==l.minY||null!=o.y&&o.y<l.minY)&&(l.minY=o.y),(null==l.maxX||null!=o.x&&o.x+o.w>l.maxX)&&(l.maxX=o.x+o.w),(null==l.maxY||null!=o.y&&o.y+o.h>l.maxY)&&(l.maxY=o.y+o.h)},s.getStParentNodes=function(o,l){for(l||(l=[]);o.parent;)o=o.parent;return o.stParent&&(l.push(o.stParent),s.getStParentNodes(o.stParent,l)),l},s.getRootOf=function(o){for(;o&&o.parent;)o=o.parent;return o},s._getViewBox=function(o){var l=null;return o?(l=(l="["+(l=o.getAttribute("viewBox"))+"]").replace(/\ /g,","),l=JSON.parse(l)):null},s.isNEU=function(o){return null==o||""===o},s.gradientCircleForDefs=function(o,l,u,d){function h(b,y,v,x){var _=(x-90)*Math.PI/180;return{x:b+v*Math.cos(_),y:y+v*Math.sin(_)}}function m(b,y,v,x,_){var D=h(b,y,v,_),E=h(b,y,v,x);return["M",D.x,D.y,"A",v,v,0,_-x<=180?"0":"1",0,E.x,E.y].join(" ")}return Array.isArray(l)||(l=[l,l,l,l,l,l]),`<linearGradient id="${o}_linearColors1" x1="0" y1="0" x2="1" y2="1">\n            <stop offset="0%" stop-color="${l[0]}"></stop>\n            <stop offset="100%" stop-color="${l[1]}"></stop>\n        </linearGradient>\n        <linearGradient id="${o}_linearColors2" x1="0.5" y1="0" x2="0.5" y2="1">\n            <stop offset="0%" stop-color="${l[1]}"></stop>\n            <stop offset="100%" stop-color="${l[2]}"></stop>\n        </linearGradient>\n        <linearGradient id="${o}_linearColors3" x1="1" y1="0" x2="0" y2="1">\n            <stop offset="0%" stop-color="${l[2]}"></stop>\n            <stop offset="100%" stop-color="${l[3]}"></stop>\n        </linearGradient>\n        <linearGradient id="${o}_linearColors4" x1="1" y1="1" x2="0" y2="0">\n            <stop offset="0%" stop-color="${l[3]}"></stop>\n            <stop offset="100%" stop-color="${l[4]}"></stop>\n        </linearGradient>\n        <linearGradient id="${o}_linearColors5" x1="0.5" y1="1" x2="0.5" y2="0">\n            <stop offset="0%" stop-color="${l[4]}"></stop>\n            <stop offset="100%" stop-color="${l[5]}"></stop>\n        </linearGradient>\n        <linearGradient id="${o}_linearColors6" x1="0" y1="1" x2="1" y2="0">\n            <stop offset="0%" stop-color="${l[5]}"></stop>\n            <stop offset="100%" stop-color="${l[0]}"></stop>\n        </linearGradient>        \n        <g id="${o}">\n            <path stroke-width="${d}" fill="none" stroke="url(#${o}_linearColors1)" d="${m(u,u,u,1,60)}"  />\n            <path stroke-width="${d}" fill="none" stroke="url(#${o}_linearColors2)" d="${m(u,u,u,60,120)}"/>\n            <path stroke-width="${d}" fill="none" stroke="url(#${o}_linearColors3)" d="${m(u,u,u,120,180)}" />\n            <path stroke-width="${d}" fill="none" stroke="url(#${o}_linearColors4)" d="${m(u,u,u,180,240)}" />\n            <path stroke-width="${d}" fill="none" stroke="url(#${o}_linearColors5)" d="${m(u,u,u,240,300)}" />\n            <path stroke-width="${d}" fill="none" stroke="url(#${o}_linearColors6)" d="${m(u,u,u,300,1)}"/>\n        </g>`},s._intersectionObserver=function(o,l){"function"==typeof IntersectionObserver?new IntersectionObserver(function(u,d){u.forEach(function(h){var m=h.intersectionRatio>0;0==h.intersectionRatio&&(m=h.isIntersecting),l(m)})}).observe(o):l(!0)},s.convertCsvToNodes=function(o){for(var l=s._csvToArray(o),u=l[0],d=[],h=1;h<l.length;h++){for(var m={},b=0;b<l[h].length;b++)m[u[b]]=s._convertStringToArray(u[b],l[h][b]);""!=m.id.trim()&&d.push(m)}return d},s._escapeHtml=function(o){return s.ESCAPE_HTML&&"string"==typeof o?o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):o},s._escapeDoubleQuotes=function(o){return"string"==typeof o?o.replace(/"/g,"&quot;"):o},s._escapeGreaterLessSign=function(o){return"string"==typeof o?o.replace(/</g,"&lt;").replace(/>/g,"&gt;"):o},s.xScrollUI=function(o,l,u,d,h){this.element=o,this.requestParams=u,this.config=l,this.onSetViewBoxCallback=d,this.onDrawCallback=h,this.pos=0},s.xScrollUI.prototype.addListener=function(o){var l=this;if((this.config.mouseScrool==s.action.xScroll||this.config.mouseScrool==s.action.scroll)&&this.bar){var u=s._getScrollSensitivity();!function(d,h,m){var b=!1;function y(){b=!0;var x=(l.pos-l.bar.scrollLeft)/m;if(x>0)x++;else{if(0==x)return void(b=!1);x--}Math.ceil(l.bar.scrollLeft)==Math.ceil(l.pos)?b=!1:(l.bar.scrollLeft+=x,v(y))}d.addEventListener("wheel",function(x){var _=0;if(l.config.mouseScrool==s.action.xScroll)(_=x.deltaX||x.wheelDeltaX)||(_=x.deltaY||x.wheelDeltaY);else if(l.config.mouseScrool==s.action.scroll&&!(_=x.shiftKey?x.deltaY||x.wheelDeltaY:x.deltaX||x.wheelDeltaX))return;_=-_,_=Math.max(-1,Math.min(1,_)),l.pos+=-_*h;var D=parseFloat(l.innerBar.clientWidth)-parseFloat(l.bar.clientWidth);l.pos<0&&(l.pos=0),l.pos>D&&(l.pos=D),b||y()},{passive:!0});var v=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(x){setTimeout(x,20)}}(o,u.speed,u.smooth)}},s.xScrollUI.prototype.create=function(o){if(this.config.showXScroll===s.scroll.visible||this.config.mouseScrool===s.action.scroll||this.config.mouseScrool===s.action.xScroll){var l=this;this.bar&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.config.showXScroll!==s.scroll.visible&&(this.bar.style.visibility="hidden"),this.innerBar=document.createElement("div"),this.requestParams(),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",left:0,bottom:0,width:o+"px","overflow-x":"scroll",height:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",function(){if(this.ignore)this.ignore=!1;else{var u=l.requestParams(),d=(parseFloat(l.innerBar.clientWidth)-parseFloat(l.bar.clientWidth))/100;u.viewBox[0]=this.scrollLeft/d*((u.boundary.right-u.boundary.left)/100)+u.boundary.left,l.onSetViewBoxCallback(u.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout(function(){l.onDrawCallback()},500)}})}},s.xScrollUI.prototype.setPosition=function(){if(this.bar){var o=this.requestParams(),l=Math.abs(o.boundary.maxX-o.boundary.minX)*o.scale;switch(this.config.orientation){case s.orientation.right:case s.orientation.right_top:l=Math.abs(o.boundary.minX*o.scale)}this.innerBar.style.width=l+"px";var d=(o.viewBox[0]-o.boundary.left)/((o.boundary.right-o.boundary.left)/100);d<0?d=0:d>100&&(d=100);var h=(parseFloat(this.innerBar.clientWidth)-parseFloat(this.bar.clientWidth))/100,m=d*h;this.bar.ignore=!0,this.bar.scrollLeft=m,this.pos=this.bar.scrollLeft,this.bar.style.visibility=h<=0?"hidden":""}},s.yScrollUI=function(o,l,u,d,h){this.element=o,this.requestParams=u,this.config=l,this.onSetViewBoxCallback=d,this.onDrawCallback=h,this.pos=0},s.yScrollUI.prototype.addListener=function(o){var l=this;if(this.config.mouseScrool==s.action.yScroll||this.config.mouseScrool==s.action.scroll){var u=s._getScrollSensitivity();!function(d,h,m){var b=!1;function y(){b=!0;var x=(l.pos-l.bar.scrollTop)/m;if(x>0)x++;else{if(0==x)return void(b=!1);x--}Math.ceil(l.bar.scrollTop)==Math.ceil(l.pos)?b=!1:(l.bar.scrollTop+=x,v(y))}d.addEventListener("wheel",function(x){var _=0;if(l.config.mouseScrool==s.action.yScroll)(_=x.deltaY||x.wheelDeltaY)||(_=x.deltaX||x.wheelDeltaX);else if(l.config.mouseScrool==s.action.scroll&&!(_=x.shiftKey?x.deltaX||x.wheelDeltaX:x.deltaY||x.wheelDeltaY))return;_=-_,_=Math.max(-1,Math.min(1,_)),l.pos+=-_*h;var D=parseFloat(l.innerBar.clientHeight)-parseFloat(l.bar.clientHeight);l.pos<0&&(l.pos=0),l.pos>D&&(l.pos=D),b||y()},{passive:!0});var v=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(x){setTimeout(x,20)}}(o,u.speed,u.smooth)}},s.yScrollUI.prototype.create=function(o){if(this.config.showYScroll===s.scroll.visible||this.config.mouseScrool===s.action.scroll||this.config.mouseScrool===s.action.yScroll){var l=this;this.bar&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.config.showYScroll!==s.scroll.visible&&(this.bar.style.visibility="hidden"),this.innerBar=document.createElement("div"),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",right:0,bottom:0,height:o+"px","overflow-y":"scroll",width:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",function(){if(this.ignore)this.ignore=!1;else{var u=l.requestParams(),d=(parseFloat(l.innerBar.clientHeight)-parseFloat(l.bar.clientHeight))/100;u.viewBox[1]=this.scrollTop/d*((u.boundary.bottom-u.boundary.top)/100)+u.boundary.top,l.onSetViewBoxCallback(u.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout(function(){l.onDrawCallback()},500)}})}},s.yScrollUI.prototype.setPosition=function(){if(this.bar){var o=this.requestParams(),l=Math.abs(o.boundary.maxY-o.boundary.minY)*o.scale;switch(this.config.orientation){case s.orientation.bottom:case s.orientation.bottom_left:l=Math.abs(o.boundary.minY*o.scale)}this.innerBar.style.height=l+"px";var d=(o.viewBox[1]-o.boundary.top)/Math.abs((o.boundary.bottom-o.boundary.top)/100);d<0?d=0:d>100&&(d=100);var h=(parseFloat(this.innerBar.clientHeight)-parseFloat(this.bar.clientHeight))/100,m=d*h;this.bar.ignore=!0,this.bar.scrollTop=m,this.pos=this.bar.scrollTop,this.bar.style.visibility=h<=0?"hidden":""}},s.prototype.zoom=function(o,l,u,d){var h=this.getViewBox().slice(0),m=h,b=h[2],y=h[3];!0===o?(h[2]=h[2]/s.SCALE_FACTOR,h[3]=h[3]/s.SCALE_FACTOR):!1===o?(h[2]=h[2]*s.SCALE_FACTOR,h[3]=h[3]*s.SCALE_FACTOR):(h[2]=h[2]/o,h[3]=h[3]/o),l||(l=[50,50]),h[0]=m[0]-(h[2]-b)/(100/l[0]),h[1]=m[1]-(h[3]-y)/(100/l[1]);var v=this.getScale(h);if(h[2]=this.width()/v,h[3]=this.height()/v,!0===o&&v<this.config.scaleMax||!1===o&&v>this.config.scaleMin||0!=o&&1!=o&&v<this.config.scaleMax&&v>this.config.scaleMin){this._hideBeforeAnimation();var x=this;u?(clearTimeout(x._timeout),s.animate(this.getSvg(),{viewbox:this.getViewBox()},{viewbox:h},this.config.anim.duration,this.config.anim.func,function(){clearTimeout(x._timeout),x._timeout=setTimeout(function(){x._draw(!0,s.action.zoom,null,d)},500)})):(this.setViewBox(h),clearTimeout(x._timeout),x._timeout=setTimeout(function(){x._draw(!0,s.action.zoom,null,d)},500))}},s.loading={},s.loading.show=function(o){var l=document.createElement("div");l.id="boc-loading",l.innerHTML='<style>@-webkit-keyframes dot-keyframes {0% { opacity: .4; -webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}@keyframes dot-keyframes {0% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}.boc-loading-dots div {margin: 10px;}      .boc-dot-1 {background-color: #039BE5;}.boc-dot-2 {background-color: #F57C00;}.boc-dot-3 {background-color: #FFCA28;}      .boc-loading-dots {text-align: center;width: 100%; position: absolute; top: 0;}.boc-loading-dots--dot {-webkit-animation: dot-keyframes 1.5s infinite ease-in-out;animation: dot-keyframes 1.5s infinite ease-in-out;        border-radius: 10px;display: inline-block;height: 10px;width: 10px;}.boc-loading-dots--dot:nth-child(2) {-webkit-animation-delay: .5s;animation-delay: .5s;}.boc-loading-dots--dot:nth-child(3) {-webkit-animation-delay: 1s;animation-delay: 1s;}</style><div class="boc-loading-dots"><div class="boc-loading-dots--dot boc-dot-1"></div><div class="boc-loading-dots--dot boc-dot-2"></div><div class="boc-loading-dots--dot boc-dot-3"></div></div>',o.element.appendChild(l)},s.loading.hide=function(o){var l=o.element.querySelector("#boc-loading");l&&l.parentNode.removeChild(l)},s.pdfPrevUI={},s.loc||(s.loc={}),s.loc.ppdfCmdTitle="PDF Preview",s.loc.ppdfSave="Save",s.loc.ppdfCancel="Cancel",s.loc.ppdfFormat="Format",s.loc.ppdfFitToDrwaing="Fit",s.loc.ppdfA4="A4",s.loc.ppdfA3="A3",s.loc.ppdfA2="A2",s.loc.ppdfA1="A1",s.loc.ppdfLetter="Letter",s.loc.ppdfLegal="Legal",s.loc.ppdfLayout="Layout",s.loc.ppdfPortrait="Portrait",s.loc.ppdfLandscape="Landscape",s.loc.ppdfFittopagewidth="Fit to page width",s.loc.ppdfMargin="Margin",s.loc.ppdfHeader="Header",s.loc.ppdfFooter="Footer",s.loc.ppdfScale="Scale",s.pdfPrevUI.show=function(o,l){s.pdfPrevUI.hide(o),l=o._defaultExportOptions(l,"pdf");var u=document.createElement("div");u.classList.add(o.config.mode),u.id="boc-ppdf-btns",Object.assign(u.style,{position:"absolute",top:0,left:0,"background-color":"#fff","z-index":5,margin:"0 0 0 -265px","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",width:"265px",height:"100%","font-family":"Roboto,Helvetica",color:"#757575","text-align":"right",padding:"10px"}),o.element.appendChild(u),u.innerHTML="<h1>"+s.loc.ppdfCmdTitle+'</h1><div><button type="button" id="boc-prev-save" style="font-size: 14px; width: 90px;">'+s.loc.ppdfSave+'</button>&nbsp;<button type="button" id="boc-prev-cancel" style="width: 90px;font-size: 14px;">'+s.loc.ppdfCancel+'</button></div><div style="margin-top:30px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:30px;"><label for="boc-size">'+s.loc.ppdfFormat+': </label><select id="boc-ppdf-size" style="color: #757575; width: 150px; font-size: 14px;" id="boc-size"><option value="fit">'+s.loc.ppdfFitToDrwaing+'</option><option value="A4">'+s.loc.ppdfA4+'</option><option value="A3">'+s.loc.ppdfA3+'</option><option value="A2">'+s.loc.ppdfA2+'</option><option value="A1">'+s.loc.ppdfA1+'</option><option value="Letter">'+s.loc.ppdfLetter+'</option><option value="Legal">'+s.loc.ppdfLegal+'</option></select></div><div style="padding-top:10px;"><label for="boc-ppdf-layout">'+s.loc.ppdfLayout+': </label><select id="boc-ppdf-layout" style="color: #757575; width: 150px;font-size: 14px;" ><option value="false">'+s.loc.ppdfPortrait+'</option><option value="true">'+s.loc.ppdfLandscape+'</option></select></div><div style="padding-top:10px;"><label for="boc-scale">'+s.loc.ppdfScale+': </label><select id="boc-ppdf-scale" style="color: #757575; width: 150px;font-size: 14px;" id="boc-scale"><option value="fit">'+s.loc.ppdfFittopagewidth+'</option><option value="10">10%</option><option value="20">20%</option><option value="30">30%</option><option value="40">40%</option><option value="50">50%</option><option value="60">60%</option><option value="70">70%</option><option value="80">80%</option><option value="90">90%</option><option value="100">100%</option><option value="110">110%</option><option value="120">120%</option><option value="130">130%</option><option value="140">140%</option><option value="150">150%</option><option value="160">160%</option><option value="170">170%</option><option value="180">180%</option><option value="190">190%</option><option value="200">200%</option></select></div><div style="margin-top:10px;margin-bottom:10px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:10px;"><label for="boc-ppdf-header">'+s.loc.ppdfHeader+': </label><input id="boc-ppdf-header" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="boc-ppdf-footer">'+s.loc.ppdfFooter+': </label><input id="boc-ppdf-footer" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="boc-ppdf-margin">'+s.loc.ppdfMargin+': </label><input id="boc-ppdf-margin" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div>';var d=document.createElement("div");d.id="boc-ppdf-wrapper",Object.assign(d.style,{"overflow-y":"scroll","z-index":11,position:"absolute",top:0,left:"285px","background-color":"#eee",width:o.width()-270+"px",height:"100%"}),o.element.appendChild(d),d.innerHTML='<div id="boc-ppdf-content" style="width: 100%;margin-top:10px;margin-bottom:10px;opacity:0;"></div>';var h,m,b,y=o.element.querySelector("#boc-ppdf-size"),v=o.element.querySelector("#boc-ppdf-layout"),x=o.element.querySelector("#boc-ppdf-scale"),_=o.element.querySelector("#boc-ppdf-margin"),D=o.element.querySelector("#boc-ppdf-header"),E=o.element.querySelector("#boc-ppdf-footer");y.value=l.format,v.value=l.landscape,x.value=l.scale,_.value=l.margin,D.value=l.header,E.value=l.footer,s.animate(o.element.querySelector("#boc-ppdf-btns"),{margin:[0,0,0,-250]},{margin:[0,0,0,0]},300,s.anim.outSin,function(){o.exportPDF(l,s.pdfPrevUI._handler)}),o.element.querySelector("#boc-prev-cancel").addEventListener("click",function(){s.pdfPrevUI.hide(o)}),o.element.querySelector("#boc-prev-save").addEventListener("click",function(){o.exportPDF(l),s.pdfPrevUI.hide(o)}),s.pdfPrevUI._showHide(y,v,x),y.addEventListener("change",function(){s.animate(o.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,s.anim.inSin,function(){o.element.querySelector("#boc-ppdf-content").innerHTML="",l.format=y.value,o.exportPDF(l,s.pdfPrevUI._handler),s.pdfPrevUI._showHide(y,v,x)})}),v.addEventListener("change",function(){s.animate(o.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,s.anim.inSin,function(){o.element.querySelector("#boc-ppdf-content").innerHTML="",l.landscape="true"==v.value,o.exportPDF(l,s.pdfPrevUI._handler),s.pdfPrevUI._showHide(y,v,x)})}),x.addEventListener("change",function(){s.animate(o.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,s.anim.inSin,function(){o.element.querySelector("#boc-ppdf-content").innerHTML="",l.scale=x.value,o.exportPDF(l,s.pdfPrevUI._handler),s.pdfPrevUI._showHide(y,v,x)})}),_.addEventListener("keyup",function(){clearTimeout(h),h=setTimeout(function(){s.animate(o.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,s.anim.inSin,function(){o.element.querySelector("#boc-ppdf-content").innerHTML="";var S=_.value.split(",");if(4==S.length){for(var M=0;M<S.length;M++)S[M]=parseInt(S[M]);l.margin=S,o.exportPDF(l,s.pdfPrevUI._handler)}})},1e3)}),D.addEventListener("keyup",function(){clearTimeout(m),m=setTimeout(function(){s.animate(o.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,s.anim.inSin,function(){o.element.querySelector("#boc-ppdf-content").innerHTML="",l.header=D.value,o.exportPDF(l,s.pdfPrevUI._handler)})},1e3)}),E.addEventListener("keyup",function(){clearTimeout(b),b=setTimeout(function(){s.animate(o.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,s.anim.inSin,function(){o.element.querySelector("#boc-ppdf-content").innerHTML="",l.footer=E.value,o.exportPDF(l,s.pdfPrevUI._handler)})},1e3)})},s.pdfPrevUI._showHide=function(o,l,u){"A4"==o.value||"A3"==o.value||"A2"==o.value||"A1"==o.value||"Letter"==o.value||"Legal"==o.value?(l.parentNode.style.display="block",u.parentNode.style.display="block"):(l.parentNode.style.display="none",u.parentNode.style.display="none")},s.pdfPrevUI._handler=function(o,l,u){var d=l.options,h=l.pages,m=d.margin[0],b=d.margin[2],y=document.createElement("div");y.classList.add(o.config.mode),y.innerHTML=u.outerHTML,s._browser().msie&&(y.innerHTML=(new XMLSerializer).serializeToString(u));for(var v=y.querySelector("svg"),x=o.element.querySelector("#boc-ppdf-content"),_=0;_<h.length;_++){var D=document.createElement("iframe");Object.assign(D.style,{display:"block",margin:"10px auto",border:"1px solid #eeeeee","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}),x.appendChild(D),D.style.backgroundColor=v&&v.style.backgroundColor?v.style.backgroundColor:"#fff";var E=D.contentWindow.document;E.open(),D.style.width=h[_].size.w+"px",D.style.height=h[_].size.h+"px",D.style.margin="10 auto",h[_].backgroundColor&&(D.style.backgroundColor=h[_].backgroundColor);var S=d.header;h[_].header&&(S=h[_].header),S&&(S=S.replace("{current-page}",_+1).replace("{total-pages}",h.length));var M=d.footer;h[_].footer&&(M=h[_].footer),M&&(M=M.replace("{current-page}",_+1).replace("{total-pages}",h.length)),h[_].html?E.write(s._exportHtml(h[_].html,l.styles,d,h[_].innerSize.w,h[_].innerSize.h,S,M,o.config.mode)):(v.setAttribute("viewBox",h[_].vb),E.write(s._exportHtml(y.innerHTML,l.styles,d,h[_].innerSize.w,h[_].innerSize.h,S,M,o.config.mode)));var L=E.getElementById("boc-header"),T=E.getElementById("boc-footer");L&&(L.style.top=m-L.offsetHeight-7+"px"),T&&(T.style.bottom=b-T.offsetHeight-7+"px"),E.close()}var R=o.element.querySelector("#boc-ppdf-content");s.animate(R,{opacity:0},{opacity:1},300,s.anim.outSin)},s.pdfPrevUI._getViewBox=function(o){var l=null;return o?(l=(l="["+(l=o.getAttribute("viewBox"))+"]").replace(/\ /g,","),l=JSON.parse(l)):null},s._exportHtml=function(o,l,u,d,h,m,b,y){for(var v="",x=0;x<u.margin.length;x++)v+=u.margin[x]+"px ";var _='<!DOCTYPE html><html style="margin:0;padding:0;"><head></head>'+l+'<body class="boc-'+y+'" style="margin:0; padding:0;"><div style="margin: '+v+";overflow:hidden;width:"+d+"px;height:"+h+'px">';return m&&(_+='<div id="boc-header" style="width:'+d+"px;color:#757575;position:absolute;left:"+u.margin[3]+'px;top:0;">'+m+"</div>"),_+=o,b&&(_+='<div id="boc-footer" style="width:'+d+"px;color:#757575;position:absolute;left:"+u.margin[3]+'px;bottom:0;">'+b+"</div>"),(_+="</div>")+"</body></html>"},s.pdfPrevUI.hide=function(o){var l=o.element.querySelector("#boc-ppdf-wrapper");if(l){l.parentNode.removeChild(l),l.style.opacity=0;var u=o.element.querySelector("#boc-ppdf-btns");u.parentNode.removeChild(u)}},void 0===s&&(s={}),s.events.on("renderdefs",function(o,l){for(var u=0;u<o.config.clinks.length;u++){var d=o.config.clinks[u].template;d||(d="orange"),l.defs+=s.clinkTemplates[d].defs}}),s.events.on("render",function(o,l){o._clink(o,l)}),s.prototype._clink=function(o,l){for(var u,d,h,y="",v=0;v<this.config.clinks.length;v++){let xe=function(be,ve,Le){null==Le&&(Le=1);var J=ve.x-be.x,Me=ve.y-be.y,Fe=Math.sqrt(Math.pow(ve.x-be.x,2)+Math.pow(ve.y-be.y,2))/3;return Fe=Fe/(Math.sqrt(J*J+Me*Me)*Le)*s.CLINK_CURVE,{x:be.x+J/2-Me*Fe,y:be.y+Me/2+J*Fe}};var x=this.config.clinks[v],_=o.getNode(x.from),D=o.getNode(x.to);if(_&&-1!=l.res.visibleNodeIds.indexOf(_.id)&&D&&-1!=l.res.visibleNodeIds.indexOf(D.id)){var E=_.x,S=_.y,M=D.x,L=D.y,T={},I={},k=E+_.w/2,R=M+D.w/2,P=S+_.h/2,O=L+D.h/2,U=1;switch(this.config.orientation){case s.orientation.top:case s.orientation.top_left:k<=R?(U=1,T.x=k+_.w/10,I.x=R-D.w/10):(U=-1,T.x=k-_.w/10,I.x=R+D.w/10),S==L?(U=1,T.y=S,I.y=L):S>L?(T.y=S,I.y=L+D.h):(T.y=S+_.h,I.y=L);break;case s.orientation.bottom:case s.orientation.bottom_left:k<=R?(U=-1,T.x=k+_.w/10,I.x=R+D.w/10):(U=1,T.x=k-_.w/10,I.x=R+D.w/10),S==L?(U=-1,T.y=S+_.h,I.y=L+D.h):S>L?(T.y=S,I.y=L+D.h):(T.y=S+_.h,I.y=L);break;case s.orientation.left:case s.orientation.left_top:P<=O?(U=-1,T.y=P+_.h/5,I.y=O+D.h/5):(U=1,T.y=P-_.h/5,I.y=O+D.h/5),E==M?(U=-1,T.x=E,I.x=M):E>M?(T.x=E,I.x=M+D.w):(T.x=E+_.w,I.x=M);break;case s.orientation.right:case s.orientation.right_top:P<=O?(U=1,T.y=P+_.h/5,I.y=O+D.h/5):(U=-1,T.y=P-_.h/5,I.y=O+D.h/5),E==M?(U=1,T.x=E+_.w,I.x=M+D.w):E>M?(T.x=E,I.x=M+D.w):(T.x=E+_.w,I.x=M)}var $=xe(T,I,U),z=x.template;z||(z="orange");var G=s.clinkTemplates[z],te={x:(((d=I).x-(u=T).x)/2+u.x-(h=$).x)/2+h.x,y:((d.y-u.y)/2+u.y-h.y)/2+h.y};x.label&&(y+=G.label.replace("{x}",te.x).replace("{y}",te.y).replace("{val}",x.label));var ee="M"+T.x+","+T.y+"C"+T.x+","+T.y+" "+$.x+","+$.y+" "+I.x+","+I.y;y+=("<g "+s.attr.c_link_from+'="{from}" '+s.attr.c_link_to+'="{to}">').replace("{from}",_.id).replace("{to}",D.id)+G.link.replaceAll("{d}",ee)+'<path stroke="transparent" stroke-width="15" fill="none" d="'+ee+'" />',y+=s.grCloseTag}}l.content+=y},s.prototype.addClink=function(o,l,u,d){return this.removeClink(o,l),this.config.clinks.push({from:o,to:l,label:u,template:d}),this},s.prototype.removeClink=function(o,l){for(var u=this.config.clinks.length-1;u>=0;u--){var d=this.config.clinks[u];d.from==o&&d.to==l&&this.config.clinks.splice(u,1)}return this},s.clinkTemplates={},s.clinkTemplates.orange={defs:'<marker id="arrowOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path marker-start="url(#dotOrange)" marker-end="url(#arrowOrange)" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#F57C00" text-anchor="middle" x="{x}" y="{y}">{val}</text>'},s.clinkTemplates.blue={defs:'<marker id="arrowBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path marker-start="url(#dotBlue)" marker-end="url(#arrowBlue)" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},s.clinkTemplates.yellow={defs:'<marker id="arrowYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path marker-start="url(#dotYellow)" marker-end="url(#arrowYellow)" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#FFCA28"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},void 0===s&&(s={}),s.events.on("renderdefs",function(o,l){for(var u=0;u<o.config.slinks.length;u++){var d=o.config.slinks[u].template;d||(d="orange"),l.defs+=s.slinkTemplates[d].defs}}),s.events.on("render",function(o,l){o._slinks(o,l)}),s.prototype._slinks=function(o,l){var u="",d=this.getScale(),h=l.res.boundary;function m(_,D,E){var S=[],M=null,L="left",I=o._layoutConfigs[_.lcn?_.lcn:"base"];switch(I.orientation){case s.orientation.top:case s.orientation.top_left:case s.orientation.bottom:case s.orientation.bottom_left:D.x>_.x&&(L="right");break;case s.orientation.left:case s.orientation.left_top:case s.orientation.right:case s.orientation.right_top:L="top",D.y>_.y&&(L="bottom")}var k=s.t(_.templateName,_.min,d),R=I.levelSeparation;(_.parent&&_.parent.layout==s.mixed||_.parent&&_.parent.layout==s.tree)&&(R=I.mixedHierarchyNodesSeparation);var P={p:_.x+_.w/2+k.expandCollapseSize,q:_.y,r:_.x+_.w/2+k.expandCollapseSize,s:h.minY+R};if(_.sl==D.sl)switch(M=D,I.orientation){case s.orientation.top:case s.orientation.top_left:S.push([P.p,P.q]),S.push([P.p,P.q-R/3]),k=s.t(M.templateName,M.min,d),S.push([M.x+M.w/2+k.expandCollapseSize,S[S.length-1][1]]),S.push([S[S.length-1][0],M.y]);break;case s.orientation.bottom:case s.orientation.bottom_left:P.q=_.y+_.h,P.s=h.maxY-R,S.push([P.p,P.q]),S.push([P.r,_.y+_.h+R/3]),k=s.t(M.templateName,M.min,d),S.push([M.x+M.w/2+k.expandCollapseSize,S[S.length-1][1]]),S.push([S[S.length-1][0],M.y+M.h]);break;case s.orientation.left:case s.orientation.left_top:P.p=_.x,P.q=_.y+_.h/2+k.expandCollapseSize,P.r=h.minX-R,P.s=_.y+_.h/2+k.expandCollapseSize,S.push([P.p,P.q]),S.push([_.x-R/3,P.q]),k=s.t(M.templateName,M.min,d),S.push([S[S.length-1][0],M.y+M.h/2+k.expandCollapseSize]),S.push([M.x,S[S.length-1][1]]);break;case s.orientation.right:case s.orientation.right_top:P.p=_.x+_.w,P.q=_.y+_.h/2+k.expandCollapseSize,P.r=h.maxX+R,P.s=_.y+_.h/2+k.expandCollapseSize,S.push([P.p,P.q]),S.push([_.x+_.w+R/3,P.q]),k=s.t(M.templateName,M.min,d),S.push([S[S.length-1][0],M.y+M.h/2+k.expandCollapseSize]),S.push([M.x+M.w,S[S.length-1][1]])}else{switch(I.orientation){case s.orientation.top:case s.orientation.top_left:S.push([P.p,P.q]),S.push([P.r,_.y-R/3]);break;case s.orientation.bottom:case s.orientation.bottom_left:P.q=_.y+_.h,P.s=h.maxY-R,S.push([P.p,P.q]),S.push([P.r,_.y+_.h+R/3]);break;case s.orientation.left:case s.orientation.left_top:P.p=_.x,P.q=_.y+_.h/2+k.expandCollapseSize,P.r=h.minX-R,P.s=_.y+_.h/2+k.expandCollapseSize,S.push([P.p,P.q]),S.push([_.x-R/3,P.q]);break;case s.orientation.right:case s.orientation.right_top:P.p=_.x+_.w,P.q=_.y+_.h/2+k.expandCollapseSize,P.r=h.maxX+R,P.s=_.y+_.h/2+k.expandCollapseSize,S.push([P.p,P.q]),S.push([_.x+_.w+R/3,P.q])}for(var O=_;null==M;){var U=!1,$=O.parent,z=$.leftNeighbor,G=$.rightNeighbor;if($.id==D.id?M=$:s._intersects($,P,o.config)&&(P=s._addPoint($,S,o.config,P,L),U=!0),$.id!=D.id){for(;z;){if(z.id==D.id){M=z;break}s._intersects(z,P,o.config)&&(P=s._addPoint(z,S,o.config,P,L),U=!0),z=z.leftNeighbor}for(;G;){if(G.id==D.id){M=G;break}s._intersects(G,P,o.config)&&(P=s._addPoint(G,S,o.config,P,L),U=!0),G=G.rightNeighbor}}if(!U){var te=S[S.length-1][0],ee=0;if($.parent)switch(R=I.levelSeparation,$.parent.layout!=s.mixed&&$.parent.layout!=s.tree||(R=I.mixedHierarchyNodesSeparation),I.orientation){case s.orientation.top:case s.orientation.top_left:ee=$.parent.y+$.parent.h+R*(2/3);break;case s.orientation.bottom:case s.orientation.bottom_left:ee=$.parent.y-R*(2/3);break;case s.orientation.left:case s.orientation.left_top:te=$.parent.x+$.parent.w+R*(2/3),ee=S[S.length-1][1];break;case s.orientation.right:case s.orientation.right_top:te=$.parent.x-R*(2/3),ee=S[S.length-1][1]}S.push([te,ee])}O=$}switch(k=s.t(M.templateName,M.min,d),S.splice(S.length-1,1),I.orientation){case s.orientation.top:case s.orientation.top_left:S.push([M.x+M.w/2+k.expandCollapseSize,S[S.length-1][1]]),S.push([S[S.length-1][0],M.y+M.h]);break;case s.orientation.bottom:case s.orientation.bottom_left:S.push([M.x+M.w/2+k.expandCollapseSize,S[S.length-1][1]]),S.push([S[S.length-1][0],M.y]);break;case s.orientation.left:case s.orientation.left_top:S.push([S[S.length-1][0],M.y+M.h/2+k.expandCollapseSize]),S.push([M.x+M.w,S[S.length-1][1]]);break;case s.orientation.right:case s.orientation.right_top:S.push([S[S.length-1][0],M.y+M.h/2+k.expandCollapseSize]),S.push([M.x,S[S.length-1][1]])}}var Q=y.template;Q||(Q="orange");var xe,be,ve=null;switch((k=s.slinkTemplates[Q]).labelPosition){case"start":ve={x:S[1][0],y:S[1][1]};break;case"middle":var Le=Math.ceil(S.length/2);ve={x:((xe=S[Le])[0]+(be=S[Le-1])[0])/2,y:(xe[1]+be[1])/2};break;case"end":ve={x:S[S.length-2][0],y:S[S.length-2][1]}}E&&(S=S.reverse()),S[0]="M"+S[0].join(",");for(var J=1;J<S.length;J++)S[J]="L"+S[J].join(",");var Me=S.join(" ");if(y.label){var Fe=k.label.replace("{x}",ve.x).replace("{y}",ve.y).replace("{val}",y.label),Ae=s._getLabelSize(Fe),Ge=-Ae.height/2;switch(I.orientation){case s.orientation.bottom:case s.orientation.bottom_left:Ge=Ae.height}u+=k.label.replace("{x}",ve.x).replace("{y}",ve.y+Ge).replace("{val}",y.label)}var Ye=_.id,Zt=D.id;E&&(Ye=D.id,Zt=_.id),u+=("<g "+s.attr.s_link_from+'="{from}" '+s.attr.s_link_to+'="{to}">').replace("{from}",Ye).replace("{to}",Zt)+k.link.replaceAll("{d}",Me)+'<path stroke="transparent" stroke-width="15" fill="none" d="'+Me+'" />',u+=s.grCloseTag}for(var b=0;b<this.config.slinks.length;b++){var y=this.config.slinks[b],v=o.getNode(y.from),x=o.getNode(y.to);v&&x&&-1!=l.res.visibleNodeIds.indexOf(x.id)&&-1!=l.res.visibleNodeIds.indexOf(v.id)&&(v.sl>=x.sl?m(v,x,!1):m(x,v,!0))}l.content+=u},s.prototype.addSlink=function(o,l,u,d){return this.removeClink(o,l),this.config.slinks.push({from:o,to:l,label:u,template:d}),this},s.prototype.removeSlink=function(o,l){for(var u=this.config.slinks.length-1;u>=0;u--){var d=this.config.slinks[u];d.from==o&&d.to==l&&this.config.slinks.splice(u,1)}return this},s.slinkTemplates={},s.slinkTemplates.orange={defs:'<marker id="arrowSlinkOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkOrange)" marker-end="url(#arrowSlinkOrange)" stroke-linejoin="round" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text dominant-baseline="middle" fill="#F57C00" alignment-baseline="middle" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},s.slinkTemplates.blue={defs:'<marker id="arrowSlinkBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkBlue)" marker-end="url(#arrowSlinkBlue)" stroke-linejoin="round" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},s.slinkTemplates.yellow={defs:'<marker id="arrowSlinkYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkYellow)" marker-end="url(#arrowSlinkYellow)" stroke-linejoin="round" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text  fill="#FFCA28" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},s.events.on("renderbuttons",function(o,l){if(l.node&&l.node.tags&&l.node.tags.has("group-dotted-lines")){var u=o.getScale(),d=s.t(l.node.templateName,l.node.min,u),h="";l.node.min?(d.nodeGroupDottedOpenButton||console.error(`[${l.node.templateName}].nodeGroupDottedOpenButton is not defined`),h+=`<g style="cursor:pointer;"  data-ctrl-n-dotted-open="${l.node.id}" transform="matrix(1,0,0,1,${l.node.x},${l.node.y})">`,h+=d.nodeGroupDottedOpenButton):(d.nodeGroupDottedCloseButton||console.error(`[${l.node.templateName}].nodeGroupDottedCloseButton is not defined`),h+=`<g style="cursor:pointer;" transform="matrix(1,0,0,1,${l.node.x},${l.node.y})" data-ctrl-n-dotted-close="${l.node.id}">`,h+=d.nodeGroupDottedCloseButton),h=(h+="</g>").replaceAll("{cw}",l.node.w/2).replaceAll("{ch}",l.node.h/2).replaceAll("{ew}",l.node.w-(l.node.padding?l.node.padding[1]:0)).replaceAll("{eh}",l.node.h-(l.node.padding?l.node.padding[2]:0));var m=o.getNode(l.node.stChildrenIds[0]);if(-1!=h.indexOf("{collapsed-children-count}")){var b=s.collapsedChildrenCount(o,m);h=h.replace("{collapsed-children-count}",b)}if(-1!=h.indexOf("{collapsed-children-total-count}")){var y=s.collapsedChildrenTotalCount(o,m);h=h.replace("{collapsed-children-total-count}",y)}if(-1!=h.indexOf("{children-count}")){var v=s.childrenCount(o,m);h=h.replace("{children-count}",v)}if(-1!=h.indexOf("{children-total-count}")){var x=s.childrenTotalCount(o,m);h=h.replace("{children-total-count}",x)}l.html+=h}}),s.events.on("redraw",function(o,l){if(o.config.groupDottedLines.length){for(var u=o.element.querySelectorAll("[data-ctrl-n-dotted-close]"),d=0;d<u.length;d++)u[d].addEventListener("click",function(){var m=this.getAttribute("data-ctrl-n-dotted-close");o.minimize(m)});var h=o.element.querySelectorAll("[data-ctrl-n-dotted-open]");for(d=0;d<h.length;d++)h[d].addEventListener("click",function(){var m=this.getAttribute("data-ctrl-n-dotted-open");o.maximize(m)})}}),s.events.on("redraw",function(o,l){if(o.config.miniMap&&o.manager.action!=s.action.move){s.miniMap._settings._scale=Math.min(s.miniMap.width/(o.response.boundary.maxX-o.response.boundary.minX),s.miniMap.height/(o.response.boundary.maxY-o.response.boundary.minY)),s.miniMap._settings._translateX=-o.response.boundary.minX*s.miniMap._settings._scale+(s.miniMap.width-(o.response.boundary.maxX-o.response.boundary.minX)*s.miniMap._settings._scale)/2,s.miniMap._settings._translateY=-o.response.boundary.minY*s.miniMap._settings._scale+(s.miniMap.height-(o.response.boundary.maxY-o.response.boundary.minY)*s.miniMap._settings._scale)/2;var u=o.getViewBox();s.miniMap._init(o),s.miniMap._drawMainCanvas(o),s.miniMap._drawRectSelectorCanvas(o,u);var d,h,m,b,y=o.element.querySelector('[data-id="mini-map-focus"]'),v=!1,x=null;y.onmousedown=function(_){var E,S,M=y.getBoundingClientRect(),T=M.top;if(d=parseInt(_.clientX-M.left),S=((h=parseInt(_.clientY-T))-s.miniMap._settings._translateY)/s.miniMap._settings._scale,(E=(d-s.miniMap._settings._translateX)/s.miniMap._settings._scale)>u[0]&&E<u[0]+u[2]&&S>u[1]&&S<u[1]+u[3])return _.preventDefault(),_.stopPropagation(),void(v=!0)},y.onmousemove=function(_){if(v){_.preventDefault(),_.stopPropagation();var D=y.getBoundingClientRect(),S=D.top;m=parseInt(_.clientX-D.left);var L=((b=parseInt(_.clientY-S))-h)/s.miniMap._settings._scale;u[0]=(m-d)/s.miniMap._settings._scale+u[0],u[1]=L+u[1],o.setViewBox(u),x&&(clearTimeout(x),x=null),x=setTimeout(function(){o._draw(!0,s.action.move)},300),s.miniMap._drawRectSelectorCanvas(o,u),d=m,h=b}},y.onmouseup=function(_){v&&(_.preventDefault(),_.stopPropagation(),v=!1)},y.onmouseout=function(_){v&&(_.preventDefault(),_.stopPropagation(),v=!1)}}}),s.miniMap={},s.miniMap._settings={_translateX:0,_translateY:0,_scale:1},s.miniMap._drawMainCanvas=function(o){var l=o.element.querySelector('[data-id="mini-map-main"]'),u=l.getContext("2d");s.miniMap._initCtx(o,l,1);var d=0,h=[];!function m(b,y){if(Array.isArray(y))for(var v=0;v<y.length;v++)m(b,y[v]);else{for(u.fillStyle=s.miniMap.colors[3],u.beginPath(),u.lineWidth="0.5",u.fillRect(y.x,y.y,y.w,y.h),u.strokeRect(y.x,y.y,y.w,y.h),v=0;v<y.stChildrenIds.length;v++)d++,h.includes(y.id)||(1==d?u.fillStyle=s.miniMap.colors[0]:2==d?u.fillStyle=s.miniMap.colors[1]:3==d&&(u.fillStyle=s.miniMap.colors[2]),u.beginPath(),u.fillRect(y.x,y.y,y.w,y.h),u.strokeRect(y.x,y.y,y.w,y.h),h.push(y.id)),m(b,b.getNode(y.stChildrenIds[v])),d--;for(v=0;v<y.childrenIds.length;v++)m(b,b.getNode(y.childrenIds[v]))}}(o,o.roots)},s.miniMap._drawRectSelectorCanvas=function(o,l){var u=o.element.querySelector('[data-id="mini-map-focus"]'),d=u.getContext("2d");s.miniMap._initCtx(o,u,s.miniMap.opacity);var h=l[0],m=l[1],b=l[2],y=l[3];d.lineWidth=.5/s.miniMap._settings._scale,d.strokeStyle=s.miniMap.focusStroke,d.globalAlpha=1,d.clearRect(h,m,b,y),d.strokeRect(h,m,b,y)},s.miniMap._initCtx=function(o,l,u){var d=l.getContext("2d");l.width=l.width,l.height=l.height,d.clearRect(0,0,s.miniMap.width,s.miniMap.height),d.globalAlpha=u,1!=u&&(d.fillStyle=s.miniMap.selectorBackgroundColor,d.fillRect(0,0,s.miniMap.width,s.miniMap.height)),d.translate(s.miniMap._settings._translateX,s.miniMap._settings._translateY),d.scale(s.miniMap._settings._scale,s.miniMap._settings._scale)},s.miniMap._init=function(o){if(!o.element.querySelector('[data-id="mini-map"]')){var l=document.createElement("canvas");l.width=s.miniMap.width,l.height=s.miniMap.height,l.setAttribute("data-id","mini-map-main"),l.style.display="inline-block",l.style.backgroundColor=s.miniMap.backgroundColor,l.style.position="absolute",l.style.top=0,l.style.left=0;var u=document.createElement("canvas");u.width=s.miniMap.width,u.height=s.miniMap.height,u.setAttribute("data-id","mini-map-focus"),u.style.display="inline-block",u.style.position="absolute",u.style.top=0,u.style.left=0;var d=document.createElement("div");d.setAttribute("data-id","mini-map"),d.style.position="absolute";for(var h=["top","right","left","bottom"],m=0;m<h.length;m++){var b=h[m];s.isNEU(s.miniMap.position[b])||(d.style[b]="padding"==s.miniMap.position[b]?o.config.padding+"px":s.miniMap.position[b]+"px")}d.style.border=s.miniMap.border,d.style.padding=s.miniMap.padding+"px",d.style.backgroundColor=s.miniMap.backgroundColor;var y=document.createElement("div");y.style.position="relative",y.style.width=s.miniMap.width+"px",y.style.height=s.miniMap.height+"px",y.appendChild(l),y.appendChild(u),d.appendChild(y),o.element.appendChild(d);var v=function(S,M){o.__mouseScrollHandler(d,M)};o._addEvent(d,"DOMMouseScroll",v),o._addEvent(d,"mousewheel",v);var x=0,_=0,D=function(S){var M=S.clientX-x,L=S.clientY-_;if(!s.isNEU(d.style.left)){var T=parseFloat(d.style.left)+M;d.style.left=`${T}px`}if(!s.isNEU(d.style.right)){var I=parseFloat(d.style.right)-M;d.style.right=`${I}px`}if(!s.isNEU(d.style.bottom)){var k=parseFloat(d.style.bottom)-L;d.style.bottom=`${k}px`}if(!s.isNEU(d.style.top)){var R=parseFloat(d.style.top)+L;d.style.top=`${R}px`}x=S.clientX,_=S.clientY},E=function(){document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",E)};s.miniMap.draggable&&d.addEventListener("mousedown",function(S){x=S.clientX,_=S.clientY,document.addEventListener("mousemove",D),document.addEventListener("mouseup",E)})}},s.miniMap.colors=["#E0E0E0","#BDBDBD","#9E9E9E","#757575"],s.miniMap.selectorBackgroundColor="white",s.miniMap.backgroundColor="white",s.miniMap.focusStroke="#f57c00",s.miniMap.opacity=.4,s.miniMap.border="1px solid #aeaeae",s.miniMap.width=250,s.miniMap.height=140,s.miniMap.padding=5,s.miniMap.position={top:void 0,left:"padding",right:void 0,bottom:"padding"},s.miniMap.draggable=!0,s._search={},s._search.search=function(o,l,u,d,h,m,b){var y=[],v=l.toLowerCase(),x=v.split(" ");if(b&&x.length>1){var _=x[0];b[_]&&(u=[b[_]],x=(v=v.replace(_,"").trim()).split(" "))}x=x.filter(function(R,P,O){return O.indexOf(R)===P});for(var D={},E=0;E<o.length;E++)for(var S=o[E],M=0;M<u.length;M++){var L=u[M];if(!s.isNEU(S[L])&&null!=(l=s._search.searchAndComputeScore(x,S[L],L,m))){var I=S.id;if(D[I]){if(D[I]&&D[I]<l.__score){D[I]=l.__score;for(var k=y.length-1;k>=0;k--)y[k].id==I&&y.splice(k,1);s._search.addNodeToResult(y,d,S,l,L,h)}}else D[I]=l.__score,s._search.addNodeToResult(y,d,S,l,L,h)}}return y.sort(function(R,P){return R.__score<P.__score?1:R.__score>P.__score?-1:0}),y},s._search.addNodeToResult=function(o,l,u,d,h,m){var b={};b.id=u.id,s.isNEU(u[m])||(b[m]=u[m]);for(var y=0;y<l.length;y++){var v=l[y];s.isNEU(u[v])||s.isNEU(b[v])&&(b[v]=u[v])}null!=d&&(s.isNEU(b.__score)&&(b.__score=d.__score),s.isNEU(b.__searchField)&&(b.__searchField=h),s.isNEU(b.__searchMarks)&&(b.__searchMarks=d.__searchMarks)),o.push(b)},s._search.searchAndComputeScore=function(o,l,u,d){if(s.isNEU(l)||s.isNEU(o)||!o.length)return null;"string"!=typeof l&&(l=l.toString());var h=l.toLowerCase(),m=s._search.searchIndexesOf(h,o);if(!m.length)return null;for(var b=h.length/100,y=0,v=0,x=y>0?100:0,_=0,D=0;D<o.length;D++)for(var E=o[D],S=0;S<m.length;S++)if(-1!=E.indexOf(m[S].searchPhrase)){_++;break}var M=100/(o.length/_);if(m.length)for(v=m[0].start,S=0;S<m.length;S++)if(y+=m[S].length,m[S].start<v&&(v=m[S].start),S>=1&&m[S-1].start>m[S].start){x=0;break}var L=0;0!=y&&(L=y/b);var T=y>0?100:0;0!=v&&(T=100-v/b);var I=0;d&&d[u]&&(I=d[u]),M&&(M=M/100*50),L>0&&(L=L/100*10),T>0&&(T=T/100*10),x>0&&(x=x/100*10),I>0&&(I=I/100*20);var k=Math.round(1e4*(M+L+T+x+I));m.sort(function(P,O){return P.start<O.start?-1:P.start>O.start?1:0});var R=l;for(S=m.length-1;S>=0;S--)R=(R=R.insert(m[S].start+m[S].length,"</mark>")).insert(m[S].start,"<mark>");return{__searchMarks:R,__score:k}},s._search.searchIndexesOf=function(o,l){var u=[];if(!s.isNEU(o))for(var d=0;d<l.length;d++){var h=l[d];if(!s.isNEU(h))for(var m=0;(m=o.indexOf(h,m))>-1;)u.push({length:h.length,start:m,searchPhrase:h}),m+=h.length}return u.sort(function(b,y){return b.length<y.length?1:b.length>y.length||b.start<y.start?-1:b.start>y.start?1:0}),u=u.filter(function(b){for(var y=!1,v=0;v<u.length;v++){var x=u[v].start,_=u[v].start+u[v].length-1,D=b.start,E=b.start+b.length-1;if(x==D&&_==E){y=!1;break}if(x>=D&&_<=E){y=!0;break}if(x<=D&&_>=E){y=!0;break}}return!y})},s.events.on("redraw",function(o,l){if(o.config.state){var u=[],d=[];(function h(m){if(Array.isArray(m))for(var b=0;b<m.length;b++)h(m[b]);else{for(("string"!=typeof m.id||"string"==typeof m.id&&-1==m.id.indexOf("split")&&-1==m.id.indexOf("mirror"))&&(u.push(m.id),1==m.min&&d.push(m.id)),b=0;b<m.stChildren.length;b++)h(m.stChildren[b]);for(b=0;b<m.children.length;b++)h(m.children[b])}})(o.roots),s.state._put(o.config.roots,o.width(),o.height(),o.response.viewBox,u,d,o.response.adjustify,o.config.state)}}),s.state={},s.state._buildStateNames=function(o){return{paramScale:o+"-scale",paramX:o+"-x",paramY:o+"-y",paramExp:o+"-exp",paramMin:o+"-min",paramRoots:o+"-roots",paramAdjustify:o+"-adjustify"}},s.state._put=function(o,l,u,d,h,m,b,y){if(y){var v=s.state._buildStateNames(y.name),x={roots:o,scale:Math.min(l/d[2],u/d[3]),x:d[0],y:d[1],exp:h,min:m,adjustify:b};if(y.writeToUrlParams){var _=new URLSearchParams(window.location.search);_.has(v.paramScale)?_.set(v.paramScale,x.scale):_.append(v.paramScale,x.scale),_.has(v.paramX)?_.set(v.paramX,x.x):_.append(v.paramX,x.x),_.has(v.paramY)?_.set(v.paramY,x.y):_.append(v.paramY,x.y),_.has(v.paramExp)?_.set(v.paramExp,x.exp.join("*")):_.append(v.paramExp,x.exp.join("*")),_.has(v.paramRoots)&&Array.isArray(x.roots)?_.set(v.paramRoots,x.roots.join("*")):Array.isArray(x.roots)&&_.append(v.paramRoots,x.roots.join("*")),_.has(v.paramMin)?_.set(v.paramMin,x.min.join("*")):_.append(v.paramMin,x.min.join("*")),_.has(v.paramAdjustify)?_.set(v.paramAdjustify,x.adjustify.x+"*"+x.adjustify.y):_.append(v.paramAdjustify,x.adjustify.x+"*"+x.adjustify.y),window.history.replaceState(null,null,"?"+_)}y.writeToIndexedDB&&(x.id=y.name,s.idb.put(x,function(D){0==D&&console.error("Cannot write row - "+y.name)})),y.writeToLocalStorage&&s.localStorage.setItem(y.name,JSON.stringify(x))}},s.state._get=function(o,l,u,d){if(o){var h=s.state._buildStateNames(o.name);if(o.readFromUrlParams){var m=new URLSearchParams(window.location.search);if(m.has(h.paramScale)&&m.has(h.paramX)&&m.has(h.paramY)&&m.has(h.paramExp)&&m.has(h.paramMin)&&m.has(h.paramAdjustify)){var b={},y=parseFloat(m.get(h.paramScale)),v=parseFloat(m.get(h.paramX)),x=parseFloat(m.get(h.paramY));(D=[])[0]=v,D[1]=x,D[2]=l/y,D[3]=u/y,b.vb=D,b.scale=y,b.x=v,b.y=x,b.roots=null,m.has(h.paramRoots)&&(b.roots=m.get(h.paramRoots).split("*")),b.exp=m.get(h.paramExp).split("*"),b.min=m.get(h.paramMin).split("*");var _=m.get(h.paramAdjustify).split("*");return b.adjustify={x:parseFloat(_[0]),y:parseFloat(_[1])},void d(b)}if(!o.readFromIndexedDB&&!o.readFromLocalStorage)return void d(null)}if(o.readFromLocalStorage){var D;if(null!=(b=s.localStorage.getItem(o.name)))return b=JSON.parse(b),(D=[])[0]=b.x,D[1]=b.y,D[2]=l/b.scale,D[3]=u/b.scale,b.vb=D,void d(b);if(!o.readFromIndexedDB)return void d(null)}o.readFromIndexedDB&&s.idb.read(o.name,function(E,S){if(0==E)console.error("Cannot read from - "+o.name),d(null);else if(null==E)d(null);else{var M=[];M[0]=S.x,M[1]=S.y,M[2]=l/S.scale,M[3]=u/S.scale,S.vb=M,d(S)}})}else d(null)},s.state.clear=function(o){if(!o)return!1;try{localStorage.removeItem(o);var l=s.state._buildStateNames(o),u=new URLSearchParams(window.location.search);u.has(l.paramScale)&&u.delete(l.paramScale),u.has(l.paramX)&&u.delete(l.paramX),u.has(l.paramY)&&u.delete(l.paramY),u.has(l.paramExp)&&u.delete(l.paramExp),u.has(l.paramRoots)&&u.delete(l.paramRoots),u.has(l.paramMin)&&u.delete(l.paramMin),u.has(l.paramAdjustify)&&u.delete(l.paramAdjustify),window.history.replaceState(null,null,"?"+u),s.idb.delete(o,function(d){0==d&&console.error("Cannot delete row - "+o)})}catch{}},s._magnify={},s.prototype.magnify=function(o,l,u,d,h){d||(d=this.config.anim);var m=this.getNode(o),b=this.getNodeElement(o);if(m||b){var y=s._magnify[o];y&&(null!=y.timer&&clearInterval(y.timer),null!=y.timerBack&&clearInterval(y.timerBack),b.setAttribute("transform","matrix("+y.transformStart.toString()+")"),s._magnify[o]=null),u&&(b=b.cloneNode(!0),this.getSvg().appendChild(b));var v=s._getTransform(b),x=JSON.parse(JSON.stringify(v));x[0]=l,x[3]=l;var D=m.h+m.h*(l-1);x[4]+=(m.w-(m.w+m.w*(l-1)))/2,x[5]+=(m.h-D)/2;var E=s.animate(b,{transform:v},{transform:x},d.duration,d.func);s._magnify[o]={timer:E,transformStart:v,nodeElement:b,front:u},h&&h(b)}},s.prototype.magnifyBack=function(o,l,u){l||(l=this.config.anim);var d=s._magnify[o];if(d){null!=d.timer&&clearInterval(d.timer),null!=d.timerBack&&clearInterval(d.timerBack);var h=s._getTransform(d.nodeElement);d.timerBack=s.animate(d.nodeElement,{transform:h},{transform:d.transformStart},l.duration,l.func,function(m){var b=m[0].getAttribute(s.attr.node_id);s._magnify[b]&&s._magnify[b].front&&(m[0].parentNode.removeChild(m[0]),s._magnify[b]=null),u&&u(m[0])})}},void 0===s&&(s={}),s.events.on("init",function(o,l){if(o.config.keyNavigation&&(o._addEvent(window,"keydown",o._windowKeyDownHandler),s.isNEU(o._keyNavigationActiveNodeId)&&o.roots&&o.roots.length)){var u=o.roots[0].id;s.isNEU(o.config.keyNavigation.focusId)||(u=o.config.keyNavigation.focusId),o._keyNavigationActiveNodeId=u,o.center(o._keyNavigationActiveNodeId)}}),s.prototype._windowKeyDownHandler=function(o,l){for(var u=l.target,d=null;u&&u!=this.element;){if(u.hasAttribute&&u.hasAttribute(s.attr.node_id)){d=u.getAttribute(s.attr.node_id);break}u=u.parentNode}if(u){var h=d?this.getNode(d):null,m={node:h,data:d?this.get(d):null,event:l};if(!1!==s.events.publish("key-down",[this,m])&&h)if("KeyF"==l.code)this.searchUI.find("");else if("ArrowRight"==l.code||h.isAssistant&&"ArrowDown"==l.code||h.isPartner&&"ArrowDown"==l.code){if(v=this.getNode(h.pid)){var b=v.childrenIds.indexOf(h.id);if(++b<v.childrenIds.length){var y=v.childrenIds[b];this._keyNavigationActiveNodeId=y,this.center(y)}}}else if("ArrowLeft"==l.code)(v=this.getNode(h.pid))&&(b=v.childrenIds.indexOf(h.id),--b>=0&&(this._keyNavigationActiveNodeId=y=v.childrenIds[b],this.center(y)));else if("ArrowUp"==l.code){var v;(v=this.getNode(h.pid))&&(y=v.id,(h.isAssistant||v.hasAssistants||h.isPartner||v.hasPartners)&&(b=v.childrenIds.indexOf(h.id),--b>=0&&(y=v.childrenIds[b])),this._keyNavigationActiveNodeId=y,this.center(y))}else if("ArrowDown"==l.code)h.childrenIds.length&&(this._keyNavigationActiveNodeId=h.childrenIds[0],this.center(h.childrenIds[0]));else if("Space"==l.code){var x=u.getAttribute(s.attr.node_id);return void this.toggleExpandCollapse(x,l)}}},s.events.on("redraw",function(o,l){o.config.keyNavigation&&s._keyNavigation(o)}),s.events.on("click",function(o,l){o.config&&o.config.keyNavigation&&(o._keyNavigationActiveNodeId=l.node.id,o.center(l.node.id))}),s._keyNavigation=function(o){var l=o.element.querySelector(":focus");if(l&&l.parentElement&&l.parentElement.hasAttribute(s.attr.node_id)){var u=l.parentElement;(h=(d=l).querySelector("title"))&&h.parentNode.removeChild(h),d.removeAttribute("tabindex")}if(!s.isNEU(o._keyNavigationActiveNodeId)&&(u=o.getNodeElement(o._keyNavigationActiveNodeId))&&u.children.length){var d;(d=u.children[0]).setAttribute("tabindex",2);var h,m={text:"",id:o._keyNavigationActiveNodeId};s.events.publish("screen-reader-text",[o,m]),!s.isNEU(m.text)&&((h=document.createElementNS("http://www.w3.org/2000/svg","title")).innerHTML=m.text,d.appendChild(h)),s.SEARCH_CLOSE_RESULT_ON_ESCAPE_OR_CLICKOUTSIDE&&o.searchUI.hide(),d.focus()}},s.elements={},s.elements.textbox=function(o,l,u,d){var h=s.elements._vidrf(o,l,d);if(h.doNotRender)return{html:""};var m="";return l.btn&&(m=`<a href="#" data-input-btn="" class="boc-link boc-link-boc-button">${l.btn}</a>`),{html:`<div class="boc-form-field" style="min-width: ${u};">\n                    <div class="boc-input" data-boc-input="" ${h.disabledAttribute} ${h.vlidators}>\n                        <label for="${h.id}">${s._escapeGreaterLessSign(h.label)}</label>\n                        <input ${h.readOnlyAttribute} data-binding="${s._escapeDoubleQuotes(h.binding)}" maxlength="256" id="${h.id}" name="${h.id}" type="text" value="${s._escapeDoubleQuotes(h.value)}" autocomplete="off">\n                        ${m}\n                    </div>\n                </div>`,id:h.id,value:h.value}},s.elements.checkbox=function(o,l,u,d){var h=s.elements._vidrf(o,l,d);if(h.doNotRender)return{html:""};var m=h.value?"checked":"";return{html:`<div class="boc-form-field"  style="min-width: ${u};" >\n                        <label class="boc-checkbox" data-boc-input="" ${h.disabledAttribute}>\n                            <input ${m} ${d?'onclick="return false;"':""} data-binding="${s._escapeDoubleQuotes(h.binding)}" type="checkbox"><span class="boc-checkbox-checkmark" type="checkbox"></span>${s._escapeGreaterLessSign(h.label)}\n                        </label>\n                    </div>`,id:h.id,value:m}},s.elements.select=function(o,l,u,d){if(d)return s.elements.textbox(o,l,u,d);var h=s.elements._vidrf(o,l,d);return h.doNotRender?{html:""}:{html:`<div class="boc-form-field" style="min-width: ${u};">\n                    <div class="boc-input" data-boc-input="" ${h.disabledAttribute} ${h.vlidators}>\n                        <label for="${h.id}">${s._escapeGreaterLessSign(h.label)}</label>\n                        <select data-binding="${s._escapeDoubleQuotes(h.binding)}" ${h.readOnlyAttribute} id="${h.id}" name="${h.id}">\n                            ${function(){for(var m="",b=0;b<h.options.length;b++){var y=h.options[b];m+=`<option ${y.value==h.value?"selected":""} value="${s._escapeDoubleQuotes(y.value)}">${s._escapeGreaterLessSign(y.text)}</option>`}return m}()}                           \n                        </select>\n                    </div>\n                </div>`,id:h.id,value:h.value}},s.elements.date=function(o,l,u,d){var h=s.elements._vidrf(o,l,d);return h.doNotRender?{html:""}:{html:`<div class="boc-form-field" style="min-width: ${u};">\n                    <div class="boc-input" data-boc-input="" ${h.disabledAttribute} ${h.vlidators}>\n                        <label for="${h.id}" class="hasval">${s._escapeGreaterLessSign(h.label)}</label>\n                        <input data-binding="${s._escapeDoubleQuotes(h.binding)}" ${h.readOnlyAttribute} maxlength="256" id="${h.id}" name="${h.id}" type="date" value="${s._escapeDoubleQuotes(h.value)}" autocomplete="off">\n                    </div>\n                </div>`,id:h.id,value:h.value}},s.elements._vidrf=function(o,l,u){var d={};if(l.binding||(l.binding=""),l.label||(l.label=""),d.options="select"!=l.type||Array.isArray(l.options)?l.options:[],d.value=o&&!s.isNEU(o[l.binding])?o[l.binding]:"",u&&d.options)for(var h=0;h<d.options.length;h++)if(d.options[h].value==d.value){d.value=d.options[h].text;break}if(d.id=s.elements.generateId(),d.disabledAttribute=u?"data-boc-input-disabled":"",d.readOnlyAttribute=u?"readonly":"",d.id=d.id,u&&s.isNEU(d.value)&&(d.doNotRender=!0),u&&"photo"==l.binding&&(d.id=null,d.doNotRender=!0),d.binding=l.binding,d.label=l.label,d.vlidators="",l.vlidators)for(var m in l.vlidators)d.vlidators+=`data-v-${m}="${l.vlidators[m]}" `;return d},s.elements.ids=[],s.elements.generateId=function(){for(;;){var o="_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4);if(!s.elements.ids.has(o))return s.elements.ids.push(o),o}},s.input={},s.input._timeout=null,s.input.initWithTimeout=function(){s.input._timeout&&(clearTimeout(s.input._timeout),s.input._timeout=null),s.input._timeout=setTimeout(s.input.init,200)},s.input.init=function(o){var l;l=o?o.querySelectorAll("[data-boc-input]"):document.querySelectorAll("[data-boc-input]");for(var u=0;u<l.length;u++){var d=l[u],h=null;d.type&&"hidden"==d.type.toLowerCase()&&(h=d),h||(h=d.querySelector("input")),h||(h=d.querySelector("select"));var m=d.querySelector("label");m&&(h.value||"select-one"==h.type&&h.selectedOptions&&h.selectedOptions.length&&""==h.selectedOptions[0].value&&h.selectedOptions[0].innerHTML)&&m.classList.add("hasval"),"checkbox"!=h.type.toLowerCase()&&h.addEventListener("focus",function(){this.classList.remove("boc-validation-error");var b=this.parentNode.querySelector("label");b.classList.add("focused");var y=b.querySelector(".boc-validation-error-message");y&&y.parentNode.removeChild(y)}),"checkbox"!=h.type.toLowerCase()&&h.addEventListener("blur",function(){s.input.blurHandler(this)})}},s.input.blurHandler=function(o){var l=o.parentNode.querySelector("label");l.classList.remove("focused"),o.value||"date"==o.type?l.classList.add("hasval"):l.classList.remove("hasval")},s.input.validate=function(o){var l=null;o.type&&"hidden"==o.type.toLowerCase()&&(l=o),l||(l=o.querySelector("input")),l||(l=o.querySelector("select"));var u=o.querySelector("label");if(l.classList.remove("boc-validation-error"),u){var d=u.querySelector(".boc-validation-error-message");d&&d.parentNode.removeChild(d)}l.value&&(l.value=l.value.trim());var h=o.getAttribute("data-v-required"),m=o.getAttribute("data-v-password"),b=o.getAttribute("data-v-email"),y=o.getAttribute("data-v-emails");return h&&""==l.value?(u.innerHTML+='<span class="boc-validation-error-message">&nbsp;'+h+"</span>",l.classList.add("boc-validation-error"),!1):m&&!s.input.validatePassword(l.value)?(u.innerHTML+='<span class="boc-validation-error-message">&nbsp;'+m+"</span>",l.classList.add("boc-validation-error"),!1):b&&!s.input.isValidEmail(l.value)?(u.innerHTML+='<span class="boc-validation-error-message">&nbsp;'+b+"</span>",l.classList.add("boc-validation-error"),!1):!(y&&!s.input.isValidEmails(l.value)&&(u.innerHTML+='<span class="boc-validation-error-message">&nbsp;'+y+"</span>",l.classList.add("boc-validation-error"),1))},s.input.validateAndGetData=function(o){for(var l=o.querySelectorAll("[data-boc-input]"),u=!0,d=0;d<l.length;d++)s.input.validate(l[d])||(u=!1);if(!u)return!1;var m=o.querySelectorAll("[data-binding]"),b={};for(d=0;d<m.length;d++){var y=m[d];b[y.getAttribute("data-binding")]="checkbox"==y.type.toLowerCase()?y.checked:y.value}return b},s.input.validatePassword=function(o){return o&&(o=o.trim()),!(o.length<5||o.length>18||-1!=o.indexOf(" "))},s.input.isValidEmails=function(o){if(o)for(var l=o.split(","),u=0;u<l.length;u++){var d=l[u].trim();if(!s.input.isValidEmail(d))return!1}return!0},s.input.isValidEmail=function(o){return o&&(o=o.trim()),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(o).toLowerCase())},s.ui.css=function(){return'<style data-boc-styles>.boc-button{background-color:#039be5;cursor:pointer;width:calc(100%);height:50px;color:#fff;padding-top:5px;padding-left:7px;padding-right:7px;text-align:center;text-transform:uppercase;border:1px solid #3fc0ff;display:inline-block;border-radius:5px}.boc-button.orange{background-color:#f57c00;border:1px solid #ffa03e}.boc-button.yellow{background-color:#ffca28;border:1px solid #ffdf7c}.boc-button.lower{text-transform:unset}.boc-button.transparent{background-color:transparent}.boc-button:hover{background-color:#35afea}.boc-button.orange:hover{background-color:#f79632}.boc-button.yellow:hover{background-color:#ffd452}.boc-button:active{transform:matrix(.98,0,0,.98,0,0)}.boc-button-icon{text-align:initial;cursor:pointer;margin-bottom:15px;color:#039be5}.boc-dark .boc-button-icon:hover{background-color:#2d2d2d}.boc-light .boc-button-icon:hover{background-color:#ececec}.boc-button-icon>img{height:24px;width:24px;vertical-align:middle;padding:7px}.boc-button:focus{outline:0}.boc-button-icon>img{filter:invert(46%) sepia(66%) saturate(2530%) hue-rotate(171deg) brightness(95%) contrast(98%)}.boc-light .boc-button.transparent{color:#039be5}.boc-light .boc-button.transparent:hover{color:#fff}.boc-button-loading{background-color:transparent;cursor:pointer;width:calc(100% - 2px);height:50px;color:#fff;text-align:center;text-transform:uppercase;border:1px solid #027cb7;display:inline-block;display:flex;justify-content:center;align-items:center;display:none}.boc-button-loading .boc-loading-dots div{margin:0 10px}.boc-link-boc-button{position:absolute;right:10px;top:-1px}@media screen and (max-width:1000px){.boc-link-boc-button{right:50px}}[data-boc-input-disabled] .boc-link-boc-button{display:none}[dir=rtl] .boc-link-boc-button{left:10px;right:unset}.boc-img-button{width:48px;height:48px;cursor:pointer;border-radius:50%;background-color:#039be5;background-repeat:no-repeat;background-size:24px 24px;background-position:center center;margin:3px;display:inline-block}.boc-img-button:hover{background-color:#f57c00}.boc-checkbox{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.boc-checkbox input{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.boc-checkbox-checkmark{position:absolute;top:0;left:0;height:25px;width:25px;border-radius:5px}.boc-dark [data-boc-input-disabled] .boc-checkbox-checkmark,.boc-dark [data-boc-input-disabled].boc-checkbox input:checked~.boc-checkbox-checkmark,.boc-light [data-boc-input-disabled] .boc-checkbox-checkmark,.boc-light [data-boc-input-disabled].boc-checkbox input:checked~.boc-checkbox-checkmark{background-color:#aeaeae!important}[data-boc-input-disabled].boc-checkbox{cursor:default}[dir=rtl] .boc-checkbox-checkmark{right:0}[dir=rtl] .boc-checkbox{padding-left:unset;padding-right:35px}.boc-dark .boc-checkbox-checkmark{background-color:#333;border:1px solid #5b5b5b}.boc-light .boc-checkbox-checkmark{background-color:#fff;border:1px solid #c7c7c7}.boc-dark .boc-checkbox:hover input~.boc-checkbox-checkmark{background-color:#3c3c3c}.boc-light .boc-checkbox:hover input~.boc-checkbox-checkmark{background-color:#f8f9f9}.boc-dark .boc-checkbox input:checked~.boc-checkbox-checkmark{background-color:#039be5}.boc-light .boc-checkbox input:checked~.boc-checkbox-checkmark{background-color:#039be5}.boc-checkbox-checkmark:after{content:"";position:absolute;display:none}.boc-checkbox input:checked~.boc-checkbox-checkmark:after{display:block}.boc-checkbox .boc-checkbox-checkmark:after{left:9px;top:5px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.boc-filter{user-select:none}.boc-light .boc-filter{color:#757575}.boc-dark .boc-filter{color:#ccc}.boc-filter>div>div{display:inline-block;padding:3px 10px;cursor:pointer}.boc-filter-menu fieldset,.boc-filter>div,.filter-field-selected{border-radius:5px}.boc-filter-menu fieldset{overflow-y:auto;max-height:300px}.boc-filter>div.boc-filter-menu{padding:10px}.boc-light .boc-filter>div.boc-filter-menu,.boc-light .filter-field-selected{background-color:#f8f9f9}.boc-dark .boc-filter>div.boc-filter-menu,.boc-dark .filter-field-selected{background-color:#3c3c3c}.boc-light .boc-filter>div{background-color:#eee}.boc-dark .boc-filter>div{background-color:#333}.boc-form-perspective{transform-style:preserve-3d;perspective:500px;position:absolute;top:32px}.boc-form{box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;padding:14px;transform-origin:top center;user-select:none;display:none;position:relative;max-height:calc(100vh - 100px);overflow-y:auto;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.boc-form-bottom{border-bottom-left-radius:unset;border-bottom-right-radius:unset;border-top-left-radius:5px;border-top-right-radius:5px}.boc-form .separator{margin:0 10px}@media screen and (max-width:1000px){.boc-form-perspective{min-width:100%;max-height:calc(100% - 32px);left:unset!important;right:unset!important;transform:none!important}.boc-form .set{max-height:calc(100vh - 74px)}.boc-form-fieldset{max-width:unset!important}}.boc-light .boc-form .separator{border-bottom:1px solid #c7c7c7}.boc-dark .boc-form .separator{border-bottom:1px solid #5b5b5b}.boc-light .boc-form{background-color:#fff}.boc-dark .boc-form{background-color:#252526}.boc-item{padding:6px 12px 6px 12px;display:flex;flex-direction:row}.boc-light .boc-form .boc-item.selected,.boc-light .boc-form .boc-item:hover{background-color:#0074e8;color:#fff}.boc-dark .boc-form .boc-item.selected,.boc-dark .boc-form .boc-item:hover{background-color:#094771;color:#fff}.boc-item.selected img,.boc-item:hover img{filter:invert(100%)}.boc-item.selected img{visibility:visible!important}.boc-form-fieldset{display:flex;flex-wrap:wrap;margin:0!important}.boc-form-field{flex:1 0 21%;margin:3px;min-width:200px}.boc-form-field-100{flex:1 0 96%;margin:3px;min-width:200px}.boc-input{position:relative}.boc-input>input,.boc-input>select{height:50px;padding:18px 10px 2px 9px;width:100%;box-sizing:border-box;border-style:solid;border-width:1px}.boc-input select{height:50px;padding:20px 5px 4px 5px}[data-boc-input-disabled].boc-input>input,[data-boc-input-disabled].boc-input>select{border-color:transparent!important}.boc-light [data-boc-input-disabled]>input,.boc-light [data-boc-input-disabled]>select{background-color:#fff!important}.boc-dark [data-boc-input-disabled]>input,.boc-dark [data-boc-input-disabled]>select{background-color:#252526!important}[data-boc-input-disabled]>select{appearance:none;padding-left:8px}.boc-input>label{display:inline-block;position:absolute;padding-left:10px;padding-right:10px;color:#acacac;cursor:text;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;-ms-transition:all .1s ease-out;-o-transition:all .1s ease-out;transition:all .1 ease-out;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:initial;text-align:initial;white-space:nowrap}.boc-input>label{top:12px;overflow:hidden;text-overflow:ellipsis;max-width:calc(100% - 14px)}.boc-input>label.focused,.boc-input>label.hasval{top:-1px}.boc-input>input,.boc-input>select{outline:0;border-radius:5px}.boc-dark .boc-input>label.focused,.boc-light .boc-input>label.focused{color:#039be5}.boc-dark .boc-input>input,.boc-dark .boc-input>select{color:#ccc;background-color:#333;border-color:#5b5b5b}.boc-light .boc-input>input,.boc-light .boc-input>select{color:#757575;background-color:#fff;border-color:#c7c7c7}.boc-light .boc-input>input:focus,.boc-light .boc-input>select:focus{border-color:#039be5;background-color:#f8f9f9}.boc-dark .boc-input>input:focus,.boc-dark .boc-input>select:focus{border-color:#039be5;background-color:#3c3c3c}.boc-dark .boc-input>input.boc-validation-error,.boc-dark .boc-input>select.boc-validation-error,.boc-light .boc-input>input.boc-validation-error,.boc-light .boc-input>select.boc-validation-error{border-color:#ca2a2a}.boc-dark .boc-validation-error-message,.boc-light .boc-validation-error-message{color:#ca2a2a}.boc-link{color:#039be5;cursor:pointer;text-decoration:underline}.boc-link:hover{color:#f57c00}.boc-dark ::-webkit-scrollbar,.boc-light ::-webkit-scrollbar{width:15px;height:15px}.boc-dark ::-webkit-scrollbar-corner{background:#1e1e1e}.boc-dark ::-webkit-scrollbar-track{background:#1e1e1e;border-left:1px solid #333;border-top:1px solid #333}.boc-dark ::-webkit-scrollbar-thumb{background:#424242}.boc-dark ::-webkit-scrollbar-thumb:hover{background:#4f4f4f}.boc-dark ::-webkit-scrollbar-thumb:active{background:#5e5e5e}.boc-light ::-webkit-scrollbar-corner{background:#fff}.boc-light ::-webkit-scrollbar-track{background:#fff;border-left:1px solid #ddd;border-top:1px solid #ddd}.boc-light ::-webkit-scrollbar-thumb{background:#c1c1c1}.boc-light ::-webkit-scrollbar-thumb:hover{background:#929292}.boc-light ::-webkit-scrollbar-thumb:active{background:#666}.boc-edit-form{position:fixed;top:0;right:0;height:100%;width:100%;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;display:flex;flex-direction:column;height:100%;width:400px}@media screen and (max-width:1000px){.boc-edit-form{width:100%}}.boc-dark .boc-edit-form{background-color:#252526}.boc-light .boc-edit-form{background-color:#fff}.boc-edit-form-header{height:200px;text-align:center;border-radius:10px}.export-service .boc-edit-form-header{border-radius:unset}.boc-edit-form-title{color:#fff;margin:0;padding:14px 17px 7px 17px}.boc-edit-form-avatar{border-radius:50%;width:150px;height:150px;position:absolute;top:75px;border:5px solid #fff;left:50%;transform:translateX(-50%);background-color:#cacaca;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0}.boc-edit-form-close{position:absolute;right:14px;top:14px;width:34px;height:34px;cursor:pointer}.boc-edit-form-fields{flex-grow:1;overflow-y:auto;overflow-x:hidden}.boc-edit-form-fields-inner{margin:0 7px 20px 7px}.boc-chart-menu{opacity:0;display:inline-block;position:absolute;text-align:left;user-select:none;min-width:270px;box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;font:13px/28px Helvetica,"Segoe UI",Arial,sans-serif;border-radius:10px}.boc-chart-menu>div:hover img{filter:invert(100%)}.boc-chart-menu [data-item]{text-align:start;padding:7px 10px}.boc-dark .boc-chart-menu [data-item]{background-color:#252526;color:#acacac;border-bottom:1px solid #333}.boc-dark .boc-chart-menu [data-item]:hover{background-color:#094771!important;color:#fff!important}.boc-dark .boc-chart-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.boc-light .boc-chart-menu [data-item]{background-color:#fff;color:#333;border-bottom:1px solid #c7c7c7}.boc-light .boc-chart-menu [data-item]:hover{background-color:#0074e8!important;color:#fff!important}.boc-light .boc-chart-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.boc-chart-menu [data-item] svg{vertical-align:middle}.boc-chart-menu [data-item]:first-child{border-top-left-radius:7px;border-top-right-radius:7px}.boc-chart-menu [data-item]:last-child{border-bottom-width:0;border-bottom-style:none;border-bottom-left-radius:7px;border-bottom-right-radius:7px}.boc-search{position:absolute}@media screen and (max-width:500px){.boc-search{width:calc(100% - 30px);left:15px}}.boc-search .boc-input{margin-bottom:0}.boc-search-input{color:#7a7a7a;width:100%;border:none;outline:0;padding-top:10px;padding-right:47px}.boc-search-image-td{width:43px}.boc-search-text-td{padding-inline-end:7px;line-height:15px;text-align:start}.boc-search table{box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;margin:0 3.5px 0 3.5px;width:calc(100% - 7px);border-radius:7px}.boc-search table tr:first-child td:first-child{border-top-left-radius:7px}.boc-search table tr:first-child td:last-child{border-top-right-radius:7px}[dir=rtl] .boc-search table tr:first-child td:first-child{border-top-left-radius:unset;border-top-right-radius:7px}[dir=rtl] .boc-search table tr:first-child td:last-child{border-top-right-radius:unset;border-top-left-radius:7px}.boc-search table tr:last-child td:first-child{border-bottom-left-radius:7px}.boc-search table tr:last-child td:last-child{border-bottom-right-radius:7px}[dir=rtl] .boc-search table tr:last-child td:first-child{border-bottom-left-radius:unset;border-bottom-right-radius:7px}[dir=rtl] .boc-search table tr:last-child td:last-child{border-bottom-right-radius:unset;border-bottom-left-radius:7px}.boc-dark .boc-search table{background-color:#252526;color:#acacac}.boc-search [data-search-item-id]{cursor:pointer}.boc-search-photo{margin:7px 7px 0 7px;width:32px;height:32px;background-size:cover;background-position:top center;border-radius:50%;display:inline-block;border:1px solid #8c8c8c}.boc-dark .boc-search [data-search-item-id] td{border-top:1px solid #333}.boc-dark .boc-search [data-search-item-id]:hover,.boc-dark .boc-search [data-selected=yes]{background-color:#094771;color:#fff}.boc-light .boc-search table{background-color:#fff;color:#333}.boc-light .boc-search [data-search-item-id] td{border-top:1px solid #c7c7c7}.boc-light .boc-search [data-search-item-id]:hover,.boc-light .boc-search [data-selected=yes]{background-color:#0074e8;color:#fff}.boc-search [data-search-item-id]:first-child td{border-top:unset}.boc-ripple-container{position:absolute;top:0;right:0;bottom:0;left:0}.boc-drag-over rect{opacity:.5}.boc-ripple-container span{transform:scale(0);border-radius:100%;position:absolute;opacity:.75;background-color:#fff;animation:boc-ripple 1s}@-moz-keyframes boc-ripple{to{opacity:0;transform:scale(2)}}@-webkit-keyframes boc-ripple{to{opacity:0;transform:scale(2)}}@-o-keyframes boc-ripple{to{opacity:0;transform:scale(2)}}@keyframes boc-ripple{to{opacity:0;transform:scale(2)}}.boc-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.boc-slider:before{position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;-webkit-transition:.4s;transition:.4s}.boc-slider.round{border-radius:24px}.boc-slider.round:before{border-radius:50%}svg text:hover{cursor:default}svg.boc-cursor-grab,svg.boc-cursor-grab text:hover{cursor:grab}svg.boc-cursor-nodrop,svg.boc-cursor-nodrop text:hover{cursor:no-drop}svg.boc-cursor-copy,svg.boc-cursor-copy text:hover{cursor:copy}svg.boc-cursor-move,svg.boc-cursor-move text:hover{cursor:move}#boc-close-btn:focus,#boc-close-btn:hover{color:#000;text-decoration:none;cursor:pointer}#boc-id-select:focus{outline:.5px solid #aeaeae}#boc-sampleDialog #title:hover{cursor:default;background:gray}.boc-light{background-color:#fff;font:13px/28px Helvetica,"Segoe UI",Arial,sans-serif}.boc-dark{background-color:#1e1e1e;font:13px/28px Helvetica,"Segoe UI",Arial,sans-serif}.boc-light .boc-fill{fill:#fff}.boc-dark .boc-fill{fill:#1e1e1e}.boc-dark input,.boc-dark select,.boc-light input,.boc-light select{font:16px Helvetica,"Segoe UI",Arial,sans-serif}.boc-dark h1,.boc-light h1{font-size:30px;line-height:1}.boc-edit-form{position:absolute;border-radius:10px}.export-service .boc-edit-form{border-radius:unset}.boc-dark .boc-edit-form{color:#acacac}.boc-light .boc-edit-form{color:#333}.boc-dark ::-webkit-calendar-picker-indicator{filter:invert(70%)}.boc-light ::-webkit-calendar-picker-indicator{filter:invert(50%)}.boc-edit-form-instruments{margin:42px 10px 0 10px;text-align:center;min-height:70px}.boc-img-button svg{position:relative;top:12px}.boc-light .boc-toolbar-container svg circle,.boc-light .boc-toolbar-container svg line,.boc-light .boc-toolbar-container svg path{stroke:#8c8c8c!important}.boc-dark .boc-toolbar-container svg circle,.boc-dark .boc-toolbar-container svg line,.boc-dark .boc-toolbar-container svg path{stroke:#8c8c8c!important}.boc-dark .boc-toolbar-container svg rect{fill:#252526!important}.boc-dark .boc-toolbar-container [data-tlbr=minus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-bottom:1px solid #5b5b5b!important}.boc-dark .boc-toolbar-container [data-tlbr=plus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-top:1px solid #5b5b5b!important}.boc-dark .boc-toolbar-container [data-tlbr]>svg{border:1px solid #5b5b5b!important;background-color:#252526!important}.boc-toolbar-layout{height:123px;padding-top:20px;position:absolute;width:100%;left:"0";bottom:"-145px"}.boc-light .boc-toolbar-layout{border-top:1px solid #c7c7c7;background-color:#f9f9f9}.boc-dark .boc-toolbar-layout{border-top:1px solid #5b5b5b;background-color:#2b2b2b}.boc-dotted-connector path{stroke-dasharray:7}</style>'},void 0===s&&(s={}),s.prototype.onField=function(o){return this.on("field",function(l,u){return o.call(l,u)})},s.prototype.onInit=function(o){return this.on("init",function(l){return o.call(l)})},s.prototype.onRedraw=function(o){return this.on("redraw",function(l){return o.call(l)})},s.prototype.onUpdateNode=function(o){return this.on("update",function(l,u,d){return o.call(l,{oldData:u,newData:d})})},s.prototype.onRemoveNode=function(o){return this.on("remove",function(l,u,d){return o.call(l,{id:u,newPidsAndStpidsForIds:d})})},s.prototype.onAddNode=function(o){return this.on("add",function(l,u){return o.call(l,{data:u})})},s.prototype.onDrop=function(o){return this.on("drop",function(l,u,d,h){return o.call(l,{dragId:u,dropId:d,dragNodeElement:h})})},s.prototype.onDrag=function(o){return this.on("drag",function(l,u,d){return o.call(l,{dragId:u,event:d})})},s.prototype.onExpandCollpaseButtonClick=function(o){return this.on("expcollclick",function(l,u,d,h){return o.call(l,{collapsing:u,id:d,ids:h})})},s.prototype.onExportStart=function(o){return this.on("exportstart",function(l,u){return o.call(l,u)})},s.prototype.onExportEnd=function(o){return this.on("exportend",function(l,u){return o.call(l,u)})},s.prototype.onNodeClick=function(o){return this.on("click",function(l,u){return o.call(l,u)})},s.prototype.onNodeDoubleClick=function(o){return this.on("dbclick",function(l,u){return o.call(l,{data:u})})},s.filterUI=function(){},s.filterUI.prototype.init=function(o){this.instance=o,this.filterBy=null,this._event_id=s._guid()},s.filterUI.prototype.addFilterTag=function(o){if(!this.instance.config.filterBy||s.isNEU(o))return!1;if(null!==this.filterBy||"object"!=typeof this.instance.config.filterBy||Array.isArray(this.instance.config.filterBy)||(this.filterBy=JSON.parse(JSON.stringify(this.instance.config.filterBy))),null!=this.filterBy)for(var l in this.filterBy){var u=o[l];if(null!=u){var d=this.filterBy[l];if(null!=d){var h=d[u];if(null!=h&&!1===h.checked)return!0}}}return!1},s.filterUI.prototype.show=function(o){var l=this.instance.element.querySelector('[data-filter-field="'+o+'"]');l&&l.click()},s.filterUI.prototype.hide=function(){var o=this.instance.element.querySelector("[data-filter-close]");o&&o.click()},s.filterUI.prototype.update=function(){if(this.instance.config.filterBy){var o={};if("all"==this.instance.config.filterBy)for(var l=0;l<this.instance.editUI.fields.length;l++){var u=this.instance.editUI.fields[l];"tags"!=u&&"id"!=u&&"pid"!=u&&"ppid"!=u&&"stpid"!=u&&(o[u]={})}else if(Array.isArray(this.instance.config.filterBy))for(l=0;l<this.instance.config.filterBy.length;l++)o[this.instance.config.filterBy[l]]={};else if("object"==typeof this.instance.config.filterBy)for(var d in this.instance.config.filterBy)o[d]={};for(var h in o){var m=o[h];for(l=0;l<this.instance.config.nodes.length;l++){var b=this.instance.config.nodes[l][h];null!=b&&(m[b]||(m[b]={checked:!0,text:b}))}}if(null!=this.filterBy)for(var y in o)if(this.filterBy[y])for(var v in o[y])this.filterBy[y][v]&&(o[y][v]=this.filterBy[y][v]);this.filterBy=o;var x=this,_=this.instance.element.querySelector("[data-filter]");_&&_.parentNode.removeChild(_),(_=document.createElement("div")).setAttribute("data-filter",""),_.style.position="absolute",_.setAttribute("class","boc-filter"),_.style.top=this.instance.config.padding+"px",_.style.left=this.instance.config.padding+"px";var D="";for(var y in this.filterBy)D+=`<div data-filter-field="${y}">${y}</div>`;_.innerHTML=`<div>${D}</div>`,_.addEventListener("click",function(E){if(E.target.hasAttribute("data-filter-close")||E.target.hasAttribute("data-filter-field")){for(var S=E.target.getAttribute("data-filter-field"),M=x.instance.element.querySelectorAll("[data-filter-menu]"),L=0;L<M.length;L++)M[L].style.display="none";var T=x.instance.element.querySelectorAll(".filter-field-selected");for(L=0;L<T.length;L++)T[L].classList.remove("filter-field-selected");var I=x.instance.element.querySelector("[data-filter-close]");if(I&&I.parentNode.removeChild(I),E.target.hasAttribute("data-filter-close")||!E.target.hasAttribute("data-filter-field"))return;var k=x.instance.element.querySelector(`[data-filter-menu="${S}"]`);if(!k){var R=`<div>\n                    <input data-all type="checkbox" id="${S}" name="${S}" checked>\n                    <label for="${S}">[All]</label>\n                </div>`;for(var P in x.filterBy[S]){var O=x.filterBy[S][P],U=O.text;null==U&&(U=P),R+=`<div>\n                        <input  type="checkbox" id="${P}" name="${P}" ${O.checked?"checked":""}>\n                        <label for="${P}">${U}</label>\n                    </div>`}(k=document.createElement("div")).innerHTML=`<fieldset>\n                                                    <legend>Filter by ${S}:</legend>\n                                                    ${R}\n                                                </fieldset>`,k.setAttribute("data-filter-menu",S),k.classList.add("boc-filter-menu"),E.target.parentNode.parentNode.appendChild(k);var $=k.querySelectorAll("input");for(L=0;L<$.length;L++)$[L].addEventListener("change",function(z){for(var G=z.target;G&&!G.hasAttribute("data-filter-menu");)G=G.parentNode;if(G){var te=G.getAttribute("data-filter-menu");if(z.target.hasAttribute("data-all")){for(var ee=z.target.parentNode.parentNode.querySelectorAll("input"),Q=0;Q<ee.length;Q++)if(ee[Q]!=z.target)for(var xe in ee[Q].checked=z.target.checked,x.filterBy[te])x.filterBy[te][xe].checked=z.target.checked}else null!=x.filterBy[te][this.name]&&(x.filterBy[te][this.name].checked=this.checked);x.instance.draw()}})}k.style.display="block",E.target.classList.add("filter-field-selected"),(I=document.createElement("div")).classList.add("close"),I.innerHTML="x",I.setAttribute("data-filter-close",""),E.target.parentNode.appendChild(I)}}),this.instance.element.appendChild(_)}},void 0===s&&(s={}),void 0===s.remote&&(s.remote={}),s.LIMIT_NODES=!0,s.remote._fromResDTO=function(o,l,u,d,h){var m=l[o.id];o.x=m.p[0],o.y=m.p[1],o.w=m.p[2],o.h=m.p[3],null!=m.ln&&(o.leftNeighbor=h[m.ln]),null!=m.rn&&(o.rightNeighbor=h[m.rn]);for(var b=0;b<o.stChildren.length;b++)s.remote._fromResDTO(o.stChildren[b],l,u,d,h);for(b=0;b<o.children.length;b++)s.remote._fromResDTO(o.children[b],l,u,d,h)},s.remote._toReqDTO=function(o,l){var u={p:[o.id,null!=o.parent?o.parent.id:null,null!=o.stParent?o.stParent.id:null,o.w,o.h]};o.children.length>0&&(u.c=s.remote._convertToIdArray(o.children)),o.stChildren.length>0&&(u.v=s.remote._convertToIdArray(o.stChildren)),null!=o.layout&&0!=o.layout&&(u.l=o.layout),o.isAssistant&&(u.a=1),o.isSplit&&(u.s=o.isSplit),o.padding&&(u.q=o.padding),o.lcn&&(u.k=o.lcn),o.stContainerNodes&&(u.b=s.remote._convertToIdArray(o.stContainerNodes)),o._m&&(u.m=o._m.id),o.isPartner&&(u.i=o.isPartner),o.hasPartners&&(u.g=o.hasPartners),o.partnerSeparation&&(u.e=o.partnerSeparation),l.push(u);for(var d=0;d<o.stChildren.length;d++)s.remote._toReqDTO(o.stChildren[d],l);for(d=0;d<o.children.length;d++)s.remote._toReqDTO(o.children[d],l)},s.remote._toReqLayoutConfigsDTO=function(o){var l={};for(var u in o){var d=o[u];l[u]||(l[u]=[]),l[u][0]=d.orientation,l[u][1]=d.levelSeparation,l[u][2]=d.mixedHierarchyNodesSeparation,l[u][3]=d.subtreeSeparation,l[u][4]=d.siblingSeparation,l[u][5]=d.layout,l[u][6]=d.columns,l[u][7]=d.collapse,l[u][8]=d.assistantSeparation,l[u][9]=d.partnerNodeSeparation}return l},s.remote._convertToIdArray=function(o){for(var l=[],u=0;u<o.length;u++)l.push(o[u].id);return l},s.remote._setPositions=function(o,l,u,d){for(var h=[],m=[],b=s.remote._toReqLayoutConfigsDTO(l),y=0;y<o.length;y++)m.push(o[y].id),s.remote._toReqDTO(o[y],h);var v={n:h,c:b,r:m,v:"8.10.09"};if(s.LIMIT_NODES||(v.l=!0),null!=s.remote._fromReqDTO)s.remote._fromReqDTO(v.n,v.r,v.c,function(_){for(var D=0;D<o.length;D++)s.remote._fromResDTO(o[D],_,0,o,d);u()});else{v=JSON.stringify(v);var x=s.localStorage.getItem(v);x&&(x=JSON.parse(x)),x&&!x.limit?s.remote._proceed(o,x,d,u):s.remote._findRegion(function(_){s._ajax(_,"post",v,"json",function(D){D.error?u(2):(s.remote._proceed(o,D,d,u),s.localStorage.setItem(v,JSON.stringify(D)))})})}},s.remote._proceed=function(o,l,u,d){if("string"==typeof l&&(l=JSON.parse(l)),l.limit&&1==l.limit)d(l.limit);else{for(var h=0;h<o.length;h++)s.remote._fromResDTO(o[h],l,0,o,u);d()}},s.remote._findRegion=function(o){var l=s.localStorage.getItem("funcUrl");if(l)o(l);else{for(var u=["au-e","au-se","brs","ca","ca-e","easia","eus-2","eus","fr","ind","jp-e","jp-w","kr","n-eu","se-asia","s-ind","uk-s","uk-w","us","us-n-c","us-s-c","w-c-us","w-eu","w-ind","w-us-2","wus"],d=[],h=0;h<u.length;h++)d.push(new XMLHttpRequest);for(h=0;h<u.length;h++)!function(){var m="https://"+u[h]+"-balkangraph.azurewebsites.net/api/OrgChartJS",b=d[h];b.onreadystatechange=function(){if(4==this.readyState&&200==this.status){s.localStorage.setItem("funcUrl",m),o(m);for(var y=0;y<d.length;y++)d[y].abort()}},b.open("GET",m,!0),b.send()}()}}},639:(Ai,s,o)=>{"use strict";function l(e){return"function"==typeof e}function u(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const d=u(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function h(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class m{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const a of n)a.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(l(r))try{r()}catch(a){t=a instanceof d?a.errors:[a]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const a of i)try{v(a)}catch(c){t=t??[],c instanceof d?t=[...t,...c.errors]:t.push(c)}}if(t)throw new d(t)}}add(t){var n;if(t&&t!==this)if(this.closed)v(t);else{if(t instanceof m){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&h(n,t)}remove(t){const{_finalizers:n}=this;n&&h(n,t),t instanceof m&&t._removeParent(this)}}m.EMPTY=(()=>{const e=new m;return e.closed=!0,e})();const b=m.EMPTY;function y(e){return e instanceof m||e&&"closed"in e&&l(e.remove)&&l(e.add)&&l(e.unsubscribe)}function v(e){l(e)?e():e.unsubscribe()}const x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_={setTimeout(e,t,...n){const{delegate:r}=_;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=_;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function D(e){_.setTimeout(()=>{const{onUnhandledError:t}=x;if(!t)throw e;t(e)})}function E(){}const S=T("C",void 0,void 0);function T(e,t,n){return{kind:e,value:t,error:n}}let I=null;function k(e){if(x.useDeprecatedSynchronousErrorHandling){const t=!I;if(t&&(I={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=I;if(I=null,n)throw r}}else e()}class P extends m{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,y(t)&&t.add(this)):this.destination=Q}static create(t,n,r){return new z(t,n,r)}next(t){this.isStopped?ee(function L(e){return T("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ee(function M(e){return T("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ee(S,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function U(e,t){return O.call(e,t)}class ${constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){G(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){G(r)}else G(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){G(n)}}}class z extends P{constructor(t,n,r){let i;if(super(),l(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let a;this&&x.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&U(t.next,a),error:t.error&&U(t.error,a),complete:t.complete&&U(t.complete,a)}):i=t}this.destination=new $(i)}}function G(e){x.useDeprecatedSynchronousErrorHandling?function R(e){x.useDeprecatedSynchronousErrorHandling&&I&&(I.errorThrown=!0,I.error=e)}(e):D(e)}function ee(e,t){const{onStoppedNotification:n}=x;n&&_.setTimeout(()=>n(e,t))}const Q={closed:!0,next:E,error:function te(e){throw e},complete:E},xe="function"==typeof Symbol&&Symbol.observable||"@@observable";function be(e){return e}function Le(e){return 0===e.length?be:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let J=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const a=function Ae(e){return e&&e instanceof P||function Fe(e){return e&&l(e.next)&&l(e.error)&&l(e.complete)}(e)&&y(e)}(n)?n:new z(n,r,i);return k(()=>{const{operator:c,source:f}=this;a.add(c?c.call(a,f):f?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Me(r))((i,a)=>{const c=new z({next:f=>{try{n(f)}catch(p){a(p),c.unsubscribe()}},error:a,complete:i});this.subscribe(c)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[xe](){return this}pipe(...n){return Le(n)(this)}toPromise(n){return new(n=Me(n))((r,i)=>{let a;this.subscribe(c=>a=c,c=>i(c),()=>r(a))})}}return e.create=t=>new e(t),e})();function Me(e){var t;return null!==(t=e??x.Promise)&&void 0!==t?t:Promise}const Ge=u(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ye=(()=>{class e extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Zt(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ge}next(n){k(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){k(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){k(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:a}=this;return r||i?b:(this.currentObservers=null,a.push(n),new m(()=>{this.currentObservers=null,h(a,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:a}=this;r?n.error(i):a&&n.complete()}asObservable(){const n=new J;return n.source=this,n}}return e.create=(t,n)=>new Zt(t,n),e})();class Zt extends Ye{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:b}}function Y(e){return l(e?.lift)}function $e(e){return t=>{if(Y(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(e,t,n,r,i){return new Ar(e,t,n,r,i)}class Ar extends P{constructor(t,n,r,i,a,c){super(t),this.onFinalize=a,this.shouldUnsubscribe=c,this._next=n?function(f){try{n(f)}catch(p){t.error(p)}}:super._next,this._error=i?function(f){try{i(f)}catch(p){t.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(f){t.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ne(e,t){return $e((n,r)=>{let i=0;n.subscribe(ye(r,a=>{r.next(e.call(t,a,i++))}))})}function cr(e){return this instanceof cr?(this.v=e,this):new cr(e)}function jy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function ki(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(c){return new Promise(function(f,p){!function i(a,c,f,p){Promise.resolve(p).then(function(g){a({value:g,done:f})},c)}(f,p,(c=e[a](c)).done,c.value)})}}}const Ed=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Id(e){return l(e?.then)}function Md(e){return l(e[xe])}function Ad(e){return Symbol.asyncIterator&&l(e?.[Symbol.asyncIterator])}function kd(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Td=function $y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Nd(e){return l(e?.[Td])}function Rd(e){return function Uy(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),a=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(A){r[A]&&(i[A]=function(N){return new Promise(function(F,B){a.push([A,N,F,B])>1||f(A,N)})})}function f(A,N){try{!function p(A){A.value instanceof cr?Promise.resolve(A.value.v).then(g,w):C(a[0][2],A)}(r[A](N))}catch(F){C(a[0][3],F)}}function g(A){f("next",A)}function w(A){f("throw",A)}function C(A,N){A(N),a.shift(),a.length&&f(a[0][0],a[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield cr(n.read());if(i)return yield cr(void 0);yield yield cr(r)}}finally{n.releaseLock()}})}function Ld(e){return l(e?.getReader)}function Jt(e){if(e instanceof J)return e;if(null!=e){if(Md(e))return function Vy(e){return new J(t=>{const n=e[xe]();if(l(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Ed(e))return function zy(e){return new J(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Id(e))return function qy(e){return new J(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,D)})}(e);if(Ad(e))return Pd(e);if(Nd(e))return function Gy(e){return new J(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Ld(e))return function Yy(e){return Pd(Rd(e))}(e)}throw kd(e)}function Pd(e){return new J(t=>{(function Wy(e,t){var n,r,i,a;return function Ve(e,t,n,r){return new(n||(n=Promise))(function(a,c){function f(w){try{g(r.next(w))}catch(C){c(C)}}function p(w){try{g(r.throw(w))}catch(C){c(C)}}function g(w){w.done?a(w.value):function i(a){return a instanceof n?a:new n(function(c){c(a)})}(w.value).then(f,p)}g((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=jy(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(c){i={error:c}}finally{try{r&&!r.done&&(a=n.return)&&(yield a.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function In(e,t,n,r=0,i=!1){const a=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function ut(e,t,n=1/0){return l(t)?ut((r,i)=>ne((a,c)=>t(r,a,i,c))(Jt(e(r,i))),n):("number"==typeof t&&(n=t),$e((r,i)=>function Xy(e,t,n,r,i,a,c,f){const p=[];let g=0,w=0,C=!1;const A=()=>{C&&!p.length&&!g&&t.complete()},N=B=>g<r?F(B):p.push(B),F=B=>{a&&t.next(B),g++;let j=!1;Jt(n(B,w++)).subscribe(ye(t,q=>{i?.(q),a?N(q):t.next(q)},()=>{j=!0},void 0,()=>{if(j)try{for(g--;p.length&&g<r;){const q=p.shift();c?In(t,c,()=>F(q)):F(q)}A()}catch(q){t.error(q)}}))};return e.subscribe(ye(t,N,()=>{C=!0,A()})),()=>{f?.()}}(r,i,e,n)))}function Nr(e=1/0){return ut(be,e)}const fn=new J(e=>e.complete());function ja(e){return e[e.length-1]}function Ti(e){return function Zy(e){return e&&l(e.schedule)}(ja(e))?e.pop():void 0}function Od(e,t=0){return $e((n,r)=>{n.subscribe(ye(r,i=>In(r,e,()=>r.next(i),t),()=>In(r,e,()=>r.complete(),t),i=>In(r,e,()=>r.error(i),t)))})}function Fd(e,t=0){return $e((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Bd(e,t){if(!e)throw new Error("Iterable cannot be null");return new J(n=>{In(n,t,()=>{const r=e[Symbol.asyncIterator]();In(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ot(e,t){return t?function o1(e,t){if(null!=e){if(Md(e))return function e1(e,t){return Jt(e).pipe(Fd(t),Od(t))}(e,t);if(Ed(e))return function n1(e,t){return new J(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Id(e))return function t1(e,t){return Jt(e).pipe(Fd(t),Od(t))}(e,t);if(Ad(e))return Bd(e,t);if(Nd(e))return function r1(e,t){return new J(n=>{let r;return In(n,t,()=>{r=e[Td](),In(n,t,()=>{let i,a;try{({value:i,done:a}=r.next())}catch(c){return void n.error(c)}a?n.complete():n.next(i)},0,!0)}),()=>l(r?.return)&&r.return()})}(e,t);if(Ld(e))return function i1(e,t){return Bd(Rd(e),t)}(e,t)}throw kd(e)}(e,t):Jt(e)}function Ha(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new z({next:()=>{r.unsubscribe(),e()}});return Jt(t(...n)).subscribe(r)}function Pe(e){for(let t in e)if(e[t]===Pe)return t;throw Error("Could not find renamed property on target object.")}function Be(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Be).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Va(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const l1=Pe({__forward_ref__:Pe});function za(e){return e.__forward_ref__=za,e.toString=function(){return Be(this())},e}function oe(e){return qa(e)?e():e}function qa(e){return"function"==typeof e&&e.hasOwnProperty(l1)&&e.__forward_ref__===za}function Ga(e){return e&&!!e.\u0275providers}class W extends Error{constructor(t,n){super(Ho(t,n)),this.code=t}}function Ho(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function Te(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function he(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function $o(e,t){throw new W(-201,!1)}function Vt(e,t){null==e&&function Ne(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function fe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Wn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Vo(e){return jd(e,zo)||jd(e,$d)}function jd(e,t){return e.hasOwnProperty(t)?e[t]:null}function Hd(e){return e&&(e.hasOwnProperty(Ya)||e.hasOwnProperty(m1))?e[Ya]:null}const zo=Pe({\u0275prov:Pe}),Ya=Pe({\u0275inj:Pe}),$d=Pe({ngInjectableDef:Pe}),m1=Pe({ngInjectorDef:Pe});var se=(()=>((se=se||{})[se.Default=0]="Default",se[se.Host=1]="Host",se[se.Self=2]="Self",se[se.SkipSelf=4]="SkipSelf",se[se.Optional=8]="Optional",se))();let Wa;function zt(e){const t=Wa;return Wa=e,t}function Vd(e,t,n){const r=Vo(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&se.Optional?null:void 0!==t?t:void $o(Be(e))}const je=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ni={},Xa="__NG_DI_FLAG__",qo="ngTempTokenPath",y1="ngTokenPath",b1=/\n/gm,_1="\u0275",zd="__source";let Ri;function Rr(e){const t=Ri;return Ri=e,t}function w1(e,t=se.Default){if(void 0===Ri)throw new W(-203,!1);return null===Ri?Vd(e,void 0,t):Ri.get(e,t&se.Optional?null:void 0,t)}function ae(e,t=se.Default){return(function v1(){return Wa}()||w1)(oe(e),t)}function Ee(e,t=se.Default){return ae(e,Go(t))}function Go(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ka(e){const t=[];for(let n=0;n<e.length;n++){const r=oe(e[n]);if(Array.isArray(r)){if(0===r.length)throw new W(900,!1);let i,a=se.Default;for(let c=0;c<r.length;c++){const f=r[c],p=x1(f);"number"==typeof p?-1===p?i=f.token:a|=p:i=f}t.push(ae(i,a))}else t.push(ae(r))}return t}function Li(e,t){return e[Xa]=t,e.prototype[Xa]=t,e}function x1(e){return e[Xa]}function Mn(e){return{toString:e}.toString()}var hn=(()=>((hn=hn||{})[hn.OnPush=0]="OnPush",hn[hn.Default=1]="Default",hn))(),pn=(()=>{return(e=pn||(pn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",pn;var e})();const An={},ke=[],Yo=Pe({\u0275cmp:Pe}),Za=Pe({\u0275dir:Pe}),Qa=Pe({\u0275pipe:Pe}),Gd=Pe({\u0275mod:Pe}),kn=Pe({\u0275fac:Pe}),Pi=Pe({__NG_ELEMENT_ID__:Pe});let S1=0;function Ja(e){return Mn(()=>{const t=Wd(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===hn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||pn.Emulated,id:"c"+S1++,styles:e.styles||ke,_:null,schemas:e.schemas||null,tView:null};Xd(n);const r=e.dependencies;return n.directiveDefs=Wo(r,!1),n.pipeDefs=Wo(r,!0),n})}function I1(e){return Re(e)||pt(e)}function M1(e){return null!==e}function ur(e){return Mn(()=>({type:e.type,bootstrap:e.bootstrap||ke,declarations:e.declarations||ke,imports:e.imports||ke,exports:e.exports||ke,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Yd(e,t){if(null==e)return An;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),n[i]=r,t&&(t[i]=a)}return n}function _t(e){return Mn(()=>{const t=Wd(e);return Xd(t),t})}function Re(e){return e[Yo]||null}function pt(e){return e[Za]||null}function Mt(e){return e[Qa]||null}function Ot(e,t){const n=e[Gd]||null;if(!n&&!0===t)throw new Error(`Type ${Be(e)} does not have '\u0275mod' property.`);return n}function Wd(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||ke,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yd(e.inputs,t),outputs:Yd(e.outputs)}}function Xd(e){e.features?.forEach(t=>t(e))}function Wo(e,t){if(!e)return null;const n=t?Mt:I1;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(M1)}const Tn=0,Z=1,_e=2,We=3,en=4,dr=5,gt=6,Pr=7,Ke=8,Xo=9,Ko=10,De=11,el=12,Oi=13,Kd=14,Or=15,mt=16,Fi=17,Fr=18,gn=19,Bi=20,Zd=21,He=22,tl=1,Qd=2,Zo=7,Qo=8,Br=9,wt=10;function Ft(e){return Array.isArray(e)&&"object"==typeof e[tl]}function tn(e){return Array.isArray(e)&&!0===e[tl]}function nl(e){return 0!=(4&e.flags)}function Ui(e){return e.componentOffset>-1}function nn(e){return!!e.template}function k1(e){return 0!=(256&e[_e])}function fr(e,t){return e.hasOwnProperty(kn)?e[kn]:null}class R1{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function hr(){return tf}function tf(e){return e.type.prototype.ngOnChanges&&(e.setInput=P1),L1}function L1(){const e=rf(this),t=e?.current;if(t){const n=e.previous;if(n===An)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function P1(e,t,n,r){const i=this.declaredInputs[n],a=rf(e)||function O1(e,t){return e[nf]=t}(e,{previous:An,current:null}),c=a.current||(a.current={}),f=a.previous,p=f[i];c[i]=new R1(p&&p.currentValue,t,f===An),e[r]=t}hr.ngInherit=!0;const nf="__ngSimpleChanges__";function rf(e){return e[nf]||null}const qt=function(e,t,n){};function dt(e){for(;Array.isArray(e);)e=e[Tn];return e}function Bt(e,t){return dt(t[e.index])}function At(e,t){const n=t[e];return Ft(n)?n:n[Tn]}function ts(e){return 64==(64&e[_e])}function Xn(e,t){return null==t?null:e[t]}function cf(e){e[Fr]=0}function il(e,t){e[dr]+=t;let n=e,r=e[We];for(;null!==r&&(1===t&&1===n[dr]||-1===t&&0===n[dr]);)r[dr]+=t,n=r,r=r[We]}const pe={lFrame:bf(null),bindingsEnabled:!0};function df(){return pe.bindingsEnabled}function V(){return pe.lFrame.lView}function Ie(){return pe.lFrame.tView}function ft(){let e=ff();for(;null!==e&&64===e.type;)e=e.parent;return e}function ff(){return pe.lFrame.currentTNode}function mn(e,t){const n=pe.lFrame;n.currentTNode=e,n.isParent=t}function ol(){return pe.lFrame.isParent}function Z1(e,t){const n=pe.lFrame;n.bindingIndex=n.bindingRootIndex=e,al(t)}function al(e){pe.lFrame.currentDirectiveIndex=e}function cl(e){pe.lFrame.currentQueryIndex=e}function J1(e){const t=e[Z];return 2===t.type?t.declTNode:1===t.type?e[gt]:null}function vf(e,t,n){if(n&se.SkipSelf){let i=t,a=e;for(;!(i=i.parent,null!==i||n&se.Host||(i=J1(a),null===i||(a=a[Or],10&i.type))););if(null===i)return!1;t=i,e=a}const r=pe.lFrame=yf();return r.currentTNode=t,r.lView=e,!0}function ul(e){const t=yf(),n=e[Z];pe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function yf(){const e=pe.lFrame,t=null===e?null:e.child;return null===t?bf(e):t}function bf(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function _f(){const e=pe.lFrame;return pe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const wf=_f;function dl(){const e=_f();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function pr(e){pe.lFrame.selectedIndex=e}function ns(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const a=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:f,ngAfterViewInit:p,ngAfterViewChecked:g,ngOnDestroy:w}=a;c&&(e.contentHooks??(e.contentHooks=[])).push(-n,c),f&&((e.contentHooks??(e.contentHooks=[])).push(n,f),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,f)),p&&(e.viewHooks??(e.viewHooks=[])).push(-n,p),g&&((e.viewHooks??(e.viewHooks=[])).push(n,g),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,g)),null!=w&&(e.destroyHooks??(e.destroyHooks=[])).push(n,w)}}function rs(e,t,n){xf(e,t,3,n)}function is(e,t,n,r){(3&e[_e])===n&&xf(e,t,n,r)}function fl(e,t){let n=e[_e];(3&n)===t&&(n&=2047,n+=1,e[_e]=n)}function xf(e,t,n,r){const a=r??-1,c=t.length-1;let f=0;for(let p=void 0!==r?65535&e[Fr]:0;p<c;p++)if("number"==typeof t[p+1]){if(f=t[p],null!=r&&f>=r)break}else t[p]<0&&(e[Fr]+=65536),(f<a||-1==a)&&(lb(e,n,t,p),e[Fr]=(4294901760&e[Fr])+p+2),p++}function lb(e,t,n,r){const i=n[r]<0,a=n[r+1],f=e[i?-n[r]:n[r]];if(i){if(e[_e]>>11<e[Fr]>>16&&(3&e[_e])===t){e[_e]+=2048,qt(4,f,a);try{a.call(f)}finally{qt(5,f,a)}}}else{qt(4,f,a);try{a.call(f)}finally{qt(5,f,a)}}}const Hr=-1;class Hi{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function pl(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const a=n[r++],c=n[r++],f=n[r++];e.setAttribute(t,c,f,a)}else{const a=i,c=n[++r];Cf(a)?e.setProperty(t,a,c):e.setAttribute(t,a,c),r++}}return r}function Df(e){return 3===e||4===e||6===e}function Cf(e){return 64===e.charCodeAt(0)}function $i(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Sf(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Sf(e,t,n,r,i){let a=0,c=e.length;if(-1===t)c=-1;else for(;a<e.length;){const f=e[a++];if("number"==typeof f){if(f===t){c=-1;break}if(f>t){c=a-1;break}}}for(;a<e.length;){const f=e[a];if("number"==typeof f)break;if(f===n){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==c&&(e.splice(c,0,t),a=c+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}function Ef(e){return e!==Hr}function os(e){return 32767&e}function ss(e,t){let n=function fb(e){return e>>16}(e),r=t;for(;n>0;)r=r[Or],n--;return r}let gl=!0;function as(e){const t=gl;return gl=e,t}const If=255,Mf=5;let hb=0;const vn={};function ls(e,t){const n=Af(e,t);if(-1!==n)return n;const r=t[Z];r.firstCreatePass&&(e.injectorIndex=t.length,ml(r.data,e),ml(t,null),ml(r.blueprint,null));const i=vl(e,t),a=e.injectorIndex;if(Ef(i)){const c=os(i),f=ss(i,t),p=f[Z].data;for(let g=0;g<8;g++)t[a+g]=f[c+g]|p[c+g]}return t[a+8]=i,a}function ml(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Af(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function vl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Ff(i),null===r)return Hr;if(n++,i=i[Or],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Hr}function yl(e,t,n){!function pb(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pi)&&(r=n[Pi]),null==r&&(r=n[Pi]=hb++);const i=r&If;t.data[e+(i>>Mf)]|=1<<i}(e,t,n)}function kf(e,t,n){if(n&se.Optional||void 0!==e)return e;$o()}function Tf(e,t,n,r){if(n&se.Optional&&void 0===r&&(r=null),!(n&(se.Self|se.Host))){const i=e[Xo],a=zt(void 0);try{return i?i.get(t,r,n&se.Optional):Vd(t,r,n&se.Optional)}finally{zt(a)}}return kf(r,0,n)}function Nf(e,t,n,r=se.Default,i){if(null!==e){if(1024&t[_e]){const c=function bb(e,t,n,r,i){let a=e,c=t;for(;null!==a&&null!==c&&1024&c[_e]&&!(256&c[_e]);){const f=Rf(a,c,n,r|se.Self,vn);if(f!==vn)return f;let p=a.parent;if(!p){const g=c[Zd];if(g){const w=g.get(n,vn,r);if(w!==vn)return w}p=Ff(c),c=c[Or]}a=p}return i}(e,t,n,r,vn);if(c!==vn)return c}const a=Rf(e,t,n,r,vn);if(a!==vn)return a}return Tf(t,n,r,i)}function Rf(e,t,n,r,i){const a=function vb(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Pi)?e[Pi]:void 0;return"number"==typeof t?t>=0?t&If:yb:t}(n);if("function"==typeof a){if(!vf(t,e,r))return r&se.Host?kf(i,0,r):Tf(t,n,r,i);try{const c=a(r);if(null!=c||r&se.Optional)return c;$o()}finally{wf()}}else if("number"==typeof a){let c=null,f=Af(e,t),p=Hr,g=r&se.Host?t[mt][gt]:null;for((-1===f||r&se.SkipSelf)&&(p=-1===f?vl(e,t):t[f+8],p!==Hr&&Pf(r,!1)?(c=t[Z],f=os(p),t=ss(p,t)):f=-1);-1!==f;){const w=t[Z];if(Lf(a,f,w.data)){const C=mb(f,t,n,c,r,g);if(C!==vn)return C}p=t[f+8],p!==Hr&&Pf(r,t[Z].data[f+8]===g)&&Lf(a,f,t)?(c=w,f=os(p),t=ss(p,t)):f=-1}}return i}function mb(e,t,n,r,i,a){const c=t[Z],f=c.data[e+8],w=function cs(e,t,n,r,i){const a=e.providerIndexes,c=t.data,f=1048575&a,p=e.directiveStart,w=a>>20,A=i?f+w:e.directiveEnd;for(let N=r?f:f+w;N<A;N++){const F=c[N];if(N<p&&n===F||N>=p&&F.type===n)return N}if(i){const N=c[p];if(N&&nn(N)&&N.type===n)return p}return null}(f,c,n,null==r?Ui(f)&&gl:r!=c&&0!=(3&f.type),i&se.Host&&a===f);return null!==w?gr(t,c,w,f):vn}function gr(e,t,n,r){let i=e[n];const a=t.data;if(function cb(e){return e instanceof Hi}(i)){const c=i;c.resolving&&function c1(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new W(-200,`Circular dependency in DI detected for ${e}${n}`)}(Te(a[n]));const f=as(c.canSeeViewProviders);c.resolving=!0;const p=c.injectImpl?zt(c.injectImpl):null;vf(e,r,se.Default);try{i=e[n]=c.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function ab(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:a}=t.type.prototype;if(r){const c=tf(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,c)}i&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,i),a&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,a))}(n,a[n],t)}finally{null!==p&&zt(p),as(f),c.resolving=!1,wf()}}return i}function Lf(e,t,n){return!!(n[t+(e>>Mf)]&1<<e)}function Pf(e,t){return!(e&se.Self||e&se.Host&&t)}class $r{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Nf(this._tNode,this._lView,t,Go(r),n)}}function yb(){return new $r(ft(),V())}function bl(e){return qa(e)?()=>{const t=bl(oe(e));return t&&t()}:fr(e)}function Ff(e){const t=e[Z],n=t.type;return 2===n?t.declTNode:1===n?e[gt]:null}const zr="__parameters__";function Gr(e,t,n){return Mn(()=>{const r=function _l(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...a){if(this instanceof i)return r.apply(this,a),this;const c=new i(...a);return f.annotation=c,f;function f(p,g,w){const C=p.hasOwnProperty(zr)?p[zr]:Object.defineProperty(p,zr,{value:[]})[zr];for(;C.length<=w;)C.push(null);return(C[w]=C[w]||[]).push(c),p}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class le{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=fe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function mr(e,t){e.forEach(n=>Array.isArray(n)?mr(n,t):t(n))}function Uf(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ds(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Gi=Li(Gr("Optional"),8),Yi=Li(Gr("SkipSelf"),4);var kt=(()=>((kt=kt||{})[kt.Important=1]="Important",kt[kt.DashCase=2]="DashCase",kt))();const Ml=new Map;let qb=0;const kl="__ngContext__";function vt(e,t){Ft(t)?(e[kl]=t[Bi],function Yb(e){Ml.set(e[Bi],e)}(t)):e[kl]=t}let Tl;function Nl(e,t){return Tl(e,t)}function Zi(e){const t=e[We];return tn(t)?t[We]:t}function Rl(e){return sh(e[Oi])}function Ll(e){return sh(e[en])}function sh(e){for(;null!==e&&!tn(e);)e=e[en];return e}function Xr(e,t,n,r,i){if(null!=r){let a,c=!1;tn(r)?a=r:Ft(r)&&(c=!0,r=r[Tn]);const f=dt(r);0===e&&null!==n?null==i?fh(t,n,f):vr(t,n,f,i||null,!0):1===e&&null!==n?vr(t,n,f,i||null,!0):2===e?function Hl(e,t,n){const r=gs(e,t);r&&function h_(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,f,c):3===e&&t.destroyNode(f),null!=a&&function m_(e,t,n,r,i){const a=n[Zo];a!==dt(n)&&Xr(t,e,r,a,i);for(let f=wt;f<n.length;f++){const p=n[f];Qi(p[Z],p,e,t,r,a)}}(t,e,a,n,i)}}function Ol(e,t,n){return e.createElement(t,n)}function lh(e,t){const n=e[Br],r=n.indexOf(t),i=t[We];512&t[_e]&&(t[_e]&=-513,il(i,-1)),n.splice(r,1)}function Fl(e,t){if(e.length<=wt)return;const n=wt+t,r=e[n];if(r){const i=r[Fi];null!==i&&i!==e&&lh(i,r),t>0&&(e[n-1][en]=r[en]);const a=ds(e,wt+t);!function o_(e,t){Qi(e,t,t[De],2,null,null),t[Tn]=null,t[gt]=null}(r[Z],r);const c=a[gn];null!==c&&c.detachView(a[Z]),r[We]=null,r[en]=null,r[_e]&=-65}return r}function ch(e,t){if(!(128&t[_e])){const n=t[De];n.destroyNode&&Qi(e,t,n,3,null,null),function l_(e){let t=e[Oi];if(!t)return Bl(e[Z],e);for(;t;){let n=null;if(Ft(t))n=t[Oi];else{const r=t[wt];r&&(n=r)}if(!n){for(;t&&!t[en]&&t!==e;)Ft(t)&&Bl(t[Z],t),t=t[We];null===t&&(t=e),Ft(t)&&Bl(t[Z],t),n=t&&t[en]}t=n}}(t)}}function Bl(e,t){if(!(128&t[_e])){t[_e]&=-65,t[_e]|=128,function f_(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Hi)){const a=n[r+1];if(Array.isArray(a))for(let c=0;c<a.length;c+=2){const f=i[a[c]],p=a[c+1];qt(4,f,p);try{p.call(f)}finally{qt(5,f,p)}}else{qt(4,i,a);try{a.call(i)}finally{qt(5,i,a)}}}}}(e,t),function d_(e,t){const n=e.cleanup,r=t[Pr];let i=-1;if(null!==n)for(let a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){const c=n[a+3];c>=0?r[i=c]():r[i=-c].unsubscribe(),a+=2}else{const c=r[i=n[a+1]];n[a].call(c)}if(null!==r){for(let a=i+1;a<r.length;a++)(0,r[a])();t[Pr]=null}}(e,t),1===t[Z].type&&t[De].destroy();const n=t[Fi];if(null!==n&&tn(t[We])){n!==t[We]&&lh(n,t);const r=t[gn];null!==r&&r.detachView(e)}!function Wb(e){Ml.delete(e[Bi])}(t)}}function uh(e,t,n){return function dh(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Tn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:a}=e.data[r.directiveStart+i];if(a===pn.None||a===pn.Emulated)return null}return Bt(r,n)}}(e,t.parent,n)}function vr(e,t,n,r,i){e.insertBefore(t,n,r,i)}function fh(e,t,n){e.appendChild(t,n)}function hh(e,t,n,r,i){null!==r?vr(e,t,n,r,i):fh(e,t,n)}function gs(e,t){return e.parentNode(t)}let Ul,zl,mh=function gh(e,t,n){return 40&e.type?Bt(e,n):null};function ms(e,t,n,r){const i=uh(e,r,t),a=t[De],f=function ph(e,t,n){return mh(e,t,n)}(r.parent||t[gt],r,t);if(null!=i)if(Array.isArray(n))for(let p=0;p<n.length;p++)hh(a,i,n[p],f,!1);else hh(a,i,n,f,!1);void 0!==Ul&&Ul(a,r,t,n,i)}function vs(e,t){if(null!==t){const n=t.type;if(3&n)return Bt(t,e);if(4&n)return jl(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return vs(e,r);{const i=e[t.index];return tn(i)?jl(-1,i):dt(i)}}if(32&n)return Nl(t,e)()||dt(e[t.index]);{const r=yh(e,t);return null!==r?Array.isArray(r)?r[0]:vs(Zi(e[mt]),r):vs(e,t.next)}}return null}function yh(e,t){return null!==t?e[mt][gt].projection[t.projection]:null}function jl(e,t){const n=wt+e+1;if(n<t.length){const r=t[n],i=r[Z].firstChild;if(null!==i)return vs(r,i)}return t[Zo]}function $l(e,t,n,r,i,a,c){for(;null!=n;){const f=r[n.index],p=n.type;if(c&&0===t&&(f&&vt(dt(f),r),n.flags|=2),32!=(32&n.flags))if(8&p)$l(e,t,n.child,r,i,a,!1),Xr(t,e,i,f,a);else if(32&p){const g=Nl(n,r);let w;for(;w=g();)Xr(t,e,i,w,a);Xr(t,e,i,f,a)}else 16&p?bh(e,t,r,n,i,a):Xr(t,e,i,f,a);n=c?n.projectionNext:n.next}}function Qi(e,t,n,r,i,a){$l(n,r,e.firstChild,t,i,a,!1)}function bh(e,t,n,r,i,a){const c=n[mt],p=c[gt].projection[r.projection];if(Array.isArray(p))for(let g=0;g<p.length;g++)Xr(t,e,i,p[g],a);else $l(e,t,p,c[We],i,a,!0)}function _h(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function wh(e,t,n){const{mergedAttrs:r,classes:i,styles:a}=n;null!==r&&pl(e,t,r),null!==i&&_h(e,t,i),null!==a&&function y_(e,t,n){e.setAttribute(t,"style",n)}(e,t,a)}const ws=new le("ENVIRONMENT_INITIALIZER"),Oh=new le("INJECTOR",-1),Fh=new le("INJECTOR_DEF_TYPES");class Bh{get(t,n=Ni){if(n===Ni){const r=new Error(`NullInjectorError: No provider for ${Be(t)}!`);throw r.name="NullInjectorError",r}return n}}function q_(...e){return{\u0275providers:Uh(0,e),\u0275fromNgModule:!0}}function Uh(e,...t){const n=[],r=new Set;let i;return mr(t,a=>{const c=a;Kl(c,n,[],r)&&(i||(i=[]),i.push(c))}),void 0!==i&&jh(i,n),n}function jh(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];Zl(i,a=>{t.push(a)})}}function Kl(e,t,n,r){if(!(e=oe(e)))return!1;let i=null,a=Hd(e);const c=!a&&Re(e);if(a||c){if(c&&!c.standalone)return!1;i=e}else{const p=e.ngModule;if(a=Hd(p),!a)return!1;i=p}const f=r.has(i);if(c){if(f)return!1;if(r.add(i),c.dependencies){const p="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const g of p)Kl(g,t,n,r)}}else{if(!a)return!1;{if(null!=a.imports&&!f){let g;r.add(i);try{mr(a.imports,w=>{Kl(w,t,n,r)&&(g||(g=[]),g.push(w))})}finally{}void 0!==g&&jh(g,t)}if(!f){const g=fr(i)||(()=>new i);t.push({provide:i,useFactory:g,deps:ke},{provide:Fh,useValue:i,multi:!0},{provide:ws,useValue:()=>ae(i),multi:!0})}const p=a.providers;null==p||f||Zl(p,w=>{t.push(w)})}}return i!==e&&void 0!==e.providers}function Zl(e,t){for(let n of e)Ga(n)&&(n=n.\u0275providers),Array.isArray(n)?Zl(n,t):t(n)}const G_=Pe({provide:String,useValue:Pe});function Ql(e){return null!==e&&"object"==typeof e&&G_ in e}function yr(e){return"function"==typeof e}const Jl=new le("Set Injector scope."),xs={},W_={};let ec;function Ds(){return void 0===ec&&(ec=new Bh),ec}class Pn{}class Vh extends Pn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nc(t,c=>this.processProvider(c)),this.records.set(Oh,Zr(void 0,this)),i.has("environment")&&this.records.set(Pn,Zr(void 0,this));const a=this.records.get(Jl);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(Fh.multi,ke,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Rr(this),r=zt(void 0);try{return t()}finally{Rr(n),zt(r)}}get(t,n=Ni,r=se.Default){this.assertNotDestroyed(),r=Go(r);const i=Rr(this),a=zt(void 0);try{if(!(r&se.SkipSelf)){let f=this.records.get(t);if(void 0===f){const p=function J_(e){return"function"==typeof e||"object"==typeof e&&e instanceof le}(t)&&Vo(t);f=p&&this.injectableDefInScope(p)?Zr(tc(t),xs):null,this.records.set(t,f)}if(null!=f)return this.hydrate(t,f)}return(r&se.Self?Ds():this.parent).get(t,n=r&se.Optional&&n===Ni?null:n)}catch(c){if("NullInjectorError"===c.name){if((c[qo]=c[qo]||[]).unshift(Be(t)),i)throw c;return function D1(e,t,n,r){const i=e[qo];throw t[zd]&&i.unshift(t[zd]),e.message=function C1(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==_1?e.slice(2):e;let i=Be(t);if(Array.isArray(t))i=t.map(Be).join(" -> ");else if("object"==typeof t){let a=[];for(let c in t)if(t.hasOwnProperty(c)){let f=t[c];a.push(c+":"+("string"==typeof f?JSON.stringify(f):Be(f)))}i=`{${a.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(b1,"\n  ")}`}("\n"+e.message,i,n,r),e[y1]=i,e[qo]=null,e}(c,t,"R3InjectorError",this.source)}throw c}finally{zt(a),Rr(i)}}resolveInjectorInitializers(){const t=Rr(this),n=zt(void 0);try{const r=this.get(ws.multi,ke,se.Self);for(const i of r)i()}finally{Rr(t),zt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Be(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(t){let n=yr(t=oe(t))?t:oe(t&&t.provide);const r=function K_(e){return Ql(e)?Zr(void 0,e.useValue):Zr(function zh(e,t,n){let r;if(yr(e)){const i=oe(e);return fr(i)||tc(i)}if(Ql(e))r=()=>oe(e.useValue);else if(function $h(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Ka(e.deps||[]));else if(function Hh(e){return!(!e||!e.useExisting)}(e))r=()=>ae(oe(e.useExisting));else{const i=oe(e&&(e.useClass||e.provide));if(!function Z_(e){return!!e.deps}(e))return fr(i)||tc(i);r=()=>new i(...Ka(e.deps))}return r}(e),xs)}(t);if(yr(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Zr(void 0,xs,!0),i.factory=()=>Ka(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===xs&&(n.value=W_,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Q_(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=oe(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function tc(e){const t=Vo(e),n=null!==t?t.factory:fr(e);if(null!==n)return n;if(e instanceof le)throw new W(204,!1);if(e instanceof Function)return function X_(e){const t=e.length;if(t>0)throw function qi(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new W(204,!1);const n=function g1(e){return e&&(e[zo]||e[$d])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new W(204,!1)}function Zr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function nc(e,t){for(const n of e)Array.isArray(n)?nc(n,t):n&&Ga(n)?nc(n.\u0275providers,t):t(n)}class ew{}class qh{}class nw{resolveComponentFactory(t){throw function tw(e){const t=Error(`No component factory found for ${Be(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let no=(()=>{class e{}return e.NULL=new nw,e})();function rw(){return Qr(ft(),V())}function Qr(e,t){return new Zn(Bt(e,t))}let Zn=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=rw,e})();class Yh{}let sw=(()=>{class e{}return e.\u0275prov=fe({token:e,providedIn:"root",factory:()=>null}),e})();class Ss{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const aw=new Ss("15.2.8"),rc={},ic="ngOriginalError";function oc(e){return e[ic]}class Jr{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&oc(t);for(;n&&oc(n);)n=oc(n);return n||null}}function On(e){return e instanceof Function?e():e}function Xh(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const a=t.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}n=i+1}}const Kh="ng-template";function yw(e,t,n){let r=0,i=!0;for(;r<e.length;){let a=e[r++];if("string"==typeof a&&i){const c=e[r++];if(n&&"class"===a&&-1!==Xh(c.toLowerCase(),t,0))return!0}else{if(1===a){for(;r<e.length&&"string"==typeof(a=e[r++]);)if(a.toLowerCase()===t)return!0;return!1}"number"==typeof a&&(i=!1)}}return!1}function Zh(e){return 4===e.type&&e.value!==Kh}function bw(e,t,n){return t===(4!==e.type||n?e.value:Kh)}function _w(e,t,n){let r=4;const i=e.attrs||[],a=function Dw(e){for(let t=0;t<e.length;t++)if(Df(e[t]))return t;return e.length}(i);let c=!1;for(let f=0;f<t.length;f++){const p=t[f];if("number"!=typeof p){if(!c)if(4&r){if(r=2|1&r,""!==p&&!bw(e,p,n)||""===p&&1===t.length){if(rn(r))return!1;c=!0}}else{const g=8&r?p:t[++f];if(8&r&&null!==e.attrs){if(!yw(e.attrs,g,n)){if(rn(r))return!1;c=!0}continue}const C=ww(8&r?"class":p,i,Zh(e),n);if(-1===C){if(rn(r))return!1;c=!0;continue}if(""!==g){let A;A=C>a?"":i[C+1].toLowerCase();const N=8&r?A:null;if(N&&-1!==Xh(N,g,0)||2&r&&g!==A){if(rn(r))return!1;c=!0}}}}else{if(!c&&!rn(r)&&!rn(p))return!1;if(c&&rn(p))continue;c=!1,r=p|1&r}}return rn(r)||c}function rn(e){return 0==(1&e)}function ww(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let a=!1;for(;i<t.length;){const c=t[i];if(c===e)return i;if(3===c||6===c)a=!0;else{if(1===c||2===c){let f=t[++i];for(;"string"==typeof f;)f=t[++i];continue}if(4===c)break;if(0===c){i+=4;continue}}i+=a?1:2}return-1}return function Cw(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Qh(e,t,n=!1){for(let r=0;r<t.length;r++)if(_w(e,t[r],n))return!0;return!1}function Jh(e,t){return e?":not("+t.trim()+")":t}function Ew(e){let t=e[0],n=1,r=2,i="",a=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const f=e[++n];i+="["+c+(f.length>0?'="'+f+'"':"")+"]"}else 8&r?i+="."+c:4&r&&(i+=" "+c);else""!==i&&!rn(c)&&(t+=Jh(a,i),i=""),r=c,a=a||!rn(r);n++}return""!==i&&(t+=Jh(a,i)),t}const ge={};function ip(e,t=null,n=null,r){const i=op(e,t,n,r);return i.resolveInjectorInitializers(),i}function op(e,t=null,n=null,r,i=new Set){const a=[n||ke,q_(e)];return r=r||("object"==typeof e?void 0:Be(e)),new Vh(a,t||Ds(),r||null,i)}let Fn=(()=>{class e{static create(n,r){if(Array.isArray(n))return ip({name:""},r,n,"");{const i=n.name??"";return ip({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=Ni,e.NULL=new Bh,e.\u0275prov=fe({token:e,providedIn:"any",factory:()=>ae(Oh)}),e.__NG_ELEMENT_ID__=-1,e})();function ce(e,t=se.Default){const n=V();return null===n?ae(e,t):Nf(ft(),n,oe(e),t)}function hp(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const a=n[r+1];if(-1!==a){const c=e.data[a];cl(n[r]),c.contentQueries(2,t[a],a)}}}function Is(e,t,n,r,i,a,c,f,p,g,w){const C=t.blueprint.slice();return C[Tn]=i,C[_e]=76|r,(null!==w||e&&1024&e[_e])&&(C[_e]|=1024),cf(C),C[We]=C[Or]=e,C[Ke]=n,C[Ko]=c||e&&e[Ko],C[De]=f||e&&e[De],C[el]=p||e&&e[el]||null,C[Xo]=g||e&&e[Xo]||null,C[gt]=a,C[Bi]=function Gb(){return qb++}(),C[Zd]=w,C[mt]=2==t.type?e[mt]:C,C}function ni(e,t,n,r,i){let a=e.data[t];if(null===a)a=function uc(e,t,n,r,i){const a=ff(),c=ol(),p=e.data[t]=function Jw(e,t,n,r,i,a){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?a:a&&a.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=p),null!==a&&(c?null==a.child&&null!==p.parent&&(a.child=p):null===a.next&&(a.next=p,p.prev=a)),p}(e,t,n,r,i),function K1(){return pe.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=n,a.value=r,a.attrs=i;const c=function ji(){const e=pe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===c?-1:c.injectorIndex}return mn(a,!0),a}function ro(e,t,n,r){if(0===n)return-1;const i=t.length;for(let a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function dc(e,t,n){ul(t);try{const r=e.viewQuery;null!==r&&_c(1,r,n);const i=e.template;null!==i&&pp(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&hp(e,t),e.staticViewQueries&&_c(2,e.viewQuery,n);const a=e.components;null!==a&&function Kw(e,t){for(let n=0;n<t.length;n++)bx(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[_e]&=-5,dl()}}function Ms(e,t,n,r){const i=t[_e];if(128!=(128&i)){ul(t);try{cf(t),function pf(e){return pe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&pp(e,t,n,2,r);const c=3==(3&i);if(c){const g=e.preOrderCheckHooks;null!==g&&rs(t,g,null)}else{const g=e.preOrderHooks;null!==g&&is(t,g,0,null),fl(t,0)}if(function vx(e){for(let t=Rl(e);null!==t;t=Ll(t)){if(!t[Qd])continue;const n=t[Br];for(let r=0;r<n.length;r++){const i=n[r];512&i[_e]||il(i[We],1),i[_e]|=512}}}(t),function mx(e){for(let t=Rl(e);null!==t;t=Ll(t))for(let n=wt;n<t.length;n++){const r=t[n],i=r[Z];ts(r)&&Ms(i,r,i.template,r[Ke])}}(t),null!==e.contentQueries&&hp(e,t),c){const g=e.contentCheckHooks;null!==g&&rs(t,g)}else{const g=e.contentHooks;null!==g&&is(t,g,1),fl(t,1)}!function Ww(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)pr(~i);else{const a=i,c=n[++r],f=n[++r];Z1(c,a),f(2,t[a])}}}finally{pr(-1)}}(e,t);const f=e.components;null!==f&&function Xw(e,t){for(let n=0;n<t.length;n++)yx(e,t[n])}(t,f);const p=e.viewQuery;if(null!==p&&_c(2,p,r),c){const g=e.viewCheckHooks;null!==g&&rs(t,g)}else{const g=e.viewHooks;null!==g&&is(t,g,2),fl(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[_e]&=-41,512&t[_e]&&(t[_e]&=-513,il(t[We],-1))}finally{dl()}}}function pp(e,t,n,r,i){const a=function Dt(){return pe.lFrame.selectedIndex}(),c=2&r;try{pr(-1),c&&t.length>He&&function ep(e,t,n,r){if(!r)if(3==(3&t[_e])){const a=e.preOrderCheckHooks;null!==a&&rs(t,a,n)}else{const a=e.preOrderHooks;null!==a&&is(t,a,0,n)}pr(n)}(e,t,He,!1),qt(c?2:0,i),n(r,i)}finally{pr(a),qt(c?3:1,i)}}function fc(e,t,n){if(nl(t)){const i=t.directiveEnd;for(let a=t.directiveStart;a<i;a++){const c=e.data[a];c.contentQueries&&c.contentQueries(1,n[a],a)}}}function gp(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=gc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function gc(e,t,n,r,i,a,c,f,p,g){const w=He+r,C=w+i,A=function Zw(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ge);return n}(w,C),N="function"==typeof g?g():g;return A[Z]={type:e,blueprint:A,template:n,queries:null,viewQuery:f,declTNode:t,data:A.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:p,consts:N,incompleteFirstPass:!1}}function mp(e,t,n,r){const i=function xp(e){return e[Pr]||(e[Pr]=[])}(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&function Dp(e){return e.cleanup||(e.cleanup=[])}(e).push(r,i.length-1))}function vp(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const a=e[i];null===r?yp(n,t,i,a):r.hasOwnProperty(i)&&yp(n,t,r[i],a)}return n}function yp(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function bp(e,t,n,r,i,a){for(let g=0;g<r.length;g++)yl(ls(n,t),e,r[g].type);!function dx(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let g=0;g<r.length;g++){const w=r[g];w.providersResolver&&w.providersResolver(w)}let c=!1,f=!1,p=ro(e,t,r.length,null);for(let g=0;g<r.length;g++){const w=r[g];n.mergedAttrs=$i(n.mergedAttrs,w.hostAttrs),fx(e,n,t,p,w),ux(p,w,i),null!==w.contentQueries&&(n.flags|=4),(null!==w.hostBindings||null!==w.hostAttrs||0!==w.hostVars)&&(n.flags|=64);const C=w.type.prototype;!c&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),c=!0),!f&&(C.ngOnChanges||C.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),f=!0),p++}!function ex(e,t,n){const i=t.directiveEnd,a=e.data,c=t.attrs,f=[];let p=null,g=null;for(let w=t.directiveStart;w<i;w++){const C=a[w],A=n?n.get(C):null,F=A?A.outputs:null;p=vp(C.inputs,w,p,A?A.inputs:null),g=vp(C.outputs,w,g,F);const B=null===p||null===c||Zh(t)?null:gx(p,w,c);f.push(B)}null!==p&&(p.hasOwnProperty("class")&&(t.flags|=8),p.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=f,t.inputs=p,t.outputs=g}(e,n,a)}function _p(e,t,n){const r=n.directiveStart,i=n.directiveEnd,a=n.index,c=function Q1(){return pe.lFrame.currentDirectiveIndex}();try{pr(a);for(let f=r;f<i;f++){const p=e.data[f],g=t[f];al(f),(null!==p.hostBindings||0!==p.hostVars||null!==p.hostAttrs)&&ax(p,g)}}finally{pr(-1),al(c)}}function ax(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function vc(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function ux(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;nn(t)&&(n[""]=e)}}function fx(e,t,n,r,i){e.data[r]=i;const a=i.factory||(i.factory=fr(i.type)),c=new Hi(a,nn(i),ce);e.blueprint[r]=c,n[r]=c,function ix(e,t,n,r,i){const a=i.hostBindings;if(a){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const f=~t.index;(function ox(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(c)!=f&&c.push(f),c.push(n,r,a)}}(e,t,r,ro(e,n,i.hostVars,ge),i)}function px(e,t,n,r,i,a){const c=a[t];if(null!==c){const f=r.setInput;for(let p=0;p<c.length;){const g=c[p++],w=c[p++],C=c[p++];null!==f?r.setInput(n,C,g,w):n[w]=C}}}function gx(e,t,n){let r=null,i=0;for(;i<n.length;){const a=n[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===r&&(r=[]);const c=e[a];for(let f=0;f<c.length;f+=2)if(c[f]===t){r.push(a,c[f+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function yx(e,t){const n=At(t,e);if(ts(n)){const r=n[Z];48&n[_e]?Ms(r,n,r.template,n[Ke]):n[dr]>0&&bc(n)}}function bc(e){for(let r=Rl(e);null!==r;r=Ll(r))for(let i=wt;i<r.length;i++){const a=r[i];if(ts(a))if(512&a[_e]){const c=a[Z];Ms(c,a,c.template,a[Ke])}else a[dr]>0&&bc(a)}const n=e[Z].components;if(null!==n)for(let r=0;r<n.length;r++){const i=At(n[r],e);ts(i)&&i[dr]>0&&bc(i)}}function bx(e,t){const n=At(t,e),r=n[Z];(function _x(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),dc(r,n,n[Ke])}function As(e,t){return e[Oi]?e[Kd][en]=t:e[Oi]=t,e[Kd]=t,t}function ks(e){for(;e;){e[_e]|=32;const t=Zi(e);if(k1(e)&&!t)return e;e=t}return null}function Ts(e,t,n,r=!0){const i=t[Ko];i.begin&&i.begin();try{Ms(e,t,e.template,n)}catch(c){throw r&&function Sp(e,t){const n=e[Xo],r=n?n.get(Jr,null):null;r&&r.handleError(t)}(t,c),c}finally{i.end&&i.end()}}function _c(e,t,n){cl(0),t(e,n)}function wc(e,t,n,r,i){for(let a=0;a<n.length;){const c=n[a++],f=n[a++],p=t[c],g=e.data[c];null!==g.setInput?g.setInput(p,i,r,f):p[f]=i}}function Ns(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,a=0;if(null!==t)for(let c=0;c<t.length;c++){const f=t[c];"number"==typeof f?a=f:1==a?i=Va(i,f):2==a&&(r=Va(r,f+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Rs(e,t,n,r,i=!1){for(;null!==n;){const a=t[n.index];if(null!==a&&r.push(dt(a)),tn(a))for(let f=wt;f<a.length;f++){const p=a[f],g=p[Z].firstChild;null!==g&&Rs(p[Z],p,g,r)}const c=n.type;if(8&c)Rs(e,t,n.child,r);else if(32&c){const f=Nl(n,t);let p;for(;p=f();)r.push(p)}else if(16&c){const f=yh(t,n);if(Array.isArray(f))r.push(...f);else{const p=Zi(t[mt]);Rs(p[Z],p,f,r,!0)}}n=i?n.projectionNext:n.next}return r}class io{get rootNodes(){const t=this._lView,n=t[Z];return Rs(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ke]}set context(t){this._lView[Ke]=t}get destroyed(){return 128==(128&this._lView[_e])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[We];if(tn(t)){const n=t[Qo],r=n?n.indexOf(this):-1;r>-1&&(Fl(t,r),ds(n,r))}this._attachedToViewContainer=!1}ch(this._lView[Z],this._lView)}onDestroy(t){mp(this._lView[Z],this._lView,null,t)}markForCheck(){ks(this._cdRefInjectingView||this._lView)}detach(){this._lView[_e]&=-65}reattach(){this._lView[_e]|=64}detectChanges(){Ts(this._lView[Z],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function a_(e,t){Qi(e,t,t[De],2,null,null)}(this._lView[Z],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=t}}class wx extends io{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Ts(t[Z],t,t[Ke],!1)}checkNoChanges(){}get context(){return null}}class Ep extends no{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Re(t);return new oo(n,this.ngModule)}}function Ip(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Dx{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Go(r);const i=this.injector.get(t,rc,r);return i!==rc||n===rc?i:this.parentInjector.get(t,n,r)}}class oo extends qh{get inputs(){return Ip(this.componentDef.inputs)}get outputs(){return Ip(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Iw(e){return e.map(Ew).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let a=(i=i||this.ngModule)instanceof Pn?i:i?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const c=a?new Dx(t,a):t,f=c.get(Yh,null);if(null===f)throw new W(407,!1);const p=c.get(sw,null),g=f.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",C=r?function Qw(e,t,n){return e.selectRootElement(t,n===pn.ShadowDom)}(g,r,this.componentDef.encapsulation):Ol(g,w,function xx(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(w)),A=this.componentDef.onPush?288:272,N=gc(0,null,null,1,0,null,null,null,null,null),F=Is(null,N,null,A,null,null,f,g,p,c,null);let B,j;ul(F);try{const q=this.componentDef;let K,H=null;q.findHostDirectiveDefs?(K=[],H=new Map,q.findHostDirectiveDefs(q,K,H),K.push(q)):K=[q];const de=function Sx(e,t){const n=e[Z],r=He;return e[r]=t,ni(n,r,2,"#host",null)}(F,C),Oe=function Ex(e,t,n,r,i,a,c,f){const p=i[Z];!function Ix(e,t,n,r){for(const i of e)t.mergedAttrs=$i(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Ns(t,t.mergedAttrs,!0),null!==n&&wh(r,n,t))}(r,e,t,c);const g=a.createRenderer(t,n),w=Is(i,gp(n),null,n.onPush?32:16,i[e.index],e,a,g,f||null,null,null);return p.firstCreatePass&&vc(p,e,r.length-1),As(i,w),i[e.index]=w}(de,C,q,K,F,f,g);j=function lf(e,t){return e.data[t]}(N,He),C&&function Ax(e,t,n,r){if(r)pl(e,n,["ng-version",aw.full]);else{const{attrs:i,classes:a}=function Mw(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===i?""!==a&&t.push(a,e[++r]):8===i&&n.push(a);else{if(!rn(i))break;i=a}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&pl(e,n,i),a&&a.length>0&&_h(e,n,a.join(" "))}}(g,q,C,r),void 0!==n&&function kx(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const a=n[i];r.push(null!=a?Array.from(a):null)}}(j,this.ngContentSelectors,n),B=function Mx(e,t,n,r,i,a){const c=ft(),f=i[Z],p=Bt(c,i);bp(f,i,c,n,null,r);for(let w=0;w<n.length;w++)vt(gr(i,f,c.directiveStart+w,c),i);_p(f,i,c),p&&vt(p,i);const g=gr(i,f,c.directiveStart+c.componentOffset,c);if(e[Ke]=i[Ke]=g,null!==a)for(const w of a)w(g,t);return fc(f,c,e),g}(Oe,q,K,H,F,[Tx]),dc(N,F,null)}finally{dl()}return new Cx(this.componentType,B,Qr(j,F),F,j)}}class Cx extends ew{constructor(t,n,r,i,a){super(),this.location=r,this._rootLView=i,this._tNode=a,this.instance=n,this.hostView=this.changeDetectorRef=new wx(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const a=this._rootLView;wc(a[Z],a,i,t,n),ks(At(this._tNode.index,a))}}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Tx(){const e=ft();ns(V()[Z],e)}function Sc(e,t,n,r,i){const c=i?"class":"style";wc(e,n,t.inputs[c],c,r)}function Ec(e,t,n,r){const i=V(),a=Ie(),c=He+e,f=i[De],p=a.firstCreatePass?function Xx(e,t,n,r,i,a){const c=t.consts,p=ni(t,e,2,r,Xn(c,i));return function mc(e,t,n,r){if(df()){const i=null===r?null:{"":-1},a=function lx(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let a=0;a<n.length;a++){const c=n[a];if(Qh(t,c.selectors,!1))if(r||(r=[]),nn(c))if(null!==c.findHostDirectiveDefs){const f=[];i=i||new Map,c.findHostDirectiveDefs(c,f,i),r.unshift(...f,c),vc(e,t,f.length)}else r.unshift(c),vc(e,t,0);else i=i||new Map,c.findHostDirectiveDefs?.(c,r,i),r.push(c)}return null===r?null:[r,i]}(e,n);let c,f;null===a?c=f=null:[c,f]=a,null!==c&&bp(e,t,n,c,i,f),i&&function cx(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const a=n[t[i+1]];if(null==a)throw new W(-301,!1);r.push(t[i],a)}}}(n,r,i)}n.mergedAttrs=$i(n.mergedAttrs,n.attrs)}(t,n,p,Xn(c,a)),null!==p.attrs&&Ns(p,p.attrs,!1),null!==p.mergedAttrs&&Ns(p,p.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,p),p}(c,a,i,t,n,r):a.data[c],g=i[c]=Ol(f,t,function sb(){return pe.lFrame.currentNamespace}()),w=function Jo(e){return 1==(1&e.flags)}(p);return mn(p,!0),wh(f,g,p),32!=(32&p.flags)&&ms(a,i,g,p),0===function $1(){return pe.lFrame.elementDepthCount}()&&vt(g,i),function V1(){pe.lFrame.elementDepthCount++}(),w&&(function hc(e,t,n){df()&&(function sx(e,t,n,r){const i=n.directiveStart,a=n.directiveEnd;Ui(n)&&function hx(e,t,n){const r=Bt(t,e),i=gp(n),a=e[Ko],c=As(e,Is(e,i,null,n.onPush?32:16,r,t,a,a.createRenderer(r,n),null,null,null));e[t.index]=c}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||ls(n,t),vt(r,t);const c=n.initialInputs;for(let f=i;f<a;f++){const p=e.data[f],g=gr(t,e,f,n);vt(g,t),null!==c&&px(0,f-i,g,p,0,c),nn(p)&&(At(n.index,t)[Ke]=gr(t,e,f,n))}}(e,t,n,Bt(n,t)),64==(64&n.flags)&&_p(e,t,n))}(a,i,p),fc(a,p,i)),null!==r&&function pc(e,t,n=Bt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let a=0;a<r.length;a+=2){const c=r[a+1],f=-1===c?n(t,e):e[c];e[i++]=f}}}(i,p),Ec}function Ic(){let e=ft();ol()?function sl(){pe.lFrame.isParent=!1}():(e=e.parent,mn(e,!1));const t=e;!function z1(){pe.lFrame.elementDepthCount--}();const n=Ie();return n.firstCreatePass&&(ns(n,e),nl(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ub(e){return 0!=(8&e.flags)}(t)&&Sc(n,t,V(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function db(e){return 0!=(16&e.flags)}(t)&&Sc(n,t,V(),t.stylesWithoutHost,!1),Ic}function Os(e,t,n,r){return Ec(e,t,n,r),Ic(),Os}function Fs(e){return!!e&&"function"==typeof e.then}const qp=function zp(e){return!!e&&"function"==typeof e.subscribe},pi="en-US";let $g=pi;class gi{}class pm{}class gm extends gi{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ep(this);const r=Ot(t);this._bootstrapComponents=On(r.bootstrap),this._r3Injector=op(t,n,[{provide:gi,useValue:this},{provide:no,useValue:this.componentFactoryResolver}],Be(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Vc extends pm{constructor(t){super(),this.moduleType=t}create(t){return new gm(this.moduleType,t)}}class GD extends gi{constructor(t,n,r){super(),this.componentFactoryResolver=new Ep(this),this.instance=null;const i=new Vh([...t,{provide:gi,useValue:this},{provide:no,useValue:this.componentFactoryResolver}],n||Ds(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function zs(e,t,n=null){return new GD(e,t,n).injector}let YD=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Uh(0,n.type),i=r.length>0?zs([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=fe({token:e,providedIn:"environment",factory:()=>new e(ae(Pn))}),e})();function mm(e){e.getStandaloneInjector=t=>t.get(YD).getOrCreateStandaloneInjector(e)}function qc(e){return t=>{setTimeout(e,void 0,t)}}const St=class bC extends Ye{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,a=n||(()=>null),c=r;if(t&&"object"==typeof t){const p=t;i=p.next?.bind(p),a=p.error?.bind(p),c=p.complete?.bind(p)}this.__isAsync&&(a=qc(a),i&&(i=qc(i)),c&&(c=qc(c)));const f=super.subscribe({next:i,error:a,complete:c});return t instanceof m&&t.add(f),f}};let an=(()=>{class e{}return e.__NG_ELEMENT_ID__=CC,e})();function CC(){return function km(e,t){let n;const r=t[e.index];if(tn(r))n=r;else{let i;if(8&e.type)i=dt(r);else{const a=t[De];i=a.createComment("");const c=Bt(e,t);vr(a,gs(a,c),i,function p_(e,t){return e.nextSibling(t)}(a,c),!1)}t[e.index]=n=function wp(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}(r,t,i,e),As(t,n)}return new Mm(n,e,t)}(ft(),V())}const SC=an,Mm=class extends SC{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Qr(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){const t=vl(this._hostTNode,this._hostLView);if(Ef(t)){const n=ss(t,this._hostLView),r=os(t);return new $r(n[Z].data[r+8],n)}return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Am(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(t,n,r){let i,a;"number"==typeof r?i=r:null!=r&&(i=r.index,a=r.injector);const c=t.createEmbeddedView(n||{},a);return this.insert(c,i),c}createComponent(t,n,r,i,a){const c=t&&!function zi(e){return"function"==typeof e}(t);let f;if(c)f=n;else{const C=n||{};f=C.index,r=C.injector,i=C.projectableNodes,a=C.environmentInjector||C.ngModuleRef}const p=c?t:new oo(Re(t)),g=r||this.parentInjector;if(!a&&null==p.ngModule){const A=(c?g:this.parentInjector).get(Pn,null);A&&(a=A)}const w=p.create(g,i,void 0,a);return this.insert(w.hostView,f),w}insert(t,n){const r=t._lView,i=r[Z];if(function H1(e){return tn(e[We])}(r)){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const C=r[We],A=new Mm(C,C[gt],C[We]);A.detach(A.indexOf(t))}}const a=this._adjustIndex(n),c=this._lContainer;!function c_(e,t,n,r){const i=wt+r,a=n.length;r>0&&(n[i-1][en]=t),r<a-wt?(t[en]=n[i],Uf(n,wt+r,t)):(n.push(t),t[en]=null),t[We]=n;const c=t[Fi];null!==c&&n!==c&&function u_(e,t){const n=e[Br];t[mt]!==t[We][We][mt]&&(e[Qd]=!0),null===n?e[Br]=[t]:n.push(t)}(c,t);const f=t[gn];null!==f&&f.insertView(e),t[_e]|=64}(i,r,c,a);const f=jl(a,c),p=r[De],g=gs(p,c[Zo]);return null!==g&&function s_(e,t,n,r,i,a){r[Tn]=i,r[gt]=t,Qi(e,r,n,1,i,a)}(i,c[gt],p,r,g,f),t.attachToViewContainerRef(),Uf(Yc(c),a,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Am(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Fl(this._lContainer,n);r&&(ds(Yc(this._lContainer),n),ch(r[Z],r))}detach(t){const n=this._adjustIndex(t,-1),r=Fl(this._lContainer,n);return r&&null!=ds(Yc(this._lContainer),n)?new io(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Am(e){return e[Qo]}function Yc(e){return e[Qo]||(e[Qo]=[])}function Ys(...e){}const Ws=new le("Application Initializer");let Xs=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Ys,this.reject=Ys,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const a=this.appInits[i]();if(Fs(a))n.push(a);else if(qp(a)){const c=new Promise((f,p)=>{a.subscribe({complete:f,error:p})});n.push(c)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ae(Ws,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const vo=new le("AppId",{providedIn:"root",factory:function n0(){return`${iu()}${iu()}${iu()}`}});function iu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const r0=new le("Platform Initializer"),o0=new le("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let JC=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const jn=new le("LocaleId",{providedIn:"root",factory:()=>Ee(jn,se.Optional|se.SkipSelf)||function eS(){return typeof $localize<"u"&&$localize.locale||pi}()});class nS{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let s0=(()=>{class e{compileModuleSync(n){return new Vc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),a=On(Ot(n).declarations).reduce((c,f)=>{const p=Re(f);return p&&c.push(new oo(p)),c},[]);return new nS(r,a)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const oS=(()=>Promise.resolve(0))();function ou(e){typeof Zone>"u"?oS.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ze{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new St(!1),this.onMicrotaskEmpty=new St(!1),this.onStable=new St(!1),this.onError=new St(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function sS(){let e=je.requestAnimationFrame,t=je.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function cS(e){const t=()=>{!function lS(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(je,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,au(e),e.isCheckStableRunning=!0,su(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),au(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,a,c,f)=>{try{return c0(e),n.invokeTask(i,a,c,f)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),u0(e)}},onInvoke:(n,r,i,a,c,f,p)=>{try{return c0(e),n.invoke(i,a,c,f,p)}finally{e.shouldCoalesceRunChangeDetection&&t(),u0(e)}},onHasTask:(n,r,i,a)=>{n.hasTask(i,a),r===i&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,au(e),su(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(n,r,i,a)=>(n.handleError(i,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ze.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(Ze.isInAngularZone())throw new W(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const a=this._inner,c=a.scheduleEventTask("NgZoneEvent: "+i,t,aS,Ys,Ys);try{return a.runTask(c,n,r)}finally{a.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const aS={};function su(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function au(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function c0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function u0(e){e._nesting--,su(e)}class uS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new St,this.onMicrotaskEmpty=new St,this.onStable=new St,this.onError=new St}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const d0=new le(""),Ks=new le("");let uu,lu=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uu||(function dS(e){uu=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ze.assertNotInAngularZone(),ou(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ou(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==a),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(ae(Ze),ae(cu),ae(Ks))},e.\u0275prov=fe({token:e,factory:e.\u0275fac}),e})(),cu=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return uu?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Hn=!1;let Jn=null;const f0=new le("AllowMultipleToken"),du=new le("PlatformDestroyListeners"),h0=new le("appBootstrapListener");class p0{constructor(t,n){this.name=t,this.token=n}}function m0(e,t,n=[]){const r=`Platform: ${t}`,i=new le(r);return(a=[])=>{let c=fu();if(!c||c.injector.get(f0,!1)){const f=[...n,...a,{provide:i,useValue:!0}];e?e(f):function pS(e){if(Jn&&!Jn.get(f0,!1))throw new W(400,!1);Jn=e;const t=e.get(y0);(function g0(e){const t=e.get(r0,null);t&&t.forEach(n=>n())})(e)}(function v0(e=[],t){return Fn.create({name:t,providers:[{provide:Jl,useValue:"platform"},{provide:du,useValue:new Set([()=>Jn=null])},...e]})}(f,r))}return function mS(e){const t=fu();if(!t)throw new W(401,!1);return t}()}}function fu(){return Jn?.get(y0)??null}let y0=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function _0(e,t){let n;return n="noop"===e?new uS:("zone.js"===e?void 0:e)||new Ze(t),n}(r?.ngZone,function b0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),a=[{provide:Ze,useValue:i}];return i.run(()=>{const c=Fn.create({providers:a,parent:this.injector,name:n.moduleType.name}),f=n.create(c),p=f.injector.get(Jr,null);if(!p)throw new W(402,!1);return i.runOutsideAngular(()=>{const g=i.onError.subscribe({next:w=>{p.handleError(w)}});f.onDestroy(()=>{Qs(this._modules,f),g.unsubscribe()})}),function w0(e,t,n){try{const r=n();return Fs(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(p,i,()=>{const g=f.injector.get(Xs);return g.runInitializers(),g.donePromise.then(()=>(function Vg(e){Vt(e,"Expected localeId to be defined"),"string"==typeof e&&($g=e.toLowerCase().replace(/_/g,"-"))}(f.injector.get(jn,pi)||pi),this._moduleDoBootstrap(f),f))})})}bootstrapModule(n,r=[]){const i=x0({},r);return function fS(e,t,n){const r=new Vc(n);return Promise.resolve(r)}(0,0,n).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(n){const r=n.injector.get(Zs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new W(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new W(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(du,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ae(Fn))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function x0(e,t){return Array.isArray(t)?t.reduce(x0,e):{...e,...t}}let Zs=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new J(f=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{f.next(this._stable),f.complete()})}),c=new J(f=>{let p;this._zone.runOutsideAngular(()=>{p=this._zone.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),ou(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,f.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{f.next(!1)}))});return()=>{p.unsubscribe(),g.unsubscribe()}});this.isStable=function s1(...e){const t=Ti(e),n=function Jy(e,t){return"number"==typeof ja(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Jt(r[0]):Nr(n)(ot(r,t)):fn}(a,c.pipe(function a1(e={}){const{connector:t=(()=>new Ye),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return a=>{let c,f,p,g=0,w=!1,C=!1;const A=()=>{f?.unsubscribe(),f=void 0},N=()=>{A(),c=p=void 0,w=C=!1},F=()=>{const B=c;N(),B?.unsubscribe()};return $e((B,j)=>{g++,!C&&!w&&A();const q=p=p??t();j.add(()=>{g--,0===g&&!C&&!w&&(f=Ha(F,i))}),q.subscribe(j),!c&&g>0&&(c=new z({next:K=>q.next(K),error:K=>{C=!0,A(),f=Ha(N,n,K),q.error(K)},complete:()=>{w=!0,A(),f=Ha(N,r),q.complete()}}),Jt(B).subscribe(c))})(a)}}()))}bootstrap(n,r){const i=n instanceof qh;if(!this._injector.get(Xs).done){!i&&function Lr(e){const t=Re(e)||pt(e)||Mt(e);return null!==t&&t.standalone}(n);throw new W(405,Hn)}let c;c=i?n:this._injector.get(no).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const f=function hS(e){return e.isBoundToModule}(c)?void 0:this._injector.get(gi),g=c.create(Fn.NULL,[],r||c.selector,f),w=g.location.nativeElement,C=g.injector.get(d0,null);return C?.registerApplication(w),g.onDestroy(()=>{this.detachView(g.hostView),Qs(this.components,g),C?.unregisterApplication(w)}),this._loadComponent(g),g}tick(){if(this._runningTick)throw new W(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Qs(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(h0,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Qs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new W(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(ae(Ze),ae(Pn),ae(Jr))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Qs(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let hu=(()=>{class e{}return e.__NG_ELEMENT_ID__=yS,e})();function yS(e){return function bS(e,t,n){if(Ui(e)&&!n){const r=At(e.index,t);return new io(r,r)}return 47&e.type?new io(t[mt],t):null}(ft(),V(),16==(16&e))}const NS=m0(null,"core",[]);let RS=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ae(Zs))},e.\u0275mod=ur({type:e}),e.\u0275inj=Wn({}),e})(),bu=null;function Dr(){return bu}class OS{}const Nt=new le("DocumentToken");let _u=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:function(){return function FS(){return ae(R0)}()},providedIn:"platform"}),e})();const BS=new le("Location Initialized");let R0=(()=>{class e extends _u{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dr().getBaseHref(this._doc)}onPopState(n){const r=Dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){L0()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){L0()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(ae(Nt))},e.\u0275prov=fe({token:e,factory:function(){return function US(){return new R0(ae(Nt))}()},providedIn:"platform"}),e})();function L0(){return!!window.history.pushState}function wu(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function P0(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function $n(e){return e&&"?"!==e[0]?"?"+e:e}let Cr=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:function(){return Ee(F0)},providedIn:"root"}),e})();const O0=new le("appBaseHref");let F0=(()=>{class e extends Cr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ee(Nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return wu(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+$n(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,a){const c=this.prepareExternalUrl(i+$n(a));this._platformLocation.pushState(n,r,c)}replaceState(n,r,i,a){const c=this.prepareExternalUrl(i+$n(a));this._platformLocation.replaceState(n,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(ae(_u),ae(O0,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),jS=(()=>{class e extends Cr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=wu(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,a){let c=this.prepareExternalUrl(i+$n(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(n,r,c)}replaceState(n,r,i,a){let c=this.prepareExternalUrl(i+$n(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(ae(_u),ae(O0,8))},e.\u0275prov=fe({token:e,factory:e.\u0275fac}),e})(),xu=(()=>{class e{constructor(n){this._subject=new St,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function VS(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(P0(B0(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+$n(r))}normalize(n){return e.stripTrailingSlash(function $S(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,B0(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$n(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+$n(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=$n,e.joinWithSlash=wu,e.stripTrailingSlash=P0,e.\u0275fac=function(n){return new(n||e)(ae(Cr))},e.\u0275prov=fe({token:e,factory:function(){return function HS(){return new xu(ae(Cr))}()},providedIn:"root"}),e})();function B0(e){return e.replace(/\/index.html$/,"")}let iI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ur({type:e}),e.\u0275inj=Wn({}),e})();let lI=(()=>{class e{}return e.\u0275prov=fe({token:e,providedIn:"root",factory:()=>new cI(ae(Nt),window)}),e})();class cI{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function uI(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=tv(this.window.history)||tv(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function tv(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class BI extends OS{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Uu extends BI{static makeCurrent(){!function PS(e){bu||(bu=e)}(new Uu)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function UI(){return xo=xo||document.querySelector("base"),xo?xo.getAttribute("href"):null}();return null==n?null:function jI(e){ha=ha||document.createElement("a"),ha.setAttribute("href",e);const t=ha.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){xo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function EE(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,a]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let ha,xo=null;const sv=new le("TRANSITION_ID"),$I=[{provide:Ws,useFactory:function HI(e,t,n){return()=>{n.get(Xs).donePromise.then(()=>{const r=Dr(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[sv,Nt,Fn],multi:!0}];let zI=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac}),e})();const pa=new le("EventManagerPlugins");let ga=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(n))return this._eventNameToPlugin.set(n,c),c}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(ae(pa),ae(Ze))},e.\u0275prov=fe({token:e,factory:e.\u0275fac}),e})();class av{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Dr().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let lv=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let a=i.get(n)??0;return a+=r,a>0?i.set(n,a):i.delete(n),a}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac}),e})(),Do=(()=>{class e extends lv{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(a=>a.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(ae(Nt))},e.\u0275prov=fe({token:e,factory:e.\u0275fac}),e})();const ju={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hu=/%COMP%/g,dv=new le("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function fv(e,t){return t.flat(100).map(n=>n.replace(Hu,e))}function hv(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let $u=(()=>{class e{constructor(n,r,i,a){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Vu(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof mv?i.applyToHost(n):i instanceof zu&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const c=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestory;switch(r.encapsulation){case pn.Emulated:a=new mv(c,f,r,this.appId,p);break;case pn.ShadowDom:return new ZI(c,f,n,r);default:a=new zu(c,f,r,p)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(ae(ga),ae(Do),ae(vo),ae(dv))},e.\u0275prov=fe({token:e,factory:e.\u0275fac}),e})();class Vu{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(ju[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(gv(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(gv(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const a=ju[i];a?t.setAttributeNS(a,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=ju[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(kt.DashCase|kt.Important)?t.style.setProperty(n,r,i&kt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&kt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,hv(r)):this.eventManager.addEventListener(t,n,hv(r))}}function gv(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class ZI extends Vu{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=fv(i.id,i.styles);for(const c of a){const f=document.createElement("style");f.textContent=c,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zu extends Vu{constructor(t,n,r,i,a=r.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=fv(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class mv extends zu{constructor(t,n,r,i,a){const c=i+"-"+r.id;super(t,n,r,a,c),this.contentAttr=function WI(e){return"_ngcontent-%COMP%".replace(Hu,e)}(c),this.hostAttr=function XI(e){return"_nghost-%COMP%".replace(Hu,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let QI=(()=>{class e extends av{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(ae(Nt))},e.\u0275prov=fe({token:e,factory:e.\u0275fac}),e})();const vv=["alt","control","meta","shift"],JI={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let tM=(()=>{class e extends av{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const a=e.parseEventName(r),c=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dr().onAndCancel(n,a.domEventName,c))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=e._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),vv.forEach(g=>{const w=r.indexOf(g);w>-1&&(r.splice(w,1),c+=g+".")}),c+=a,0!=r.length||0===a.length)return null;const p={};return p.domEventName=i,p.fullKey=c,p}static matchEventFullKeyCode(n,r){let i=JI[n.key]||n.key,a="";return r.indexOf("code.")>-1&&(i=n.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),vv.forEach(c=>{c!==i&&(0,eM[c])(n)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(n,r,i){return a=>{e.matchEventFullKeyCode(a,n)&&i.runGuarded(()=>r(a))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(ae(Nt))},e.\u0275prov=fe({token:e,factory:e.\u0275fac}),e})();const oM=m0(NS,"browser",[{provide:o0,useValue:"browser"},{provide:r0,useValue:function nM(){Uu.makeCurrent()},multi:!0},{provide:Nt,useFactory:function iM(){return function x_(e){zl=e}(document),document},deps:[]}]),_v=new le(""),wv=[{provide:Ks,useClass:class VI{addToWindow(t){je.getAngularTestability=(r,i=!0)=>{const a=t.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},je.getAllAngularTestabilities=()=>t.getAllTestabilities(),je.getAllAngularRootElements=()=>t.getAllRootElements(),je.frameworkStabilizers||(je.frameworkStabilizers=[]),je.frameworkStabilizers.push(r=>{const i=je.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(p){c=c||p,a--,0==a&&r(c)};i.forEach(function(p){p.whenStable(f)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Dr().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:d0,useClass:lu,deps:[Ze,cu,Ks]},{provide:lu,useClass:lu,deps:[Ze,cu,Ks]}],xv=[{provide:Jl,useValue:"root"},{provide:Jr,useFactory:function rM(){return new Jr},deps:[]},{provide:pa,useClass:QI,multi:!0,deps:[Nt,Ze,o0]},{provide:pa,useClass:tM,multi:!0,deps:[Nt]},{provide:$u,useClass:$u,deps:[ga,Do,vo,dv]},{provide:Yh,useExisting:$u},{provide:lv,useExisting:Do},{provide:Do,useClass:Do,deps:[Nt]},{provide:ga,useClass:ga,deps:[pa,Ze]},{provide:class dI{},useClass:zI,deps:[]},[]];let sM=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:vo,useValue:n.appId},{provide:sv,useExisting:vo},$I]}}}return e.\u0275fac=function(n){return new(n||e)(ae(_v,12))},e.\u0275mod=ur({type:e}),e.\u0275inj=Wn({providers:[...xv,...wv],imports:[iI,RS]}),e})(),Dv=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(ae(Nt))},e.\u0275prov=fe({token:e,factory:function(n){let r=null;return r=n?new n:function lM(){return new Dv(ae(Nt))}(),r},providedIn:"root"}),e})();function ie(...e){return ot(e,Ti(e))}typeof window<"u"&&window;class dn extends Ye{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const ma=u(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:pM}=Array,{getPrototypeOf:gM,prototype:mM,keys:vM}=Object;const{isArray:_M}=Array;function Ev(...e){const t=Ti(e),n=function Qy(e){return l(ja(e))?e.pop():void 0}(e),{args:r,keys:i}=function yM(e){if(1===e.length){const t=e[0];if(pM(t))return{args:t,keys:null};if(function bM(e){return e&&"object"==typeof e&&gM(e)===mM}(t)){const n=vM(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return ot([],t);const a=new J(function CM(e,t,n=be){return r=>{Iv(t,()=>{const{length:i}=e,a=new Array(i);let c=i,f=i;for(let p=0;p<i;p++)Iv(t,()=>{const g=ot(e[p],t);let w=!1;g.subscribe(ye(r,C=>{a[p]=C,w||(w=!0,f--),f||r.next(n(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,t,i?c=>function DM(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,c):be));return n?a.pipe(function xM(e){return ne(t=>function wM(e,t){return _M(t)?e(...t):e(t)}(e,t))}(n)):a}function Iv(e,t,n){e?In(n,e,t):t()}function Yu(...e){return function SM(){return Nr(1)}()(ot(e,Ti(e)))}function Mv(e){return new J(t=>{Jt(e()).subscribe(t)})}function Co(e,t){const n=l(e)?e:()=>e,r=i=>i.error(n());return new J(t?i=>t.schedule(r,0,i):r)}function Wu(){return $e((e,t)=>{let n=null;e._refCount++;const r=ye(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,a=n;n=null,i&&(!a||i===a)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class Av extends J{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Y(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new m;const n=this.getSubject();t.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=m.EMPTY)}return t}refCount(){return Wu()(this)}}function xn(e,t){return $e((n,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();n.subscribe(ye(r,p=>{i?.unsubscribe();let g=0;const w=a++;Jt(e(p,w)).subscribe(i=ye(r,C=>r.next(t?t(p,C,w,g++):C),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function yi(e){return e<=0?()=>fn:$e((t,n)=>{let r=0;t.subscribe(ye(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function tr(e,t){return $e((n,r)=>{let i=0;n.subscribe(ye(r,a=>e.call(t,a,i++)&&r.next(a)))})}function va(e){return $e((t,n)=>{let r=!1;t.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function kv(e=IM){return $e((t,n)=>{let r=!1;t.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function IM(){return new ma}function nr(e,t){const n=arguments.length>=2;return r=>r.pipe(e?tr((i,a)=>e(i,a,r)):be,yi(1),n?va(t):kv(()=>new ma))}function Sr(e,t){return l(t)?ut(e,t,1):ut(e,1)}function bt(e,t,n){const r=l(e)||t||n?{next:e,error:t,complete:n}:e;return r?$e((i,a)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let f=!0;i.subscribe(ye(a,p=>{var g;null===(g=r.next)||void 0===g||g.call(r,p),a.next(p)},()=>{var p;f=!1,null===(p=r.complete)||void 0===p||p.call(r),a.complete()},p=>{var g;f=!1,null===(g=r.error)||void 0===g||g.call(r,p),a.error(p)},()=>{var p,g;f&&(null===(p=r.unsubscribe)||void 0===p||p.call(r)),null===(g=r.finalize)||void 0===g||g.call(r)}))}):be}function rr(e){return $e((t,n)=>{let a,r=null,i=!1;r=t.subscribe(ye(n,void 0,void 0,c=>{a=Jt(e(c,rr(e)(t))),r?(r.unsubscribe(),r=null,a.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(n))})}function Tv(e,t){return $e(function MM(e,t,n,r,i){return(a,c)=>{let f=n,p=t,g=0;a.subscribe(ye(c,w=>{const C=g++;p=f?e(p,w,C):(f=!0,w),r&&c.next(p)},i&&(()=>{f&&c.next(p),c.complete()})))}}(e,t,arguments.length>=2,!0))}function Xu(e){return e<=0?()=>fn:$e((t,n)=>{let r=[];t.subscribe(ye(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Nv(e,t){const n=arguments.length>=2;return r=>r.pipe(e?tr((i,a)=>e(i,a,r)):be,Xu(1),n?va(t):kv(()=>new ma))}function Ku(e){return $e((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const me="primary",So=Symbol("RouteTitle");class TM{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function bi(e){return new TM(e)}function NM(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=e[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Dn(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let a=0;a<n.length;a++)if(i=n[a],!Rv(e[i],t[i]))return!1;return!0}function Rv(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,a)=>r[a]===i)}return e===t}function Lv(e){return Array.prototype.concat.apply([],e)}function Pv(e){return e.length>0?e[e.length-1]:null}function ht(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ir(e){return qp(e)?e:Fs(e)?ot(Promise.resolve(e)):ie(e)}const ya=!1,LM={exact:function Bv(e,t,n){if(!Er(e.segments,t.segments)||!ba(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!Bv(e.children[r],t.children[r],n))return!1;return!0},subset:Uv},Ov={exact:function PM(e,t){return Dn(e,t)},subset:function OM(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Rv(e[n],t[n]))},ignored:()=>!0};function Fv(e,t,n){return LM[n.paths](e.root,t.root,n.matrixParams)&&Ov[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Uv(e,t,n){return jv(e,t,t.segments,n)}function jv(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Er(i,n)||t.hasChildren()||!ba(i,n,r))}if(e.segments.length===n.length){if(!Er(e.segments,n)||!ba(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!Uv(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),a=n.slice(e.segments.length);return!!(Er(e.segments,i)&&ba(e.segments,i,r)&&e.children[me])&&jv(e.children[me],t,a,r)}}function ba(e,t,n){return t.every((r,i)=>Ov[n](e[i].parameters,r.parameters))}class or{constructor(t=new Ce([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bi(this.queryParams)),this._queryParamMap}toString(){return UM.serialize(this)}}class Ce{constructor(t,n){this.segments=t,this.children=n,this.parent=null,ht(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _a(this)}}class Eo{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=bi(this.parameters)),this._parameterMap}toString(){return Vv(this)}}function Er(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Io=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:function(){return new Zu},providedIn:"root"}),e})();class Zu{parse(t){const n=new WM(t);return new or(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Mo(t.root,!0)}`,r=function $M(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${wa(n)}=${wa(i)}`).join("&"):`${wa(n)}=${wa(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function jM(e){return encodeURI(e)}(t.fragment)}`:""}`}}const UM=new Zu;function _a(e){return e.segments.map(t=>Vv(t)).join("/")}function Mo(e,t){if(!e.hasChildren())return _a(e);if(t){const n=e.children[me]?Mo(e.children[me],!1):"",r=[];return ht(e.children,(i,a)=>{a!==me&&r.push(`${a}:${Mo(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function BM(e,t){let n=[];return ht(e.children,(r,i)=>{i===me&&(n=n.concat(t(r,i)))}),ht(e.children,(r,i)=>{i!==me&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===me?[Mo(e.children[me],!1)]:[`${i}:${Mo(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[me]?`${_a(e)}/${n[0]}`:`${_a(e)}/(${n.join("//")})`}}function Hv(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wa(e){return Hv(e).replace(/%3B/gi,";")}function Qu(e){return Hv(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xa(e){return decodeURIComponent(e)}function $v(e){return xa(e.replace(/\+/g,"%20"))}function Vv(e){return`${Qu(e.path)}${function HM(e){return Object.keys(e).map(t=>`;${Qu(t)}=${Qu(e[t])}`).join("")}(e.parameters)}`}const VM=/^[^\/()?;=#]+/;function Da(e){const t=e.match(VM);return t?t[0]:""}const zM=/^[^=?&#]+/,GM=/^[^&#]+/;class WM{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[me]=new Ce(t,n)),r}parseSegment(){const t=Da(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new W(4009,ya);return this.capture(t),new Eo(xa(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Da(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Da(this.remaining);i&&(r=i,this.capture(r))}t[xa(n)]=xa(r)}parseQueryParam(t){const n=function qM(e){const t=e.match(zM);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const c=function YM(e){const t=e.match(GM);return t?t[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=$v(n),a=$v(r);if(t.hasOwnProperty(i)){let c=t[i];Array.isArray(c)||(c=[c],t[i]=c),c.push(a)}else t[i]=a}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Da(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new W(4010,ya);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=me);const c=this.parseChildren();n[a]=1===Object.keys(c).length?c[me]:new Ce([],c),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new W(4011,ya)}}function Ju(e){return e.segments.length>0?new Ce([],{[me]:e}):e}function Ca(e){const t={};for(const r of Object.keys(e.children)){const a=Ca(e.children[r]);(a.segments.length>0||a.hasChildren())&&(t[r]=a)}return function XM(e){if(1===e.numberOfChildren&&e.children[me]){const t=e.children[me];return new Ce(e.segments.concat(t.segments),t.children)}return e}(new Ce(e.segments,t))}function Ir(e){return e instanceof or}const ed=!1;function KM(e,t,n,r,i){if(0===n.length)return _i(t.root,t.root,t.root,r,i);const a=function Wv(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Yv(!0,0,e);let t=0,n=!1;const r=e.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return ht(a.outlets,(p,g)=>{f[g]="string"==typeof p?p.split("/"):p}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,p)=>{0==p&&"."===f||(0==p&&""===f?n=!0:".."===f?t++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Yv(n,t,r)}(n);return a.toRoot()?_i(t.root,t.root,new Ce([],{}),r,i):function c(p){const g=function QM(e,t,n,r){if(e.isAbsolute)return new wi(t.root,!0,0);if(-1===r)return new wi(n,n===t.root,0);return function Xv(e,t,n){let r=e,i=t,a=n;for(;a>i;){if(a-=i,r=r.parent,!r)throw new W(4005,ed&&"Invalid number of '../'");i=r.segments.length}return new wi(r,!1,i-a)}(n,r+(Ao(e.commands[0])?0:1),e.numberOfDoubleDots)}(a,t,e.snapshot?._urlSegment,p),w=g.processChildren?xi(g.segmentGroup,g.index,a.commands):td(g.segmentGroup,g.index,a.commands);return _i(t.root,g.segmentGroup,w,r,i)}(e.snapshot?._lastPathIndex)}function Ao(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ko(e){return"object"==typeof e&&null!=e&&e.outlets}function _i(e,t,n,r,i){let c,a={};r&&ht(r,(p,g)=>{a[g]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),c=e===t?n:Gv(e,t,n);const f=Ju(Ca(c));return new or(f,a,i)}function Gv(e,t,n){const r={};return ht(e.children,(i,a)=>{r[a]=i===t?n:Gv(i,t,n)}),new Ce(e.segments,r)}class Yv{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Ao(r[0]))throw new W(4003,ed&&"Root segment cannot have matrix parameters");const i=r.find(ko);if(i&&i!==Pv(r))throw new W(4004,ed&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wi{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function td(e,t,n){if(e||(e=new Ce([],{})),0===e.segments.length&&e.hasChildren())return xi(e,t,n);const r=function eA(e,t,n){let r=0,i=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return a;const c=e.segments[i],f=n[r];if(ko(f))break;const p=`${f}`,g=r<n.length-1?n[r+1]:null;if(i>0&&void 0===p)break;if(p&&g&&"object"==typeof g&&void 0===g.outlets){if(!Zv(p,g,c))return a;r+=2}else{if(!Zv(p,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const a=new Ce(e.segments.slice(0,r.pathIndex),{});return a.children[me]=new Ce(e.segments.slice(r.pathIndex),e.children),xi(a,0,i)}return r.match&&0===i.length?new Ce(e.segments,{}):r.match&&!e.hasChildren()?nd(e,t,n):r.match?xi(e,0,i):nd(e,t,n)}function xi(e,t,n){if(0===n.length)return new Ce(e.segments,{});{const r=function JM(e){return ko(e[0])?e[0].outlets:{[me]:e}}(n),i={};if(!r[me]&&e.children[me]&&1===e.numberOfChildren&&0===e.children[me].segments.length){const a=xi(e.children[me],t,n);return new Ce(e.segments,a.children)}return ht(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=td(e.children[c],t,a))}),ht(e.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new Ce(e.segments,i)}}function nd(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const a=n[i];if(ko(a)){const p=tA(a.outlets);return new Ce(r,p)}if(0===i&&Ao(n[0])){r.push(new Eo(e.segments[t].path,Kv(n[0]))),i++;continue}const c=ko(a)?a.outlets[me]:`${a}`,f=i<n.length-1?n[i+1]:null;c&&f&&Ao(f)?(r.push(new Eo(c,Kv(f))),i+=2):(r.push(new Eo(c,{})),i++)}return new Ce(r,{})}function tA(e){const t={};return ht(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=nd(new Ce([],{}),0,n))}),t}function Kv(e){const t={};return ht(e,(n,r)=>t[r]=`${n}`),t}function Zv(e,t,n){return e==n.path&&Dn(t,n.parameters)}const To="imperative";class Cn{constructor(t,n){this.id=t,this.url=n}}class rd extends Cn{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mr extends Cn{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sa extends Cn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ea extends Cn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class id extends Cn{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nA extends Cn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rA extends Cn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iA extends Cn{constructor(t,n,r,i,a){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oA extends Cn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sA extends Cn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aA{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lA{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cA{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uA{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dA{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fA{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qv{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let gA=(()=>{class e{createUrlTree(n,r,i,a,c,f){return KM(n||r.root,i,a,c,f)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac}),e})(),vA=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:function(t){return gA.\u0275fac(t)},providedIn:"root"}),e})();class Jv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=od(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=od(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=sd(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return sd(t,this._root).map(n=>n.value)}}function od(e,t){if(e===t.value)return t;for(const n of t.children){const r=od(e,n);if(r)return r}return null}function sd(e,t){if(e===t.value)return[t];for(const n of t.children){const r=sd(e,n);if(r.length)return r.unshift(t),r}return[]}class zn{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Di(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class ey extends Jv{constructor(t,n){super(t),this.snapshot=n,ad(this,t)}toString(){return this.snapshot.toString()}}function ty(e,t){const n=function yA(e,t){const c=new Ia([],{},{},"",{},me,t,null,e.root,-1,{});return new ry("",new zn(c,[]))}(e,t),r=new dn([new Eo("",{})]),i=new dn({}),a=new dn({}),c=new dn({}),f=new dn(""),p=new Ci(r,i,c,f,a,me,t,n.root);return p.snapshot=n.root,new ey(new zn(p,[]),n)}class Ci{constructor(t,n,r,i,a,c,f,p){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.pipe(ne(g=>g[So]))??ie(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ne(t=>bi(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ne(t=>bi(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ny(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function bA(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ia{get title(){return this.data?.[So]}constructor(t,n,r,i,a,c,f,p,g,w,C){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=p,this._urlSegment=g,this._lastPathIndex=w,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ry extends Jv{constructor(t,n){super(n),this.url=t,ad(this,n)}toString(){return iy(this._root)}}function ad(e,t){t.value._routerState=e,t.children.forEach(n=>ad(e,n))}function iy(e){const t=e.children.length>0?` { ${e.children.map(iy).join(", ")} } `:"";return`${e.value}${t}`}function ld(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Dn(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Dn(t.params,n.params)||e.params.next(n.params),function RM(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Dn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Dn(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function cd(e,t){const n=Dn(e.params,t.params)&&function FM(e,t){return Er(e,t)&&e.every((n,r)=>Dn(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||cd(e.parent,t.parent))}function No(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function wA(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return No(e,r,i);return No(e,r)})}(e,t,n);return new zn(r,i)}{if(e.shouldAttach(t.value)){const a=e.retrieve(t.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(f=>No(e,f)),c}}const r=function xA(e){return new Ci(new dn(e.url),new dn(e.params),new dn(e.queryParams),new dn(e.fragment),new dn(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(a=>No(e,a));return new zn(r,i)}}const ud="ngNavigationCancelingError";function oy(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Ir(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=sy(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function sy(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[ud]=!0,r.cancellationCode=t,n&&(r.url=n),r}function ay(e){return ly(e)&&Ir(e.url)}function ly(e){return e&&e[ud]}class DA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ro,this.attachRef=null}}let Ro=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new DA,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ma=!1;let cy=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new St,this.deactivateEvents=new St,this.attachEvents=new St,this.detachEvents=new St,this.parentContexts=Ee(Ro),this.location=Ee(an),this.changeDetector=Ee(hu),this.environmentInjector=Ee(Pn)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,Ma);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,Ma);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,Ma);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new W(4013,Ma);this._activatedRoute=n;const i=this.location,c=n.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,p=new CA(n,f,i.injector);if(r&&function SA(e){return!!e.resolveComponentFactory}(r)){const g=r.resolveComponentFactory(c);this.activated=i.createComponent(g,i.length,p)}else this.activated=i.createComponent(c,{index:i.length,injector:p,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=_t({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[hr]}),e})();class CA{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Ci?this.route:t===Ro?this.childContexts:this.parent.get(t,n)}}let dd=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ja({type:e,selectors:[["ng-component"]],standalone:!0,features:[mm],decls:1,vars:0,template:function(n,r){1&n&&Os(0,"router-outlet")},dependencies:[cy],encapsulation:2}),e})();function uy(e,t){return e.providers&&!e._injector&&(e._injector=zs(e.providers,t,`Route: ${e.path}`)),e._injector??t}function hd(e){const t=e.children&&e.children.map(hd),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=dd),n}function Kt(e){return e.outlet||me}function dy(e,t){const n=e.filter(r=>Kt(r)===t);return n.push(...e.filter(r=>Kt(r)!==t)),n}function Lo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class kA{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),ld(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Di(n);t.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),ht(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(t,n,r){const i=t.value,a=n?n.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(t,n,c.children)}else this.deactivateChildRoutes(t,n,r);else a&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,a=Di(t);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:f})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,a=Di(t);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=Di(n);t.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new fA(a.value.snapshot))}),t.children.length&&this.forwardEvent(new uA(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,a=n?n.value:null;if(ld(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,c.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),ld(f.route.value),this.activateChildRoutes(t,null,c.children)}else{const f=Lo(i.snapshot),p=f?.get(no)??null;c.attachRef=null,c.route=i,c.resolver=p,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,r)}}class fy{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Aa{constructor(t,n){this.component=t,this.route=n}}function TA(e,t,n){const r=e._root;return Po(r,t?t._root:null,n,[r.value])}function Si(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function p1(e){return null!==Vo(e)}(e)?t.get(e):e:r}function Po(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Di(t);return e.children.forEach(c=>{(function RA(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=e.value,c=t?t.value:null,f=n?n.getContext(e.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const p=function LA(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Er(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Er(e.url,t.url)||!Dn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cd(e,t)||!Dn(e.queryParams,t.queryParams);default:return!cd(e,t)}}(c,a,a.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new fy(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Po(e,t,a.component?f?f.children:null:n,r,i),p&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Aa(f.outlet.component,c))}else c&&Oo(t,f,i),i.canActivateChecks.push(new fy(r)),Po(e,null,a.component?f?f.children:null:n,r,i)})(c,a[c.value.outlet],n,r.concat([c.value]),i),delete a[c.value.outlet]}),ht(a,(c,f)=>Oo(c,n.getContext(f),i)),i}function Oo(e,t,n){const r=Di(e),i=e.value;ht(r,(a,c)=>{Oo(a,i.component?t?t.children.getContext(c):null:t,n)}),n.canDeactivateChecks.push(new Aa(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Fo(e){return"function"==typeof e}function pd(e){return e instanceof ma||"EmptyError"===e?.name}const ka=Symbol("INITIAL_VALUE");function Ei(){return xn(e=>Ev(e.map(t=>t.pipe(yi(1),function EM(...e){const t=Ti(e);return $e((n,r)=>{(t?Yu(e,n,t):Yu(e,n)).subscribe(r)})}(ka)))).pipe(ne(t=>{for(const n of t)if(!0!==n){if(n===ka)return ka;if(!1===n||n instanceof or)return n}return!0}),tr(t=>t!==ka),yi(1)))}function hy(e){return function ve(...e){return Le(e)}(bt(t=>{if(Ir(t))throw oy(0,t)}),ne(t=>!0===t))}const gd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function py(e,t,n,r,i){const a=md(e,t,n);return a.matched?function ZA(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?ie(i.map(c=>{const f=Si(c,e);return ir(function jA(e){return e&&Fo(e.canMatch)}(f)?f.canMatch(t,n):e.runInContext(()=>f(t,n)))})).pipe(Ei(),hy()):ie(!0)}(r=uy(t,r),t,n).pipe(ne(c=>!0===c?a:{...gd})):ie(a)}function md(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...gd}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||NM)(n,e,t);if(!i)return{...gd};const a={};ht(i.posParams,(f,p)=>{a[p]=f.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Ta(e,t,n,r){if(n.length>0&&function e3(e,t,n){return n.some(r=>Na(e,t,r)&&Kt(r)!==me)}(e,n,r)){const a=new Ce(t,function JA(e,t,n,r){const i={};i[me]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const a of n)if(""===a.path&&Kt(a)!==me){const c=new Ce([],{});c._sourceSegment=e,c._segmentIndexShift=t.length,i[Kt(a)]=c}return i}(e,t,r,new Ce(n,e.children)));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function t3(e,t,n){return n.some(r=>Na(e,t,r))}(e,n,r)){const a=new Ce(e.segments,function QA(e,t,n,r,i){const a={};for(const c of r)if(Na(e,n,c)&&!i[Kt(c)]){const f=new Ce([],{});f._sourceSegment=e,f._segmentIndexShift=t.length,a[Kt(c)]=f}return{...i,...a}}(e,t,n,r,e.children));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}const i=new Ce(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function Na(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function gy(e,t,n,r){return!!(Kt(e)===r||r!==me&&Na(t,n,e))&&("**"===e.path||md(t,e,n).matched)}function my(e,t,n){return 0===t.length&&!e.children[n]}const Ra=!1;class La{constructor(t){this.segmentGroup=t||null}}class vy{constructor(t){this.urlTree=t}}function Bo(e){return Co(new La(e))}function yy(e){return Co(new vy(e))}class o3{constructor(t,n,r,i,a){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const t=Ta(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ce(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,me).pipe(ne(a=>this.createUrlTree(Ca(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(rr(a=>{if(a instanceof vy)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof La?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,me).pipe(ne(i=>this.createUrlTree(Ca(i),t.queryParams,t.fragment))).pipe(rr(i=>{throw i instanceof La?this.noMatchError(i):i}))}noMatchError(t){return new W(4002,Ra)}createUrlTree(t,n,r){const i=Ju(t);return new or(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(ne(a=>new Ce([],a))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return ot(i).pipe(Sr(a=>{const c=r.children[a],f=dy(n,a);return this.expandSegmentGroup(t,f,c,a).pipe(ne(p=>({segment:p,outlet:a})))}),Tv((a,c)=>(a[c.outlet]=c.segment,a),{}),Nv())}expandSegment(t,n,r,i,a,c){return ot(r).pipe(Sr(f=>this.expandSegmentAgainstRoute(t,n,r,f,i,a,c).pipe(rr(g=>{if(g instanceof La)return ie(null);throw g}))),nr(f=>!!f),rr((f,p)=>{if(pd(f))return my(n,i,a)?ie(new Ce([],{})):Bo(n);throw f}))}expandSegmentAgainstRoute(t,n,r,i,a,c,f){return gy(i,n,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,a,c):Bo(n):Bo(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?yy(a):this.lineralizeSegments(r,a).pipe(ut(c=>{const f=new Ce(c,{});return this.expandSegment(t,f,n,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,a,c){const{matched:f,consumedSegments:p,remainingSegments:g,positionalParamSegments:w}=md(n,i,a);if(!f)return Bo(n);const C=this.applyRedirectCommands(p,i.redirectTo,w);return i.redirectTo.startsWith("/")?yy(C):this.lineralizeSegments(i,C).pipe(ut(A=>this.expandSegment(t,n,r,A.concat(g),c,!1)))}matchSegmentAgainstRoute(t,n,r,i,a){return"**"===r.path?(t=uy(r,t),r.loadChildren?(r._loadedRoutes?ie({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(ne(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Ce(i,{})))):ie(new Ce(i,{}))):py(n,r,i,t).pipe(xn(({matched:c,consumedSegments:f,remainingSegments:p})=>c?this.getChildConfig(t=r._injector??t,r,i).pipe(ut(w=>{const C=w.injector??t,A=w.routes,{segmentGroup:N,slicedSegments:F}=Ta(n,f,p,A),B=new Ce(N.segments,N.children);if(0===F.length&&B.hasChildren())return this.expandChildren(C,A,B).pipe(ne(H=>new Ce(f,H)));if(0===A.length&&0===F.length)return ie(new Ce(f,{}));const j=Kt(r)===a;return this.expandSegment(C,B,A,F,j?me:a,!0).pipe(ne(K=>new Ce(f.concat(K.segments),K.children)))})):Bo(n)))}getChildConfig(t,n,r){return n.children?ie({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?ie({routes:n._loadedRoutes,injector:n._loadedInjector}):function KA(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?ie(!0):ie(i.map(c=>{const f=Si(c,e);return ir(function OA(e){return e&&Fo(e.canLoad)}(f)?f.canLoad(t,n):e.runInContext(()=>f(t,n)))})).pipe(Ei(),hy())}(t,n,r).pipe(ut(i=>i?this.configLoader.loadChildren(t,n).pipe(bt(a=>{n._loadedRoutes=a.routes,n._loadedInjector=a.injector})):function r3(e){return Co(sy(Ra,3))}())):ie({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ie(r);if(i.numberOfChildren>1||!i.children[me])return t.redirectTo,Co(new W(4e3,Ra));i=i.children[me]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const a=this.createSegmentGroup(t,n.root,r,i);return new or(a,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return ht(t,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=n[f]}else r[a]=i}),r}createSegmentGroup(t,n,r,i){const a=this.createSegments(t,n.segments,r,i);let c={};return ht(n.children,(f,p)=>{c[p]=this.createSegmentGroup(t,f,r,i)}),new Ce(a,c)}createSegments(t,n,r,i){return n.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,i):this.findOrReturn(a,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new W(4001,Ra);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}class a3{}class u3{constructor(t,n,r,i,a,c,f){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.urlSerializer=f}recognize(){const t=Ta(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,me).pipe(ne(n=>{if(null===n)return null;const r=new Ia([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},me,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new zn(r,n),a=new ry(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(t){const n=t.value,r=ny(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i)}processChildren(t,n,r){return ot(Object.keys(r.children)).pipe(Sr(i=>{const a=r.children[i],c=dy(n,i);return this.processSegmentGroup(t,c,a,i)}),Tv((i,a)=>i&&a?(i.push(...a),i):null),function AM(e,t=!1){return $e((n,r)=>{let i=0;n.subscribe(ye(r,a=>{const c=e(a,i++);(c||t)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),va(null),Nv(),ne(i=>{if(null===i)return null;const a=_y(i);return function d3(e){e.sort((t,n)=>t.value.outlet===me?-1:n.value.outlet===me?1:t.value.outlet.localeCompare(n.value.outlet))}(a),a}))}processSegment(t,n,r,i,a){return ot(n).pipe(Sr(c=>this.processSegmentAgainstRoute(c._injector??t,c,r,i,a)),nr(c=>!!c),rr(c=>{if(pd(c))return my(r,i,a)?ie([]):ie(null);throw c}))}processSegmentAgainstRoute(t,n,r,i,a){if(n.redirectTo||!gy(n,r,i,a))return ie(null);let c;if("**"===n.path){const f=i.length>0?Pv(i).parameters:{},p=xy(r)+i.length;c=ie({snapshot:new Ia(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dy(n),Kt(n),n.component??n._loadedComponent??null,n,wy(r),p,Cy(n)),consumedSegments:[],remainingSegments:[]})}else c=py(r,n,i,t).pipe(ne(({matched:f,consumedSegments:p,remainingSegments:g,parameters:w})=>{if(!f)return null;const C=xy(r)+p.length;return{snapshot:new Ia(p,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dy(n),Kt(n),n.component??n._loadedComponent??null,n,wy(r),C,Cy(n)),consumedSegments:p,remainingSegments:g}}));return c.pipe(xn(f=>{if(null===f)return ie(null);const{snapshot:p,consumedSegments:g,remainingSegments:w}=f;t=n._injector??t;const C=n._loadedInjector??t,A=function f3(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:N,slicedSegments:F}=Ta(r,g,w,A.filter(j=>void 0===j.redirectTo));if(0===F.length&&N.hasChildren())return this.processChildren(C,A,N).pipe(ne(j=>null===j?null:[new zn(p,j)]));if(0===A.length&&0===F.length)return ie([new zn(p,[])]);const B=Kt(n)===a;return this.processSegment(C,A,N,F,B?me:a).pipe(ne(j=>null===j?null:[new zn(p,j)]))}))}}function h3(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function _y(e){const t=[],n=new Set;for(const r of e){if(!h3(r)){t.push(r);continue}const i=t.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=_y(r.children);t.push(new zn(r.value,i))}return t.filter(r=>!n.has(r))}function wy(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function xy(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function Dy(e){return e.data||{}}function Cy(e){return e.resolve||{}}function Sy(e){return"string"==typeof e.title||null===e.title}function vd(e){return xn(t=>{const n=e(t);return n?ot(n).pipe(ne(()=>t)):ie(t)})}const Ii=new le("ROUTES");let yd=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ee(s0)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ie(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ir(n.loadComponent()).pipe(ne(Iy),bt(a=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=a}),Ku(()=>{this.componentLoaders.delete(n)})),i=new Av(r,()=>new Ye).pipe(Wu());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ie({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ne(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let p,g,w=!1;Array.isArray(f)?g=f:(p=f.create(n).injector,g=Lv(p.get(Ii,[],se.Self|se.Optional)));return{routes:g.map(hd),injector:p}}),Ku(()=>{this.childrenLoaders.delete(r)})),c=new Av(a,()=>new Ye).pipe(Wu());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(n){return ir(n()).pipe(ne(Iy),ut(r=>r instanceof pm||Array.isArray(r)?ie(r):ot(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Iy(e){return function w3(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Oa=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ye,this.configLoader=Ee(yd),this.environmentInjector=Ee(Pn),this.urlSerializer=Ee(Io),this.rootContexts=Ee(Ro),this.navigationId=0,this.afterPreactivation=()=>ie(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new lA(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new aA(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new dn({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:To,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tr(r=>0!==r.id),ne(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),xn(r=>{let i=!1,a=!1;return ie(r).pipe(bt(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xn(c=>{const f=n.browserUrlTree.toString(),p=!n.navigated||c.extractedUrl.toString()!==f||f!==n.currentUrlTree.toString();if(!p&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const w="";return this.events.next(new Ea(c.id,n.serializeUrl(r.rawUrl),w,0)),n.rawUrlTree=c.rawUrl,c.resolve(null),fn}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return My(c.source)&&(n.browserUrlTree=c.extractedUrl),ie(c).pipe(xn(w=>{const C=this.transitions?.getValue();return this.events.next(new rd(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),C!==this.transitions?.getValue()?fn:Promise.resolve(w)}),function s3(e,t,n,r){return xn(i=>function i3(e,t,n,r,i){return new o3(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(ne(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),bt(w=>{this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects},r.urlAfterRedirects=w.urlAfterRedirects}),function g3(e,t,n,r,i){return ut(a=>function c3(e,t,n,r,i,a,c="emptyOnly"){return new u3(e,t,n,r,i,c,a).recognize().pipe(xn(f=>null===f?function l3(e){return new J(t=>t.error(e))}(new a3):ie(f)))}(e,t,n,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe(ne(c=>({...a,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),bt(w=>{if(r.targetSnapshot=w.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!w.extras.skipLocationChange){const A=n.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);n.setBrowserUrl(A,w)}n.browserUrlTree=w.urlAfterRedirects}const C=new nA(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(C)}));if(p&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:w,extractedUrl:C,source:A,restoredState:N,extras:F}=c,B=new rd(w,this.urlSerializer.serialize(C),A,N);this.events.next(B);const j=ty(C,this.rootComponentType).snapshot;return ie(r={...c,targetSnapshot:j,urlAfterRedirects:C,extras:{...F,skipLocationChange:!1,replaceUrl:!1}})}{const w="";return this.events.next(new Ea(c.id,n.serializeUrl(r.extractedUrl),w,1)),n.rawUrlTree=c.rawUrl,c.resolve(null),fn}}),bt(c=>{const f=new rA(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),ne(c=>r={...c,guards:TA(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function $A(e,t){return ut(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=n;return 0===c.length&&0===a.length?ie({...n,guardsResult:!0}):function VA(e,t,n,r){return ot(e).pipe(ut(i=>function XA(e,t,n,r,i){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?ie(a.map(f=>{const p=Lo(t)??i,g=Si(f,p);return ir(function UA(e){return e&&Fo(e.canDeactivate)}(g)?g.canDeactivate(e,t,n,r):p.runInContext(()=>g(e,t,n,r))).pipe(nr())})).pipe(Ei()):ie(!0)}(i.component,i.route,n,t,r)),nr(i=>!0!==i,!0))}(c,r,i,e).pipe(ut(f=>f&&function PA(e){return"boolean"==typeof e}(f)?function zA(e,t,n,r){return ot(t).pipe(Sr(i=>Yu(function GA(e,t){return null!==e&&t&&t(new cA(e)),ie(!0)}(i.route.parent,r),function qA(e,t){return null!==e&&t&&t(new dA(e)),ie(!0)}(i.route,r),function WA(e,t,n){const r=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(c=>function NA(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(c)).filter(c=>null!==c).map(c=>Mv(()=>ie(c.guards.map(p=>{const g=Lo(c.node)??n,w=Si(p,g);return ir(function BA(e){return e&&Fo(e.canActivateChild)}(w)?w.canActivateChild(r,e):g.runInContext(()=>w(r,e))).pipe(nr())})).pipe(Ei())));return ie(a).pipe(Ei())}(e,i.path,n),function YA(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ie(!0);const i=r.map(a=>Mv(()=>{const c=Lo(t)??n,f=Si(a,c);return ir(function FA(e){return e&&Fo(e.canActivate)}(f)?f.canActivate(t,e):c.runInContext(()=>f(t,e))).pipe(nr())}));return ie(i).pipe(Ei())}(e,i.route,n))),nr(i=>!0!==i,!0))}(r,a,e,t):ie(f)),ne(f=>({...n,guardsResult:f})))})}(this.environmentInjector,c=>this.events.next(c)),bt(c=>{if(r.guardsResult=c.guardsResult,Ir(c.guardsResult))throw oy(0,c.guardsResult);const f=new iA(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),tr(c=>!!c.guardsResult||(n.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),vd(c=>{if(c.guards.canActivateChecks.length)return ie(c).pipe(bt(f=>{const p=new oA(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),xn(f=>{let p=!1;return ie(f).pipe(function m3(e,t){return ut(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ie(n);let a=0;return ot(i).pipe(Sr(c=>function v3(e,t,n,r){const i=e.routeConfig,a=e._resolve;return void 0!==i?.title&&!Sy(i)&&(a[So]=i.title),function y3(e,t,n,r){const i=function b3(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return ie({});const a={};return ot(i).pipe(ut(c=>function _3(e,t,n,r){const i=Lo(t)??r,a=Si(e,i);return ir(a.resolve?a.resolve(t,n):i.runInContext(()=>a(t,n)))}(e[c],t,n,r).pipe(nr(),bt(f=>{a[c]=f}))),Xu(1),function kM(e){return ne(()=>e)}(a),rr(c=>pd(c)?fn:Co(c)))}(a,e,t,r).pipe(ne(c=>(e._resolvedData=c,e.data=ny(e,n).resolve,i&&Sy(i)&&(e.data[So]=i.title),null)))}(c.route,r,e,t)),bt(()=>a++),Xu(1),ut(c=>a===i.length?ie(n):fn))})}(n.paramsInheritanceStrategy,this.environmentInjector),bt({next:()=>p=!0,complete:()=>{p||(n.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),bt(f=>{const p=new sA(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),vd(c=>{const f=p=>{const g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(bt(w=>{p.component=w}),ne(()=>{})));for(const w of p.children)g.push(...f(w));return g};return Ev(f(c.targetSnapshot.root)).pipe(va(),yi(1))}),vd(()=>this.afterPreactivation()),ne(c=>{const f=function _A(e,t,n){const r=No(e,t._root,n?n._root:void 0);return new ey(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:f}}),bt(c=>{n.currentUrlTree=c.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),n.routerState=c.targetRouterState,"deferred"===n.urlUpdateStrategy&&(c.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,c),n.browserUrlTree=c.urlAfterRedirects)}),((e,t,n)=>ne(r=>(new kA(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c)),yi(1),bt({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Mr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Ku(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),rr(c=>{if(a=!0,ly(c)){ay(c)||(n.navigated=!0,n.restoreHistory(r,!0));const f=new Sa(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),ay(c)){const p=n.urlHandlingStrategy.merge(c.url,n.rawUrlTree),g={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||My(r.source)};n.scheduleNavigation(p,To,null,g,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const f=new id(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(n.errorHandler(c))}catch(p){r.reject(p)}}return fn}))}))}cancelNavigationTransition(n,r,i){const a=new Sa(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(a),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function My(e){return e!==To}let Ay=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===me);return r}getResolvedTitleForRoute(n){return n.data[So]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:function(){return Ee(x3)},providedIn:"root"}),e})(),x3=(()=>{class e extends Ay{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(ae(Dv))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),D3=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:function(){return Ee(S3)},providedIn:"root"}),e})();class C3{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let S3=(()=>{class e extends C3{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=function Of(e){return Mn(()=>{const t=e.prototype.constructor,n=t[kn]||bl(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const a=i[kn]||bl(i);if(a&&a!==n)return a;i=Object.getPrototypeOf(i)}return a=>new a})}(e)))(r||e)}}(),e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Fa=new le("",{providedIn:"root",factory:()=>({})});let I3=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:function(){return Ee(M3)},providedIn:"root"}),e})(),M3=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function A3(e){throw e}function k3(e,t,n){return t.parse("/")}const T3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},N3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ht=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ee(JC),this.isNgZoneEnabled=!1,this.options=Ee(Fa,{optional:!0})||{},this.errorHandler=this.options.errorHandler||A3,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||k3,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ee(I3),this.routeReuseStrategy=Ee(D3),this.urlCreationStrategy=Ee(vA),this.titleStrategy=Ee(Ay),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Lv(Ee(Ii,{optional:!0})??[]),this.navigationTransitions=Ee(Oa),this.urlSerializer=Ee(Io),this.location=Ee(xu),this.isNgZoneEnabled=Ee(Ze)instanceof Ze&&Ze.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ty(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),To,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const a={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const p={...i};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(a.state=p)}const f=this.parseUrl(n);this.scheduleNavigation(f,r,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(hd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:p}=r,g=p?this.currentUrlTree.fragment:c;let w=null;switch(f){case"merge":w={...this.currentUrlTree.queryParams,...a};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=a||null}return null!==w&&(w=this.removeEmptyProps(w)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,w,g??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ir(n)?n:this.parseUrl(n),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,To,null,r)}navigate(n,r={skipLocationChange:!1}){return function R3(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new W(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...T3}:!1===r?{...N3}:r,Ir(n))return Fv(this.currentUrlTree,n,i);const a=this.parseUrl(n);return Fv(this.currentUrlTree,a,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const a=n[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(n,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let f,p,g,w;return c?(f=c.resolve,p=c.reject,g=c.promise):g=new Promise((C,A)=>{f=C,p=A}),w="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:w,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:a,resolve:f,reject:p,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(C=>Promise.reject(C))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class ky{}let O3=(()=>{class e{constructor(n,r,i,a,c){this.router=n,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(tr(n=>n instanceof Mr),Sr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=zs(a.providers,n,`Route: ${a.path}`));const c=a._injector??n,f=a._loadedInjector??c;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(c,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return ot(i).pipe(Nr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ie(null);const a=i.pipe(ut(c=>null===c?ie(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??n,c.routes))));return r.loadComponent&&!r._loadedComponent?ot([a,this.loader.loadComponent(r)]).pipe(Nr()):a})}}return e.\u0275fac=function(n){return new(n||e)(ae(Ht),ae(s0),ae(Pn),ae(ky),ae(yd))},e.\u0275prov=fe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const wd=new le("");let Ty=(()=>{class e{constructor(n,r,i,a,c={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof rd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Mr&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Qv&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qv(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function fp(){throw new Error("invalid")}()},e.\u0275prov=fe({token:e,factory:e.\u0275fac}),e})();var $t=(()=>(($t=$t||{})[$t.COMPLETE=0]="COMPLETE",$t[$t.FAILED=1]="FAILED",$t[$t.REDIRECTING=2]="REDIRECTING",$t))();const Mi=!1;function sr(e,t){return{\u0275kind:e,\u0275providers:t}}const xd=new le("",{providedIn:"root",factory:()=>!1});function Ry(){const e=Ee(Fn);return t=>{const n=e.get(Zs);if(t!==n.components[0])return;const r=e.get(Ht),i=e.get(Ly);1===e.get(Dd)&&r.initialNavigation(),e.get(Py,null,se.Optional)?.setUpPreloading(),e.get(wd,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Ly=new le(Mi?"bootstrap done indicator":"",{factory:()=>new Ye}),Dd=new le(Mi?"initial navigation":"",{providedIn:"root",factory:()=>1});function H3(){let e=[];return e=Mi?[{provide:ws,multi:!0,useFactory:()=>{const t=Ee(Ht);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function hA(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],sr(1,e)}const Py=new le(Mi?"router preloader":"");function $3(e){return sr(0,[{provide:Py,useExisting:O3},{provide:ky,useExisting:e}])}const Uo=!1,Oy=new le(Uo?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),V3=[xu,{provide:Io,useClass:Zu},Ht,Ro,{provide:Ci,useFactory:function Ny(e){return e.routerState.root},deps:[Ht]},yd,Uo?{provide:xd,useValue:!0}:[]];function z3(){return new p0("Router",Ht)}let Fy=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[V3,Uo&&r?.enableTracing?H3().\u0275providers:[],{provide:Ii,multi:!0,useValue:n},{provide:Oy,useFactory:W3,deps:[[Ht,new Gi,new Yi]]},{provide:Fa,useValue:r||{}},r?.useHash?{provide:Cr,useClass:jS}:{provide:Cr,useClass:F0},{provide:wd,useFactory:()=>{const e=Ee(lI),t=Ee(Ze),n=Ee(Fa),r=Ee(Oa),i=Ee(Io);return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ty(i,r,e,t,n)}},r?.preloadingStrategy?$3(r.preloadingStrategy).\u0275providers:[],{provide:p0,multi:!0,useFactory:z3},r?.initialNavigation?X3(r):[],[{provide:By,useFactory:Ry},{provide:h0,multi:!0,useExisting:By}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Ii,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(ae(Oy,8))},e.\u0275mod=ur({type:e}),e.\u0275inj=Wn({imports:[dd]}),e})();function W3(e){if(Uo&&e)throw new W(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function X3(e){return["disabled"===e.initialNavigation?sr(3,[{provide:Ws,multi:!0,useFactory:()=>{const t=Ee(Ht);return()=>{t.setUpLocationChangeListener()}}},{provide:Dd,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?sr(2,[{provide:Dd,useValue:0},{provide:Ws,multi:!0,deps:[Fn],useFactory:t=>{const n=t.get(BS,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(Ht),a=t.get(Ly);(function F3(e,t){e.events.pipe(tr(n=>n instanceof Mr||n instanceof Sa||n instanceof id||n instanceof Ea),ne(n=>n instanceof Mr||n instanceof Ea?$t.COMPLETE:n instanceof Sa&&(0===n.code||1===n.code)?$t.REDIRECTING:$t.FAILED),tr(n=>n!==$t.REDIRECTING),yi(1)).subscribe(()=>{t()})})(i,()=>{r(!0)}),t.get(Oa).afterPreactivation=()=>(r(!0),a.closed?ie(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const By=new le(Uo?"Router Initializer":""),Z3=[];let Q3=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ur({type:e}),e.\u0275inj=Wn({imports:[Fy.forRoot(Z3),Fy]}),e})();var J3=o(872),Cd=o.n(J3);let e5=(()=>{class e{constructor(){this.title="orgChart",this.drop=!0}ngOnInit(){const r=document.getElementById("tree");if(r){Cd().CLINK_CURVE=1.5;var i=new(Cd())(r,{nodeBinding:{field_0:"name",img_0:"img"},enableDragDrop:this.drop,mode:"dark",siblingSeparation:100,levelSeparation:50,template:"belinda",editForm:{saveAndCloseBtn:"save",cancelBtn:"cancel",buttons:{share:null,pdf:null}},align:Cd().align.orientation,clinks:[{from:7,to:1,template:"blue",label:"Reporting Head"},{from:6,to:1,template:"blue",label:"Reporting Head"}],toolbar:{fit:!0,layout:!0,fullScreen:!0}});i.onUpdateNode(c=>{console.log(c)}),i.load([{id:1,name:"Denny Curtis",title:"CEO",img:"https://cdn.balkan.app/shared/2.jpg"},{id:2,pid:1,name:"Ashley Barnett",title:"Sales Manager",img:"https://cdn.balkan.app/shared/3.jpg","Reporting Head":"Denny Curtis"},{id:3,pid:1,name:"Caden Ellison",title:"Dev Manager",img:"https://cdn.balkan.app/shared/4.jpg","Reporting Head":"Denny Curtis"},{id:4,pid:2,name:"Elliot Patel",title:"Sales",img:"https://cdn.balkan.app/shared/5.jpg","Reporting Head":"Ashley Barnett"},{id:5,pid:2,name:"Lynn Hussain",title:"Sales",img:"https://cdn.balkan.app/shared/6.jpg","Reporting Head":"Ashley Barnett"},{id:6,pid:3,name:"Tanner May",title:"Developer",img:"https://cdn.balkan.app/shared/7.jpg","Reporting Head":"Caden Ellison,Denny Curtis"},{id:7,pid:3,name:"Fran Parsons",title:"Developer",img:"https://cdn.balkan.app/shared/8.jpg","Reporting Head":"Caden Ellison,Denny Curtis"}]),i.onDrop(c=>{console.log(c)}),i.onNodeClick(c=>{})}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ja({type:e,selectors:[["app-root"]],decls:1,vars:0,consts:[["id","tree"]],template:function(n,r){1&n&&Os(0,"div",0)},styles:['[_nghost-%COMP%]     [data-n-id="1"] rect{fill:#750000}']}),e})(),t5=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ur({type:e,bootstrap:[e5]}),e.\u0275inj=Wn({imports:[sM,Q3]}),e})();oM().bootstrapModule(t5).catch(e=>console.error(e))}},Ai=>{Ai(Ai.s=639)}]);